<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" href="%PUBLIC_URL%/logo.svg"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>복잡한 컴포넌트에서 UI와 기능을 분리해보자</title><meta name="title" content="복잡한 컴포넌트에서 UI와 기능을 분리해보자"/><meta name="keywords" content="FE, ReactJS, NextJS, javascript, typescript"/><meta name="description" content="협업을 하다보면 남이 짠 코드를 읽고 새로운 기획에 맞게 수정해서 사용하는 경우가 많다. 재사용성을 고려하고 각각의 주요 역할이 잘 분리되어 있는 코드라면 쉽게 수정이 가능하다. 이번 작업에서는 재사용성을 고려하여 UI와 기능을 분리해본 경험을 공유하고자 한다."/><meta http-equiv="Title" content="복잡한 컴포넌트에서 UI와 기능을 분리해보자"/><meta http-equiv="Subject" content="협업을 하다보면 남이 짠 코드를 읽고 새로운 기획에 맞게 수정해서 사용하는 경우가 많다. 재사용성을 고려하고 각각의 주요 역할이 잘 분리되어 있는 코드라면 쉽게 수정이 가능하다. 이번 작업에서는 재사용성을 고려하여 UI와 기능을 분리해본 경험을 공유하고자 한다."/><meta property="og:type" content="article"/><meta property="og:url" content="https://jangky000.github.io"/><meta property="og:title" content="복잡한 컴포넌트에서 UI와 기능을 분리해보자"/><meta property="og:image" content="https://user-images.githubusercontent.com/46799722/170039589-53960bc6-5d7c-4558-a752-1a426e63b7d5.png"/><meta property="og:description" content="협업을 하다보면 남이 짠 코드를 읽고 새로운 기획에 맞게 수정해서 사용하는 경우가 많다. 재사용성을 고려하고 각각의 주요 역할이 잘 분리되어 있는 코드라면 쉽게 수정이 가능하다. 이번 작업에서는 재사용성을 고려하여 UI와 기능을 분리해본 경험을 공유하고자 한다."/><meta property="og:site_name" content="FE는 철"/><meta property="og:locale" content="ko_KR"/><meta property="og:image:width" content="316"/><meta property="og:image:height" content="562"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="복잡한 컴포넌트에서 UI와 기능을 분리해보자"/><meta name="twitter:description" content="협업을 하다보면 남이 짠 코드를 읽고 새로운 기획에 맞게 수정해서 사용하는 경우가 많다. 재사용성을 고려하고 각각의 주요 역할이 잘 분리되어 있는 코드라면 쉽게 수정이 가능하다. 이번 작업에서는 재사용성을 고려하여 UI와 기능을 분리해본 경험을 공유하고자 한다."/><meta name="twitter:image" content="https://user-images.githubusercontent.com/46799722/170039589-53960bc6-5d7c-4558-a752-1a426e63b7d5.png"/><meta name="next-head-count" content="23"/><meta name="google-site-verification" content="DPsgjCONuCmXo7g20zSkClsSwOef21VzS4Ihvwgjna0"/><meta name="naver-site-verification" content="e5e67bc35f28f45a7fcf3ee3ea2f5b081ea5ad87"/><link rel="preload" href="/_next/static/css/3f081657a0e1e97c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3f081657a0e1e97c.css" data-n-g=""/><link rel="preload" href="/_next/static/css/cb5a7feca3fcc903.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cb5a7feca3fcc903.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-dc9b5fe4736780d1.js" defer=""></script><script src="/_next/static/chunks/framework-beeb81ad8570a989.js" defer=""></script><script src="/_next/static/chunks/main-6057cf5d137ac113.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e80974514508b350.js" defer=""></script><script src="/_next/static/chunks/ea88be26-3a3d5e1902b6f677.js" defer=""></script><script src="/_next/static/chunks/689-21aad9bb91ba8b27.js" defer=""></script><script src="/_next/static/chunks/920-f0105d192cf6e544.js" defer=""></script><script src="/_next/static/chunks/46-545578ec1db3644e.js" defer=""></script><script src="/_next/static/chunks/107-4805ee4300a0d61e.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Btitle%5D-a098b202ee45d413.js" defer=""></script><script src="/_next/static/bQcpHPUJVgYV3XLMVBb_b/_buildManifest.js" defer=""></script><script src="/_next/static/bQcpHPUJVgYV3XLMVBb_b/_ssgManifest.js" defer=""></script><style id="__jsx-a6af0e2473afc2ae">footer.jsx-a6af0e2473afc2ae{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;border-top:1px solid#eaeaea;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:20px;width:100%}.copyright.jsx-a6af0e2473afc2ae{margin-bottom:12px}.hits.jsx-a6af0e2473afc2ae{margin-bottom:8px}</style></head><body><div id="__next"><div class="Posts_container__VfzHC"><style data-emotion="css 162alkr-scroll-progress-bar">.css-162alkr-scroll-progress-bar{position:fixed;top:0;left:0;width:100%;height:3px;background:linear-gradient(
    110deg,
    red,
    orange,
    yellow,
    green,
    indigo,
    purple,
    black
  );opacity:0.5;z-index:10;}.css-162alkr-scroll-progress-bar .bar{position:absolute;top:0;right:0;width:100%;height:3px;background:#fff;}</style><div class="css-162alkr-scroll-progress-bar"><div class="bar" style="width:100%"></div></div><style data-emotion="css 1eou086">.css-1eou086{width:90%;max-width:850px;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1eou086 .theme-switch{-webkit-align-self:flex-end;-ms-flex-item-align:flex-end;align-self:flex-end;}.css-1eou086 .wrapper{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;border-bottom:1px solid #ddd;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:140px;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding:0 16px;position:relative;}.css-1eou086 .lottie-wrapper{position:absolute;top:0;bottom:0;left:0;right:0;opacity:0.7;}.css-1eou086 .title{margin-bottom:12px;z-index:1;color:#000;}.css-1eou086 b{font-size:1.4rem;font-weight:bold;}.css-1eou086 .desc{color:#333;font-size:0.9rem;margin-top:0.5rem;}.css-1eou086 a{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}</style><header class="css-1eou086"><style data-emotion="css ecvcn9">.css-ecvcn9{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:58px;height:38px;overflow:hidden;padding:12px;box-sizing:border-box;position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;z-index:0;vertical-align:middle;}@media print{.css-ecvcn9{-webkit-print-color-adjust:exact;color-adjust:exact;}}</style><span class="MuiSwitch-root MuiSwitch-sizeMedium theme-switch css-ecvcn9"><style data-emotion="css jl41ik">.css-jl41ik{position:absolute;top:0;left:0;z-index:1;color:#fff;-webkit-transition:left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,-webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;}.css-jl41ik.Mui-checked{-webkit-transform:translateX(20px);-moz-transform:translateX(20px);-ms-transform:translateX(20px);transform:translateX(20px);}.css-jl41ik.Mui-disabled{color:#f5f5f5;}.css-jl41ik.Mui-checked+.MuiSwitch-track{opacity:0.5;}.css-jl41ik.Mui-disabled+.MuiSwitch-track{opacity:0.12;}.css-jl41ik .MuiSwitch-input{left:-100%;width:300%;}.css-jl41ik:hover{background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.css-jl41ik:hover{background-color:transparent;}}.css-jl41ik.Mui-checked{color:#556cd6;}.css-jl41ik.Mui-checked:hover{background-color:rgba(85, 108, 214, 0.04);}@media (hover: none){.css-jl41ik.Mui-checked:hover{background-color:transparent;}}.css-jl41ik.Mui-checked.Mui-disabled{color:rgb(190, 199, 239);}.css-jl41ik.Mui-checked+.MuiSwitch-track{background-color:#556cd6;}</style><style data-emotion="css niqsiq">.css-niqsiq{padding:9px;border-radius:50%;position:absolute;top:0;left:0;z-index:1;color:#fff;-webkit-transition:left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,-webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;}.css-niqsiq.Mui-checked{-webkit-transform:translateX(20px);-moz-transform:translateX(20px);-ms-transform:translateX(20px);transform:translateX(20px);}.css-niqsiq.Mui-disabled{color:#f5f5f5;}.css-niqsiq.Mui-checked+.MuiSwitch-track{opacity:0.5;}.css-niqsiq.Mui-disabled+.MuiSwitch-track{opacity:0.12;}.css-niqsiq .MuiSwitch-input{left:-100%;width:300%;}.css-niqsiq:hover{background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.css-niqsiq:hover{background-color:transparent;}}.css-niqsiq.Mui-checked{color:#556cd6;}.css-niqsiq.Mui-checked:hover{background-color:rgba(85, 108, 214, 0.04);}@media (hover: none){.css-niqsiq.Mui-checked:hover{background-color:transparent;}}.css-niqsiq.Mui-checked.Mui-disabled{color:rgb(190, 199, 239);}.css-niqsiq.Mui-checked+.MuiSwitch-track{background-color:#556cd6;}</style><style data-emotion="css wvvgvo">.css-wvvgvo{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;padding:9px;border-radius:50%;position:absolute;top:0;left:0;z-index:1;color:#fff;-webkit-transition:left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,-webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;}.css-wvvgvo::-moz-focus-inner{border-style:none;}.css-wvvgvo.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-wvvgvo{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-wvvgvo.Mui-checked{-webkit-transform:translateX(20px);-moz-transform:translateX(20px);-ms-transform:translateX(20px);transform:translateX(20px);}.css-wvvgvo.Mui-disabled{color:#f5f5f5;}.css-wvvgvo.Mui-checked+.MuiSwitch-track{opacity:0.5;}.css-wvvgvo.Mui-disabled+.MuiSwitch-track{opacity:0.12;}.css-wvvgvo .MuiSwitch-input{left:-100%;width:300%;}.css-wvvgvo:hover{background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.css-wvvgvo:hover{background-color:transparent;}}.css-wvvgvo.Mui-checked{color:#556cd6;}.css-wvvgvo.Mui-checked:hover{background-color:rgba(85, 108, 214, 0.04);}@media (hover: none){.css-wvvgvo.Mui-checked:hover{background-color:transparent;}}.css-wvvgvo.Mui-checked.Mui-disabled{color:rgb(190, 199, 239);}.css-wvvgvo.Mui-checked+.MuiSwitch-track{background-color:#556cd6;}</style><span class="MuiButtonBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary PrivateSwitchBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary css-wvvgvo"><style data-emotion="css 1m9pwf3">.css-1m9pwf3{cursor:inherit;position:absolute;opacity:0;width:100%;height:100%;top:0;left:0;margin:0;padding:0;z-index:1;}</style><input class="PrivateSwitchBase-input MuiSwitch-input css-1m9pwf3" type="checkbox"/><style data-emotion="css 19gndve">.css-19gndve{box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);background-color:currentColor;width:20px;height:20px;border-radius:50%;}</style><span class="MuiSwitch-thumb css-19gndve"></span></span><style data-emotion="css 1ju1kxc">.css-1ju1kxc{height:100%;width:100%;border-radius:7px;z-index:-1;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;background-color:#000;opacity:0.38;}</style><span class="MuiSwitch-track css-1ju1kxc"></span></span><div class="wrapper"><div class="lottie-wrapper"><style data-emotion="css 1gybl1y-styled-lottie">.css-1gybl1y-styled-lottie{width:100%;height:100%;}</style><div width="100%" height="100%" class="css-1gybl1y-styled-lottie"></div></div><div class="title"><style data-emotion="css dtw560">.css-dtw560{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}</style><a class="css-dtw560" href="/"><style data-emotion="css kcbsw7-styled-lottie">.css-kcbsw7-styled-lottie{width:70px;height:70px;}</style><div width="70px" height="70px" class="css-kcbsw7-styled-lottie"></div><b>FE는 철</b></a><div class="desc">FE 개발자로 일하면서 겪은 경험담을 정리합니다.</div></div></div></header><div style="opacity:0"><style data-emotion="css 674psz-post-layout">.css-674psz-post-layout{margin:30px auto;max-width:850px;width:90%;}.css-674psz-post-layout img{max-width:100%;}.css-674psz-post-layout .post-desc{border-radius:4px;background-color:#BDCC94;padding:20px;margin:20px auto;color:#FFFFFF;font-size:1.1rem;}.css-674psz-post-layout .post-contents a{color:#95998A;-webkit-text-decoration:underline;text-decoration:underline;}.css-674psz-post-layout .post-contents a:hover{color:#000;cursor:pointer;}.css-674psz-post-layout .post-contents code{background:rgba(135, 131, 120, 0.15);color:#eb5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;}</style><main class="css-674psz-post-layout"><div><h2>복잡한 컴포넌트에서 UI와 기능을 분리해보자</h2></div><small>2022.02.19<!-- --> 작성 / @<!-- -->jangky000</small><hr/><div class="post-desc">협업을 하다보면 남이 짠 코드를 읽고 새로운 기획에 맞게 수정해서 사용하는 경우가 많다. 재사용성을 고려하고 각각의 주요 역할이 잘 분리되어 있는 코드라면 쉽게 수정이 가능하다. 이번 작업에서는 재사용성을 고려하여 UI와 기능을 분리해본 경험을 공유하고자 한다.</div><div class="post-contents"><h1>ImageUploader라는 컴포넌트가 있었다.</h1><h2>문제점</h2><ul><li><code>ImageUploader</code>라는 컴포넌트 내부에 <code>버튼(UI)</code> + <code>이미지 파일을 업로드하는 기능</code>이 있다.</li><li><code>ImageUploader</code>라는 이름에서 이 컴포넌트가 버튼이라는 것을 유추하기 어렵다.</li><li>같은 기능을 하는 두 가지 스타일의 버튼이 필요한데, 버튼 스타일을 변경하기 어렵다.</li><li><code>visualType 변경</code>, <code>삭제 버튼의 출력 여부</code> 등 이미지 업로드 기능과 관련이 적은 다른 기능들이 혼재되어 있다.</li><li>관심사를 분리하고, 하나의 컴포넌트가 하나의 메인 기능을 담당해야 한다. (단일 책임의 원칙)<ul><li>스타일 기능 <code>Button</code></li><li>이미지 업로드 기능 <code>ImageUploaderComposition</code></li></ul></li></ul><h2>변경 전</h2><p><img alt="1" src="https://user-images.githubusercontent.com/46799722/154789453-c6fea7ef-e4d8-4b2e-8411-04fc7e7eae3e.png"/>
<img alt="2" src="https://user-images.githubusercontent.com/46799722/154789454-24b0539d-feb8-421a-8982-7b4f137448d0.png"/></p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-tsx" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">// SmsCreateStep2.tsx</span><span>
</span>
<span></span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>
</span><span></span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">sms-create-item</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">  </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">sms-create-item-header</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#999">&gt;</span><span class="token" style="color:#999">{</span><span>i18next</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">t</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&#x27;이미지&#x27;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">  </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">sms-create-image</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">    </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">sms-create-image-desc</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">      </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">* </span><span class="token" style="color:#999">{</span><span>i18next</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">t</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&#x27;권장 이미지 사이즈: 320px*480px (모바일 기기 최적화)&#x27;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">      </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">* </span><span class="token" style="color:#999">{</span><span>i18next</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">t</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&#x27;파일 형식: JPG, JPEG&#x27;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">      </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">* </span><span class="token" style="color:#999">{</span><span>i18next</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">t</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&#x27;파일 용량: 최대 300kb&#x27;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">    </span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">    </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#DD4A68">ImageUploader</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">      </span><span class="token" style="color:#690">handleUpload</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#DD4A68">updateImage</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#905">0</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">      </span><span class="token" style="color:#690">index</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">0</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">      </span><span class="token" style="color:#690">endPoint</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">bizSmsCreate</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">      </span><span class="token" style="color:#690">uploadBtnLabel</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">i18next</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript method property-access" style="color:#905">t</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#690">&#x27;파일 선택&#x27;</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">      </span><span class="token" style="color:#690">isExistFile</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span class="token script language-javascript" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span class="token script language-javascript" style="color:#905">props</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript property-access" style="color:#905">material</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript property-access" style="color:#905">images</span><span class="token script language-javascript" style="color:#999">[</span><span class="token script language-javascript" style="color:#905">0</span><span class="token script language-javascript" style="color:#999">]</span><span class="token script language-javascript" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?.</span><span class="token script language-javascript" style="color:#905">img_url</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">      </span><span class="token" style="color:#690">handleRemove</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript arrow" style="color:#905">=&gt;</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">        </span><span class="token script language-javascript" style="color:#07a">const</span><span class="token script language-javascript" style="color:#905"> tempMaterial</span><span class="token script language-javascript" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript maybe-class-name" style="color:#905">SmsMaterial</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token script language-javascript" style="color:#905"> _</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript method property-access" style="color:#905">cloneDeep</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#905">props</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript property-access" style="color:#905">material</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">;</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">        props</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript method property-access" style="color:#905">handleUpdate</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">          </span><span class="token script language-javascript spread" style="color:#905">...</span><span class="token script language-javascript" style="color:#905">tempMaterial</span><span class="token script language-javascript" style="color:#999">,</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">          images</span><span class="token script language-javascript" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#999">[</span><span class="token script language-javascript" style="color:#999">]</span><span class="token script language-javascript" style="color:#999">,</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">        </span><span class="token script language-javascript" style="color:#999">}</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">;</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">      </span><span class="token script language-javascript" style="color:#999">}</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">    </span><span class="token" style="color:#999">/&gt;</span><span class="token plain-text">
</span><span class="token plain-text">  </span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text"></span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span>
</span><span></span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span></code></pre><h2>하나의 컴포넌트에서 하는 일이 너무 많다.</h2><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-tsx" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">// ImageUploader.tsx</span><span>
</span>
<span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">interface</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">ImageUploaderProp</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>  visualType</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token maybe-class-name">ImageUploaderVisualType</span><span class="token" style="color:#999">;</span><span>
</span><span>  handleUpload</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter">file</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">FileInter</span><span class="token parameter"> </span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">|</span><span class="token parameter"> </span><span class="token parameter known-class-name" style="color:#DD4A68">Error</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#07a">void</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// parent material 업데이트</span><span>
</span><span>  verify</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter">file</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">File</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token known-class-name" style="color:#DD4A68">Promise</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#690">boolean</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">|</span><span> </span><span class="token nil" style="color:#07a">undefined</span><span class="token" style="color:#999">;</span><span>
</span><span>  image</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">string</span><span class="token" style="color:#999">;</span><span>
</span><span>  index</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// id 생성에 사용</span><span>
</span><span>  endPoint</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">string</span><span class="token" style="color:#999">;</span><span>
</span><span>  uploadBtnLabel</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">string</span><span class="token" style="color:#999">;</span><span>
</span><span>  isValid</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">boolean</span><span class="token" style="color:#999">;</span><span>
</span><span>  isExistFile</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">boolean</span><span class="token" style="color:#999">;</span><span>
</span><span>  handleRemove</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#07a">void</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span>
</span>
<span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">const</span><span> </span><span class="token maybe-class-name">ImageUploader</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span>props</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token maybe-class-name">ImageUploaderProp</span><span class="token" style="color:#999">)</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token parameter maybe-class-name">ReactElement</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>  </span><span class="token" style="color:#07a">const</span><span> i18next </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">useTranslation</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>  </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">{</span><span> uploadBtnLabel </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&#x27;파일 선택&#x27;</span><span> </span><span class="token" style="color:#999">}</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> props</span><span class="token" style="color:#999">;</span><span>
</span><span>  </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">[</span><span>loaded</span><span class="token" style="color:#999">,</span><span> setLoaded</span><span class="token" style="color:#999">]</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">useState</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">false</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>  </span><span class="token" style="color:#07a">const</span><span> fileInput</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token maybe-class-name">React</span><span class="token" style="color:#999">.</span><span class="token property-access maybe-class-name">Ref</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token maybe-class-name">HTMLInputElement</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">useRef</span><span class="token" style="color:#999">(</span><span class="token null nil" style="color:#07a">null</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>  </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">{</span><span> dialogStore </span><span class="token" style="color:#999">}</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">useDataStore</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span>
<span>  </span><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable" style="color:#DD4A68">uploadImage</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter">event</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">React</span><span class="token parameter" style="color:#999">.</span><span class="token parameter property-access maybe-class-name">ChangeEvent</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token parameter maybe-class-name">HTMLInputElement</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token" style="color:#07a">const</span><span> file</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token null nil" style="color:#07a">null</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">|</span><span> </span><span class="token maybe-class-name">File</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> event </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> event</span><span class="token" style="color:#999">.</span><span class="token property-access">target</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> event</span><span class="token" style="color:#999">.</span><span class="token property-access">target</span><span class="token" style="color:#999">.</span><span class="token property-access">files</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> event</span><span class="token" style="color:#999">.</span><span class="token property-access">target</span><span class="token" style="color:#999">.</span><span class="token property-access">files</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token" style="color:#07a">let</span><span> isChecked </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>props</span><span class="token" style="color:#999">.</span><span class="token property-access">verify</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>      isChecked </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token control-flow" style="color:#07a">await</span><span> props</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">verify</span><span class="token" style="color:#999">(</span><span>file </span><span class="token module" style="color:#07a">as</span><span> </span><span class="token maybe-class-name">File</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span> </span><span class="token module" style="color:#07a">as</span><span> </span><span class="token" style="color:#690">boolean</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span>
<span>    </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>isChecked</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>      </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token maybe-class-name">FileAPI</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">uploadImage</span><span class="token" style="color:#999">(</span><span>file</span><span class="token" style="color:#999">,</span><span> props</span><span class="token" style="color:#999">.</span><span class="token property-access">endPoint</span><span class="token" style="color:#999">)</span><span>
</span><span>        </span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">then</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter">res</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>          </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>props</span><span class="token" style="color:#999">.</span><span class="token property-access">handleUpload</span><span class="token" style="color:#999">)</span><span> props</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">handleUpload</span><span class="token" style="color:#999">(</span><span>res</span><span class="token" style="color:#999">.</span><span class="token property-access">file</span><span> </span><span class="token module" style="color:#07a">as</span><span> </span><span class="token maybe-class-name">FileInter</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>          </span><span class="token" style="color:#DD4A68">setLoaded</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>          </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token maybe-class-name">Observable</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">of</span><span class="token" style="color:#999">(</span><span>res</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>        </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span>
</span><span>        </span><span class="token" style="color:#999">.</span><span class="token control-flow" style="color:#07a">catch</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>          dialogStore</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">showMessage</span><span class="token" style="color:#999">(</span><span>i18next</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">t</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&#x27;알림&#x27;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span> i18next</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">t</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&#x27;업로드에 실패하였습니다.&#x27;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>          </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>fileInput</span><span class="token" style="color:#999">.</span><span class="token property-access">current</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>            fileInput</span><span class="token" style="color:#999">.</span><span class="token property-access">current</span><span class="token" style="color:#999">.</span><span class="token property-access">value</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&#x27;&#x27;</span><span class="token" style="color:#999">;</span><span>
</span><span>          </span><span class="token" style="color:#999">}</span><span>
</span><span>        </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span><span>    </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>fileInput</span><span class="token" style="color:#999">.</span><span class="token property-access">current</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>      fileInput</span><span class="token" style="color:#999">.</span><span class="token property-access">current</span><span class="token" style="color:#999">.</span><span class="token property-access">value</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&#x27;&#x27;</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span><span>    </span><span class="token control-flow" style="color:#07a">return</span><span> isChecked</span><span class="token" style="color:#999">;</span><span>
</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span>
<span>  </span><span class="token" style="color:#DD4A68">useEffect</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>props</span><span class="token" style="color:#999">.</span><span class="token property-access">image</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#DD4A68">setLoaded</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span>
<span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span>    </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">image-uploader-wrapper</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">style</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905"> position</span><span class="token script language-javascript" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#690">&#x27;relative&#x27;</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#999">}</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">      </span><span class="token" style="color:#999">{</span><span class="token" style="color:#999">(</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span>props</span><span class="token" style="color:#999">.</span><span class="token property-access">visualType</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">||</span><span> props</span><span class="token" style="color:#999">.</span><span class="token property-access">visualType</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">===</span><span> </span><span class="token" style="color:#690">&#x27;normal&#x27;</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span>        </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">normal</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">css</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#999">[</span><span class="token script language-javascript" style="color:#905">normalWrapperStyle</span><span class="token script language-javascript" style="color:#999">]</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">          </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">label</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">htmlFor</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript template-string" style="color:#905">imageUploader-</span><span class="token script language-javascript template-string interpolation interpolation-punctuation" style="color:#905">${</span><span class="token script language-javascript template-string interpolation" style="color:#905">props</span><span class="token script language-javascript template-string interpolation" style="color:#905">.</span><span class="token script language-javascript template-string interpolation property-access" style="color:#905">index</span><span class="token script language-javascript template-string interpolation interpolation-punctuation" style="color:#905">}</span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">css</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">labelCss</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">            </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">input</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">type</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">file</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">image-uploader-input</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">accept</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">image/*</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">css</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">inputCss</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">id</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript template-string" style="color:#905">imageUploader-</span><span class="token script language-javascript template-string interpolation interpolation-punctuation" style="color:#905">${</span><span class="token script language-javascript template-string interpolation" style="color:#905">props</span><span class="token script language-javascript template-string interpolation" style="color:#905">.</span><span class="token script language-javascript template-string interpolation property-access" style="color:#905">index</span><span class="token script language-javascript template-string interpolation interpolation-punctuation" style="color:#905">}</span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">ref</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">fileInput</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">onChange</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">uploadImage</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">            </span><span class="token" style="color:#999">/&gt;</span><span class="token plain-text">
</span><span class="token plain-text">            </span><span class="token" style="color:#999">{</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span>loaded </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span>              </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#DD4A68">Button</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">                </span><span class="token" style="color:#690">className</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript template-string" style="color:#905">image-updater-btn </span><span class="token script language-javascript template-string interpolation interpolation-punctuation" style="color:#905">${</span><span class="token script language-javascript template-string interpolation" style="color:#905">!</span><span class="token script language-javascript template-string interpolation" style="color:#905">props</span><span class="token script language-javascript template-string interpolation" style="color:#905">.</span><span class="token script language-javascript template-string interpolation property-access" style="color:#905">isValid</span><span class="token script language-javascript template-string interpolation" style="color:#905"> </span><span class="token script language-javascript template-string interpolation" style="color:#905">?</span><span class="token script language-javascript template-string interpolation" style="color:#905"> </span><span class="token script language-javascript template-string interpolation" style="color:#905">&#x27;invalid&#x27;</span><span class="token script language-javascript template-string interpolation" style="color:#905"> </span><span class="token script language-javascript template-string interpolation" style="color:#905">:</span><span class="token script language-javascript template-string interpolation" style="color:#905"> </span><span class="token script language-javascript template-string interpolation" style="color:#905">&#x27;&#x27;</span><span class="token script language-javascript template-string interpolation interpolation-punctuation" style="color:#905">}</span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">                </span><span class="token" style="color:#690">onClick</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript arrow" style="color:#905">=&gt;</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#DD4A68">setLoaded</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span class="token script language-javascript" style="color:#905">loaded</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">                </span><span class="token" style="color:#690">label</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">uploadBtnLabel</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#999">/&gt;</span><span>
</span><span>            </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token plain-text">
</span><span class="token plain-text">            </span><span class="token" style="color:#999">{</span><span>loaded </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span>              </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#DD4A68">Button</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">image-updater-btn</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">onClick</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript arrow" style="color:#905">=&gt;</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#DD4A68">setLoaded</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span class="token script language-javascript" style="color:#905">loaded</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">label</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">uploadBtnLabel</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905"> </span><span class="token" style="color:#999">/&gt;</span><span>
</span><span>            </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token plain-text">
</span><span class="token plain-text">          </span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">label</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">          </span><span class="token" style="color:#999">{</span><span>props</span><span class="token" style="color:#999">.</span><span class="token property-access">handleRemove</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> props</span><span class="token" style="color:#999">.</span><span class="token property-access">isExistFile</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span>            </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#DD4A68">Button</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">style</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905"> marginLeft</span><span class="token script language-javascript" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#690">&#x27;12px&#x27;</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#999">}</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">label</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">i18next</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript method property-access" style="color:#905">t</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#690">&#x27;삭제&#x27;</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">appearance</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">secondary</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">onClick</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript arrow" style="color:#905">=&gt;</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">                </span><span class="token script language-javascript control-flow" style="color:#07a">if</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#905">props</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript property-access" style="color:#905">handleRemove</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">                  props</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript method property-access" style="color:#905">handleRemove</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">;</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">                </span><span class="token script language-javascript" style="color:#999">}</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">              </span><span class="token script language-javascript" style="color:#999">}</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">            </span><span class="token" style="color:#999">/&gt;</span><span>
</span><span>          </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token plain-text">
</span><span class="token plain-text">        </span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span>
</span><span>      </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token plain-text">
</span><span class="token plain-text">      </span><span class="token" style="color:#999">{</span><span>props</span><span class="token" style="color:#999">.</span><span class="token property-access">visualType</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">===</span><span> </span><span class="token" style="color:#690">&#x27;small&#x27;</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span>        </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript template-string" style="color:#905">small </span><span class="token script language-javascript template-string interpolation interpolation-punctuation" style="color:#905">${</span><span class="token script language-javascript template-string interpolation" style="color:#905">props</span><span class="token script language-javascript template-string interpolation" style="color:#905">.</span><span class="token script language-javascript template-string interpolation property-access" style="color:#905">isValid</span><span class="token script language-javascript template-string interpolation" style="color:#905"> </span><span class="token script language-javascript template-string interpolation" style="color:#905">?</span><span class="token script language-javascript template-string interpolation" style="color:#905"> </span><span class="token script language-javascript template-string interpolation" style="color:#905">&#x27;&#x27;</span><span class="token script language-javascript template-string interpolation" style="color:#905"> </span><span class="token script language-javascript template-string interpolation" style="color:#905">:</span><span class="token script language-javascript template-string interpolation" style="color:#905"> </span><span class="token script language-javascript template-string interpolation" style="color:#905">&#x27;invalid&#x27;</span><span class="token script language-javascript template-string interpolation interpolation-punctuation" style="color:#905">}</span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">css</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#999">[</span><span class="token script language-javascript" style="color:#905">smallWrapperStyle</span><span class="token script language-javascript" style="color:#999">]</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">          </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">label</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">            </span><span class="token" style="color:#690">htmlFor</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript template-string" style="color:#905">imageUploader-</span><span class="token script language-javascript template-string interpolation interpolation-punctuation" style="color:#905">${</span><span class="token script language-javascript template-string interpolation" style="color:#905">props</span><span class="token script language-javascript template-string interpolation" style="color:#905">.</span><span class="token script language-javascript template-string interpolation property-access" style="color:#905">index</span><span class="token script language-javascript template-string interpolation interpolation-punctuation" style="color:#905">}</span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">            </span><span class="token" style="color:#690">css</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">css</span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript template-string css language-css" style="color:#905">
</span><span class="token script language-javascript template-string css language-css" style="color:#905">              </span><span class="token script language-javascript template-string css language-css" style="color:#905">display</span><span class="token script language-javascript template-string css language-css" style="color:#905">:</span><span class="token script language-javascript template-string css language-css" style="color:#905"> flex</span><span class="token script language-javascript template-string css language-css" style="color:#905">;</span><span class="token script language-javascript template-string css language-css" style="color:#905">
</span><span class="token script language-javascript template-string css language-css" style="color:#905">              </span><span class="token script language-javascript template-string css language-css" style="color:#905">align-items</span><span class="token script language-javascript template-string css language-css" style="color:#905">:</span><span class="token script language-javascript template-string css language-css" style="color:#905"> center</span><span class="token script language-javascript template-string css language-css" style="color:#905">;</span><span class="token script language-javascript template-string css language-css" style="color:#905">
</span><span class="token script language-javascript template-string css language-css" style="color:#905">              </span><span class="token script language-javascript template-string css language-css" style="color:#905">gap</span><span class="token script language-javascript template-string css language-css" style="color:#905">:</span><span class="token script language-javascript template-string css language-css" style="color:#905"> </span><span class="token script language-javascript template-string css language-css" style="color:#905">8</span><span class="token script language-javascript template-string css language-css unit" style="color:#905">px</span><span class="token script language-javascript template-string css language-css" style="color:#905">;</span><span class="token script language-javascript template-string css language-css" style="color:#905">
</span><span class="token script language-javascript template-string css language-css" style="color:#905">            </span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">          </span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">            </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">input</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">type</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">file</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">image-uploader-input</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">accept</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">image/*</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">css</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">inputCss</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">id</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript template-string" style="color:#905">imageUploader-</span><span class="token script language-javascript template-string interpolation interpolation-punctuation" style="color:#905">${</span><span class="token script language-javascript template-string interpolation" style="color:#905">props</span><span class="token script language-javascript template-string interpolation" style="color:#905">.</span><span class="token script language-javascript template-string interpolation property-access" style="color:#905">index</span><span class="token script language-javascript template-string interpolation interpolation-punctuation" style="color:#905">}</span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">onChange</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript parameter" style="color:#905">event</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript arrow" style="color:#905">=&gt;</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">                </span><span class="token script language-javascript" style="color:#DD4A68">uploadImage</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#905">event</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">;</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">              </span><span class="token script language-javascript" style="color:#999">}</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">            </span><span class="token" style="color:#999">/&gt;</span><span class="token plain-text">
</span><span class="token plain-text">            </span><span class="token" style="color:#999">{</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span class="token" style="color:#999">(</span><span>loaded </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> props</span><span class="token" style="color:#999">.</span><span class="token property-access">image</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span>              </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">css</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">smallButtonCss</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">image-uploader-btn</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">                </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#DD4A68">FontIcon</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">name</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">ic-img</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">color</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">#7e8696</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">size</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">20px</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905"> </span><span class="token" style="color:#999">/&gt;</span><span class="token plain-text">
</span><span class="token plain-text">              </span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span>
</span><span>            </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token plain-text">
</span><span class="token plain-text">            </span><span class="token" style="color:#999">{</span><span>loaded </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> props</span><span class="token" style="color:#999">.</span><span class="token property-access">image</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">img</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">css</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">smallImageCss</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">src</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">props</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript property-access" style="color:#905">image</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">alt</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">slide-content</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905"> </span><span class="token" style="color:#999">/&gt;</span><span class="token" style="color:#999">}</span><span class="token plain-text">
</span><span class="token plain-text">            </span><span class="token" style="color:#999">{</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span>loaded </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span>              </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#DD4A68">Button</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">                </span><span class="token" style="color:#690">className</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript template-string" style="color:#905">image-updater-btn </span><span class="token script language-javascript template-string interpolation interpolation-punctuation" style="color:#905">${</span><span class="token script language-javascript template-string interpolation" style="color:#905">!</span><span class="token script language-javascript template-string interpolation" style="color:#905">props</span><span class="token script language-javascript template-string interpolation" style="color:#905">.</span><span class="token script language-javascript template-string interpolation property-access" style="color:#905">isValid</span><span class="token script language-javascript template-string interpolation" style="color:#905"> </span><span class="token script language-javascript template-string interpolation" style="color:#905">?</span><span class="token script language-javascript template-string interpolation" style="color:#905"> </span><span class="token script language-javascript template-string interpolation" style="color:#905">&#x27;invalid&#x27;</span><span class="token script language-javascript template-string interpolation" style="color:#905"> </span><span class="token script language-javascript template-string interpolation" style="color:#905">:</span><span class="token script language-javascript template-string interpolation" style="color:#905"> </span><span class="token script language-javascript template-string interpolation" style="color:#905">&#x27;&#x27;</span><span class="token script language-javascript template-string interpolation interpolation-punctuation" style="color:#905">}</span><span class="token script language-javascript template-string template-punctuation" style="color:#905">`</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">                </span><span class="token" style="color:#690">onClick</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript arrow" style="color:#905">=&gt;</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#DD4A68">setLoaded</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span class="token script language-javascript" style="color:#905">loaded</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">                </span><span class="token" style="color:#690">label</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">i18next</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript method property-access" style="color:#905">t</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#690">&#x27;업로드&#x27;</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#999">/&gt;</span><span>
</span><span>            </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token plain-text">
</span><span class="token plain-text">            </span><span class="token" style="color:#999">{</span><span>loaded </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span>              </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#DD4A68">Button</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">image-updater-btn</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">onClick</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript arrow" style="color:#905">=&gt;</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#DD4A68">setLoaded</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span class="token script language-javascript" style="color:#905">loaded</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">label</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">i18next</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript method property-access" style="color:#905">t</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#690">&#x27;업로드&#x27;</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905"> </span><span class="token" style="color:#999">/&gt;</span><span>
</span><span>            </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token plain-text">
</span><span class="token plain-text">          </span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">label</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">          </span><span class="token" style="color:#999">{</span><span>props</span><span class="token" style="color:#999">.</span><span class="token property-access">handleRemove</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> props</span><span class="token" style="color:#999">.</span><span class="token property-access">isExistFile</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span>            </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#DD4A68">Button</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">style</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905"> marginLeft</span><span class="token script language-javascript" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#690">&#x27;8px&#x27;</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#999">}</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">label</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">i18next</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript method property-access" style="color:#905">t</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#690">&#x27;이미지 삭제&#x27;</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">appearance</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">secondary</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">              </span><span class="token" style="color:#690">onClick</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript arrow" style="color:#905">=&gt;</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">                </span><span class="token script language-javascript control-flow" style="color:#07a">if</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#905">props</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript property-access" style="color:#905">handleRemove</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">                  props</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript method property-access" style="color:#905">handleRemove</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">;</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">                </span><span class="token script language-javascript" style="color:#999">}</span><span class="token script language-javascript" style="color:#905">
</span><span class="token script language-javascript" style="color:#905">              </span><span class="token script language-javascript" style="color:#999">}</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">            </span><span class="token" style="color:#999">/&gt;</span><span>
</span><span>          </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token plain-text">
</span><span class="token plain-text">        </span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span>
</span><span>      </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token plain-text">
</span><span class="token plain-text">    </span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span>
</span><span>  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span>
<span></span><span class="token maybe-class-name">ImageUploader</span><span class="token" style="color:#999">.</span><span class="token property-access">defaultProps</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>  isValid</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">,</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span></code></pre><h2>변경 후</h2><ul><li>컴포넌트를 다음과 같이 분리</li><li><code>이미지 리스트를 관리하는 컴포넌트(SmsInputImageList)</code></li><li><code>이미지 하나를 관리하는 컴포넌트(InputImageCard, InputImageEmptyCard)</code></li><li><code>이미지 업로드 기능을 담당하는 컴포넌트(ImageUploaderComposition)</code></li><li><code>Button</code>을 <code>ImageUploaderComposition</code> 의 children으로 전달하여 업로드 기능을 수행</li><li>+<!-- --> 디자인이 조금 수정되었다.</li></ul><p><img alt="3" src="https://user-images.githubusercontent.com/46799722/154789455-b28a31e2-e827-459e-8d9c-da77a3741569.png"/>
<img alt="4" src="https://user-images.githubusercontent.com/46799722/154789456-acef377a-3590-49b5-99e5-e449c2f67cdf.png"/></p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-tsx" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">// SmsCreateStep2.tsx</span><span>
</span>
<span></span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>
</span><span></span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">sms-create-item</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">  </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">sms-create-item-header</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#999">&gt;</span><span class="token" style="color:#999">{</span><span>i18next</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">t</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&#x27;이미지&#x27;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">  </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">sms-create-image</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">    </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">sms-create-image-desc</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">      </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">* </span><span class="token" style="color:#999">{</span><span>i18next</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">t</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&#x27;최대 첨부 가능 이미지 개수: {{count}}개&#x27;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#999">{</span><span> count</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">3</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">      </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">* </span><span class="token" style="color:#999">{</span><span>i18next</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">t</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&#x27;권장 이미지 사이즈: 320px x 480px (모바일 기기 최적화)&#x27;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">      </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">* </span><span class="token" style="color:#999">{</span><span>i18next</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">t</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&#x27;파일 형식: JPG, JPEG&#x27;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">      </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">* </span><span class="token" style="color:#999">{</span><span>i18next</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">t</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&#x27;파일 용량: 이미지 당 300KB&#x27;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">    </span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">    </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#DD4A68">SmsInputImageList</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">      </span><span class="token" style="color:#690">imageInfoList</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">images</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">      </span><span class="token" style="color:#690">handleImageInfoList</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">handleImageInfoList</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">    </span><span class="token" style="color:#999">/&gt;</span><span class="token plain-text">
</span><span class="token plain-text">  </span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text"></span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span>
</span><span></span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span></code></pre><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-tsx" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">// InputImageEmptyCard.tsx</span><span>
</span><span></span><span class="token" style="color:slategray">// [이미지 썸네일] [파일선택 버튼] UI</span><span>
</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">const</span><span> </span><span class="token maybe-class-name">InputImageEmptyCard</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">FC</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token maybe-class-name">InputImageEmptyCardProps</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter">
</span><span class="token parameter">  addNewImage</span><span class="token parameter" style="color:#999">,</span><span class="token parameter">
</span><span class="token parameter">  fileValidation</span><span class="token parameter" style="color:#999">,</span><span class="token parameter">
</span><span class="token parameter"></span><span class="token parameter" style="color:#999">}</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">InputImageEmptyCardProps</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>  </span><span class="token" style="color:#07a">const</span><span> i18next </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">useTranslation</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span>    </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#DD4A68">StyledImageCard</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">      </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">image-card-wrapper</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">        </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">className</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">image-card-thumbnail</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">          </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#DD4A68">FontIcon</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">name</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">ic-img</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">size</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">20px</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">color</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">#53585f</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905"> </span><span class="token" style="color:#999">/&gt;</span><span class="token plain-text">
</span><span class="token plain-text">        </span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">        </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#DD4A68">ImageUploaderComposition</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">          </span><span class="token" style="color:#690">uploadImageAPIEndPoint</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">bizSmsCreate</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">          </span><span class="token" style="color:#690">handleUpload</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">addNewImage</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">          </span><span class="token" style="color:#690">fileValidation</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">fileValidation</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905">
</span><span class="token" style="color:#905">        </span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">          </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#DD4A68">Button</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">appearance</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">primary</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">label</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">i18next</span><span class="token script language-javascript" style="color:#999">.</span><span class="token script language-javascript method property-access" style="color:#905">t</span><span class="token script language-javascript" style="color:#999">(</span><span class="token script language-javascript" style="color:#690">&#x27;파일 선택&#x27;</span><span class="token script language-javascript" style="color:#999">)</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905"> </span><span class="token" style="color:#999">/&gt;</span><span class="token plain-text">
</span><span class="token plain-text">        </span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#DD4A68">ImageUploaderComposition</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">      </span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">    </span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#DD4A68">StyledImageCard</span><span class="token" style="color:#999">&gt;</span><span>
</span><span>  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span></code></pre><h2>이미지 업로드 기능만 담당</h2><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-tsx" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">// ImageUploaderComposition.tsx</span><span>
</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">interface</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">ImageUploaderCompositionProps</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>  uploadImageAPIEndPoint</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">string</span><span class="token" style="color:#999">;</span><span>
</span><span>  </span><span class="token function-variable" style="color:#DD4A68">handleUpload</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter">file</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">FileInter</span><span class="token parameter"> </span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">|</span><span class="token parameter"> </span><span class="token parameter known-class-name" style="color:#DD4A68">Error</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#07a">void</span><span class="token" style="color:#999">;</span><span>
</span><span>  fileValidation</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter">file</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">File</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#690">boolean</span><span class="token" style="color:#999">;</span><span>
</span><span>  children</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token maybe-class-name">React</span><span class="token" style="color:#999">.</span><span class="token property-access maybe-class-name">ReactNode</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">const</span><span> </span><span class="token maybe-class-name">ImageUploaderComposition</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">FC</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token maybe-class-name">ImageUploaderCompositionProps</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter">
</span><span class="token parameter">  uploadImageAPIEndPoint</span><span class="token parameter" style="color:#999">,</span><span class="token parameter">
</span><span class="token parameter">  handleUpload</span><span class="token parameter" style="color:#999">,</span><span class="token parameter">
</span><span class="token parameter">  fileValidation</span><span class="token parameter" style="color:#999">,</span><span class="token parameter">
</span><span class="token parameter">  children</span><span class="token parameter" style="color:#999">,</span><span class="token parameter">
</span><span class="token parameter"></span><span class="token parameter" style="color:#999">}</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">ImageUploaderCompositionProps</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>  </span><span class="token" style="color:#07a">const</span><span> i18next </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">useTranslation</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>  </span><span class="token" style="color:#07a">const</span><span> inputRef </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token generic-function" style="color:#DD4A68">useRef</span><span class="token generic-function generic" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token generic-function generic maybe-class-name" style="color:#DD4A68">HTMLInputElement</span><span class="token generic-function generic" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">(</span><span class="token null nil" style="color:#07a">null</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>  </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">{</span><span> dialogStore </span><span class="token" style="color:#999">}</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">useDataStore</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span>
<span>  </span><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable" style="color:#DD4A68">handleChange</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter">event</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">React</span><span class="token parameter" style="color:#999">.</span><span class="token parameter property-access maybe-class-name">ChangeEvent</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token parameter maybe-class-name">HTMLInputElement</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token" style="color:#07a">const</span><span> file </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> event</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?.</span><span>target</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?.</span><span>files</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?.</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>file </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">===</span><span> </span><span class="token nil" style="color:#07a">undefined</span><span class="token" style="color:#999">)</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span class="token" style="color:#999">;</span><span>
</span>
<span>    </span><span class="token" style="color:slategray">// 파일 검증</span><span>
</span><span>    </span><span class="token" style="color:#07a">const</span><span> isValid </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fileValidation</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?.</span><span class="token" style="color:#999">(</span><span>file</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> </span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>isValid </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">===</span><span> </span><span class="token" style="color:#905">false</span><span class="token" style="color:#999">)</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span class="token" style="color:#999">;</span><span>
</span>
<span>    </span><span class="token" style="color:slategray">// 파일 업로드</span><span>
</span><span>    </span><span class="token control-flow" style="color:#07a">try</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>      </span><span class="token" style="color:#07a">const</span><span> result </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token control-flow" style="color:#07a">await</span><span> </span><span class="token maybe-class-name">FileAPI</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">uploadImage</span><span class="token" style="color:#999">(</span><span>file</span><span class="token" style="color:#999">,</span><span> uploadImageAPIEndPoint</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">//  uploadImageAPIEndPoint: ex) &quot;bizSmsCreate&quot;</span><span>
</span><span>      </span><span class="token" style="color:slategray">// 부모 컴포넌트에 업로드 성공한 파일 정보 반환</span><span>
</span><span>      </span><span class="token" style="color:#DD4A68">handleUpload</span><span class="token" style="color:#999">(</span><span>result</span><span class="token" style="color:#999">.</span><span class="token property-access">file</span><span> </span><span class="token module" style="color:#07a">as</span><span> </span><span class="token maybe-class-name">FileInter</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token" style="color:#999">}</span><span> </span><span class="token control-flow" style="color:#07a">catch</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>      </span><span class="token" style="color:slategray">// 업로드 실패</span><span>
</span><span>      dialogStore</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">showMessage</span><span class="token" style="color:#999">(</span><span>i18next</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">t</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&#x27;알림&#x27;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span> i18next</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">t</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&#x27;업로드에 실패하였습니다.&#x27;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>      </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>inputRef</span><span class="token" style="color:#999">.</span><span class="token property-access">current</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>        inputRef</span><span class="token" style="color:#999">.</span><span class="token property-access">current</span><span class="token" style="color:#999">.</span><span class="token property-access">value</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&#x27;&#x27;</span><span class="token" style="color:#999">;</span><span>
</span><span>      </span><span class="token" style="color:#999">}</span><span>
</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span>
<span>  </span><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable" style="color:#DD4A68">handleChildrenClick</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    inputRef</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?.</span><span>current</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?.</span><span class="token method property-access" style="color:#DD4A68">click</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span>    </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#DD4A68">React.Fragment</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">      </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">input</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">type</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">file</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">accept</span><span class="token attr-equals" style="color:#999">=</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#07a">image/*</span><span class="token" style="color:#999">&quot;</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">ref</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">inputRef</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">onChange</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">handleChange</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">style</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905"> display</span><span class="token script language-javascript" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#690">&#x27;none&#x27;</span><span class="token script language-javascript" style="color:#905"> </span><span class="token script language-javascript" style="color:#999">}</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#905"> </span><span class="token" style="color:#999">/&gt;</span><span class="token plain-text">
</span><span class="token plain-text">      </span><span class="token" style="color:#999">&lt;</span><span class="token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token" style="color:#690">onClick</span><span class="token script language-javascript script-punctuation" style="color:#905">=</span><span class="token script language-javascript" style="color:#999">{</span><span class="token script language-javascript" style="color:#905">handleChildrenClick</span><span class="token script language-javascript" style="color:#999">}</span><span class="token" style="color:#999">&gt;</span><span class="token" style="color:#999">{</span><span>children</span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#905">div</span><span class="token" style="color:#999">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">    </span><span class="token" style="color:#999">&lt;/</span><span class="token" style="color:#DD4A68">React.Fragment</span><span class="token" style="color:#999">&gt;</span><span>
</span><span>  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span></code></pre></div></main></div><div></div><footer class="jsx-a6af0e2473afc2ae"><div class="jsx-a6af0e2473afc2ae copyright">Copyright 2021. <!-- -->FE는 철<!-- --> all rights reserved.</div></footer></div><style data-emotion="css-global 9v2qpw">body{color:#333;background-color:#FFFFFF;}</style></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postInfo":{"id":1645196400,"title":"복잡한 컴포넌트에서 UI와 기능을 분리해보자","author":"jangky000","category":"업무 회고","desc":"협업을 하다보면 남이 짠 코드를 읽고 새로운 기획에 맞게 수정해서 사용하는 경우가 많다. 재사용성을 고려하고 각각의 주요 역할이 잘 분리되어 있는 코드라면 쉽게 수정이 가능하다. 이번 작업에서는 재사용성을 고려하여 UI와 기능을 분리해본 경험을 공유하고자 한다.","date":"2022.02.19","content":"\n# ImageUploader라는 컴포넌트가 있었다.\n\n## 문제점\n\n- `ImageUploader`라는 컴포넌트 내부에 `버튼(UI)` + `이미지 파일을 업로드하는 기능`이 있다.\n- `ImageUploader`라는 이름에서 이 컴포넌트가 버튼이라는 것을 유추하기 어렵다.\n- 같은 기능을 하는 두 가지 스타일의 버튼이 필요한데, 버튼 스타일을 변경하기 어렵다.\n- `visualType 변경`, `삭제 버튼의 출력 여부` 등 이미지 업로드 기능과 관련이 적은 다른 기능들이 혼재되어 있다.\n- 관심사를 분리하고, 하나의 컴포넌트가 하나의 메인 기능을 담당해야 한다. (단일 책임의 원칙)\n    - 스타일 기능 `Button`\n    - 이미지 업로드 기능 `ImageUploaderComposition`\n\n## 변경 전\n\n![1](https://user-images.githubusercontent.com/46799722/154789453-c6fea7ef-e4d8-4b2e-8411-04fc7e7eae3e.png)\n![2](https://user-images.githubusercontent.com/46799722/154789454-24b0539d-feb8-421a-8982-7b4f137448d0.png)\n\n\n```tsx\n// SmsCreateStep2.tsx\n\n...\n\u003cdiv className=\"sms-create-item\"\u003e\n  \u003cdiv className=\"sms-create-item-header\"\u003e{i18next.t('이미지')}\u003c/div\u003e\n  \u003cdiv className=\"sms-create-image\"\u003e\n    \u003cdiv className=\"sms-create-image-desc\"\u003e\n      \u003cdiv\u003e* {i18next.t('권장 이미지 사이즈: 320px*480px (모바일 기기 최적화)')}\u003c/div\u003e\n      \u003cdiv\u003e* {i18next.t('파일 형식: JPG, JPEG')}\u003c/div\u003e\n      \u003cdiv\u003e* {i18next.t('파일 용량: 최대 300kb')}\u003c/div\u003e\n    \u003c/div\u003e\n    \u003cImageUploader\n      handleUpload={updateImage(0)}\n      index={0}\n      endPoint=\"bizSmsCreate\"\n      uploadBtnLabel={i18next.t('파일 선택')}\n      isExistFile={!!props.material.images[0]?.img_url}\n      handleRemove={() =\u003e {\n        const tempMaterial: SmsMaterial = _.cloneDeep(props.material);\n        props.handleUpdate({\n          ...tempMaterial,\n          images: [],\n        });\n      }}\n    /\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n...\n```\n\n## 하나의 컴포넌트에서 하는 일이 너무 많다.\n```tsx\n// ImageUploader.tsx\n\nexport interface ImageUploaderProp {\n  visualType?: ImageUploaderVisualType;\n  handleUpload?: (file: FileInter | Error) =\u003e void; // parent material 업데이트\n  verify?: (file: File) =\u003e Promise\u003cboolean\u003e | undefined;\n  image?: string;\n  index: number; // id 생성에 사용\n  endPoint?: string;\n  uploadBtnLabel?: string;\n  isValid?: boolean;\n  isExistFile?: boolean;\n  handleRemove?: () =\u003e void;\n}\n\nexport const ImageUploader = (props: ImageUploaderProp): ReactElement =\u003e {\n  const i18next = useTranslation();\n  const { uploadBtnLabel = '파일 선택' } = props;\n  const [loaded, setLoaded] = useState(false);\n  const fileInput: React.Ref\u003cHTMLInputElement\u003e = useRef(null);\n  const { dialogStore } = useDataStore();\n\n  const uploadImage = async (event: React.ChangeEvent\u003cHTMLInputElement\u003e) =\u003e {\n    const file: null | File = event \u0026\u0026 event.target \u0026\u0026 event.target.files \u0026\u0026 event.target.files[0];\n    let isChecked = true;\n    if (props.verify) {\n      isChecked = (await props.verify(file as File)) as boolean;\n    }\n\n    if (isChecked) {\n      return FileAPI.uploadImage(file, props.endPoint)\n        .then((res) =\u003e {\n          if (props.handleUpload) props.handleUpload(res.file as FileInter);\n          setLoaded(true);\n          return Observable.of(res);\n        })\n        .catch(() =\u003e {\n          dialogStore.showMessage(i18next.t('알림'), i18next.t('업로드에 실패하였습니다.'));\n          if (fileInput.current) {\n            fileInput.current.value = '';\n          }\n        });\n    }\n    if (fileInput.current) {\n      fileInput.current.value = '';\n    }\n    return isChecked;\n  };\n\n  useEffect(() =\u003e {\n    if (props.image) setLoaded(true);\n  }, []);\n\n  return (\n    \u003cdiv className=\"image-uploader-wrapper\" style={{ position: 'relative' }}\u003e\n      {(!props.visualType || props.visualType === 'normal') \u0026\u0026 (\n        \u003cdiv className=\"normal\" css={[normalWrapperStyle]}\u003e\n          \u003clabel htmlFor={`imageUploader-${props.index}`} css={labelCss}\u003e\n            \u003cinput\n              type=\"file\"\n              className=\"image-uploader-input\"\n              accept=\"image/*\"\n              css={inputCss}\n              id={`imageUploader-${props.index}`}\n              ref={fileInput}\n              onChange={uploadImage}\n            /\u003e\n            {!loaded \u0026\u0026 (\n              \u003cButton\n                className={`image-updater-btn ${!props.isValid ? 'invalid' : ''}`}\n                onClick={() =\u003e setLoaded(!loaded)}\n                label={uploadBtnLabel}\n              /\u003e\n            )}\n            {loaded \u0026\u0026 (\n              \u003cButton className=\"image-updater-btn\" onClick={() =\u003e setLoaded(!loaded)} label={uploadBtnLabel} /\u003e\n            )}\n          \u003c/label\u003e\n          {props.handleRemove \u0026\u0026 props.isExistFile \u0026\u0026 (\n            \u003cButton\n              style={{ marginLeft: '12px' }}\n              label={i18next.t('삭제')}\n              appearance=\"secondary\"\n              onClick={() =\u003e {\n                if (props.handleRemove) {\n                  props.handleRemove();\n                }\n              }}\n            /\u003e\n          )}\n        \u003c/div\u003e\n      )}\n      {props.visualType === 'small' \u0026\u0026 (\n        \u003cdiv className={`small ${props.isValid ? '' : 'invalid'}`} css={[smallWrapperStyle]}\u003e\n          \u003clabel\n            htmlFor={`imageUploader-${props.index}`}\n            css={css`\n              display: flex;\n              align-items: center;\n              gap: 8px;\n            `}\n          \u003e\n            \u003cinput\n              type=\"file\"\n              className=\"image-uploader-input\"\n              accept=\"image/*\"\n              css={inputCss}\n              id={`imageUploader-${props.index}`}\n              onChange={(event) =\u003e {\n                uploadImage(event);\n              }}\n            /\u003e\n            {!(loaded \u0026\u0026 props.image) \u0026\u0026 (\n              \u003cdiv css={smallButtonCss} className=\"image-uploader-btn\"\u003e\n                \u003cFontIcon name=\"ic-img\" color=\"#7e8696\" size=\"20px\" /\u003e\n              \u003c/div\u003e\n            )}\n            {loaded \u0026\u0026 props.image \u0026\u0026 \u003cimg css={smallImageCss} src={props.image} alt=\"slide-content\" /\u003e}\n            {!loaded \u0026\u0026 (\n              \u003cButton\n                className={`image-updater-btn ${!props.isValid ? 'invalid' : ''}`}\n                onClick={() =\u003e setLoaded(!loaded)}\n                label={i18next.t('업로드')}\n              /\u003e\n            )}\n            {loaded \u0026\u0026 (\n              \u003cButton className=\"image-updater-btn\" onClick={() =\u003e setLoaded(!loaded)} label={i18next.t('업로드')} /\u003e\n            )}\n          \u003c/label\u003e\n          {props.handleRemove \u0026\u0026 props.isExistFile \u0026\u0026 (\n            \u003cButton\n              style={{ marginLeft: '8px' }}\n              label={i18next.t('이미지 삭제')}\n              appearance=\"secondary\"\n              onClick={() =\u003e {\n                if (props.handleRemove) {\n                  props.handleRemove();\n                }\n              }}\n            /\u003e\n          )}\n        \u003c/div\u003e\n      )}\n    \u003c/div\u003e\n  );\n};\n\nImageUploader.defaultProps = {\n  isValid: true,\n};\n```\n\n## 변경 후\n\n- 컴포넌트를 다음과 같이 분리\n- `이미지 리스트를 관리하는 컴포넌트(SmsInputImageList)`\n- `이미지 하나를 관리하는 컴포넌트(InputImageCard, InputImageEmptyCard)`\n- `이미지 업로드 기능을 담당하는 컴포넌트(ImageUploaderComposition)`\n- `Button`을 `ImageUploaderComposition` 의 children으로 전달하여 업로드 기능을 수행\n- \\+ 디자인이 조금 수정되었다.\n\n![3](https://user-images.githubusercontent.com/46799722/154789455-b28a31e2-e827-459e-8d9c-da77a3741569.png)\n![4](https://user-images.githubusercontent.com/46799722/154789456-acef377a-3590-49b5-99e5-e449c2f67cdf.png)\n\n```tsx\n// SmsCreateStep2.tsx\n\n...\n\u003cdiv className=\"sms-create-item\"\u003e\n  \u003cdiv className=\"sms-create-item-header\"\u003e{i18next.t('이미지')}\u003c/div\u003e\n  \u003cdiv className=\"sms-create-image\"\u003e\n    \u003cdiv className=\"sms-create-image-desc\"\u003e\n      \u003cdiv\u003e* {i18next.t('최대 첨부 가능 이미지 개수: {{count}}개', { count: 3 })}\u003c/div\u003e\n      \u003cdiv\u003e* {i18next.t('권장 이미지 사이즈: 320px x 480px (모바일 기기 최적화)')}\u003c/div\u003e\n      \u003cdiv\u003e* {i18next.t('파일 형식: JPG, JPEG')}\u003c/div\u003e\n      \u003cdiv\u003e* {i18next.t('파일 용량: 이미지 당 300KB')}\u003c/div\u003e\n    \u003c/div\u003e\n    \u003cSmsInputImageList\n      imageInfoList={images}\n      handleImageInfoList={handleImageInfoList}\n    /\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n...\n```\n\n```tsx\n// InputImageEmptyCard.tsx\n// [이미지 썸네일] [파일선택 버튼] UI\nexport const InputImageEmptyCard: FC\u003cInputImageEmptyCardProps\u003e = ({\n  addNewImage,\n  fileValidation,\n}: InputImageEmptyCardProps) =\u003e {\n  const i18next = useTranslation();\n  return (\n    \u003cStyledImageCard\u003e\n      \u003cdiv className=\"image-card-wrapper\"\u003e\n        \u003cdiv className=\"image-card-thumbnail\"\u003e\n          \u003cFontIcon name=\"ic-img\" size=\"20px\" color=\"#53585f\" /\u003e\n        \u003c/div\u003e\n        \u003cImageUploaderComposition\n          uploadImageAPIEndPoint=\"bizSmsCreate\"\n          handleUpload={addNewImage}\n          fileValidation={fileValidation}\n        \u003e\n          \u003cButton appearance=\"primary\" label={i18next.t('파일 선택')} /\u003e\n        \u003c/ImageUploaderComposition\u003e\n      \u003c/div\u003e\n    \u003c/StyledImageCard\u003e\n  );\n};\n```\n\n## 이미지 업로드 기능만 담당\n\n```tsx\n// ImageUploaderComposition.tsx\nexport interface ImageUploaderCompositionProps {\n  uploadImageAPIEndPoint: string;\n  handleUpload: (file: FileInter | Error) =\u003e void;\n  fileValidation?: (file: File) =\u003e boolean;\n  children: React.ReactNode;\n}\nexport const ImageUploaderComposition: FC\u003cImageUploaderCompositionProps\u003e = ({\n  uploadImageAPIEndPoint,\n  handleUpload,\n  fileValidation,\n  children,\n}: ImageUploaderCompositionProps) =\u003e {\n  const i18next = useTranslation();\n  const inputRef = useRef\u003cHTMLInputElement\u003e(null);\n  const { dialogStore } = useDataStore();\n\n  const handleChange = async (event: React.ChangeEvent\u003cHTMLInputElement\u003e) =\u003e {\n    const file = event?.target?.files?.[0];\n    if (file === undefined) return;\n\n    // 파일 검증\n    const isValid = fileValidation?.(file) \u0026\u0026 true;\n    if (isValid === false) return;\n\n    // 파일 업로드\n    try {\n      const result = await FileAPI.uploadImage(file, uploadImageAPIEndPoint); //  uploadImageAPIEndPoint: ex) \"bizSmsCreate\"\n      // 부모 컴포넌트에 업로드 성공한 파일 정보 반환\n      handleUpload(result.file as FileInter);\n    } catch {\n      // 업로드 실패\n      dialogStore.showMessage(i18next.t('알림'), i18next.t('업로드에 실패하였습니다.'));\n      if (inputRef.current) {\n        inputRef.current.value = '';\n      }\n    }\n  };\n\n  const handleChildrenClick = () =\u003e {\n    inputRef?.current?.click();\n  };\n  return (\n    \u003cReact.Fragment\u003e\n      \u003cinput type=\"file\" accept=\"image/*\" ref={inputRef} onChange={handleChange} style={{ display: 'none' }} /\u003e\n      \u003cdiv onClick={handleChildrenClick}\u003e{children}\u003c/div\u003e\n    \u003c/React.Fragment\u003e\n  );\n};\n```"}},"__N_SSG":true},"page":"/posts/[title]","query":{"title":"복잡한컴포넌트에서UI와기능을분리해보자"},"buildId":"bQcpHPUJVgYV3XLMVBb_b","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>