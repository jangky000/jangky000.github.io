[{"id":1647702000,"title":"ê¸°ì¡´ í”„ë¡œì íŠ¸ì— ë‹¤êµ­ì–´ ì²˜ë¦¬ë¥¼ ì ìš©í•´ë³´ì(react-i18next)\r","author":"jangky000\r","category":"ì—…ë¬´ íšŒê³ \r","desc":"íšŒì‚¬ì—ì„œ ì‚¬ì—…ì˜ í•´ì™¸ ì§„ì¶œì„ ì¤€ë¹„í•˜ë©´ì„œ ì˜ë¬¸ ë²„ì „ì˜ ì‚¬ì´íŠ¸ê°€ í•„ìš”í•´ì¡Œë‹¤. ëŒ€ì‹œë³´ë“œë¼ëŠ” ê¸°ì¡´ì˜ í”„ë¡œì íŠ¸ì— ì–´ë–»ê²Œ ë‹¤êµ­ì–´ ì²˜ë¦¬ë¥¼ ì ìš©í–ˆëŠ”ì§€ì— ëŒ€í•œ ê²½í—˜ì„ ê³µìœ í•œë‹¤. ë˜í•œ ë‘ ë²ˆì˜ ë‹¤êµ­ì–´ ì²˜ë¦¬ ì‘ì—… ê³¼ì •ì„ ì†Œê°œí•˜ê³  ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ë¥¼ ê°œì„ í–ˆë˜ ê²½í—˜ì„ ì´ì•¼ê¸°í•´ë³´ê³ ì í•œë‹¤.\r","date":"2022.03.20\r","content":"\r\n# ë‹¤êµ­ì–´ ì²˜ë¦¬(i18n)\r\n\r\në‹¤êµ­ì–´ ì²˜ë¦¬ë€ ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ì‚¬ìš©í•˜ëŠ” êµ­ê°€ì— ë”°ë¼ ë‹¤ì–‘í•œ ì–¸ì–´ ë° ì§€ì—­ì„ ì§€ì›í•˜ëŠ” ì„œë¹„ìŠ¤ì´ë‹¤.\r\n\r\ni18n ëœ»ì€ êµ­ì œí™”(internationalization)ì˜ ìŠ¤í ë§ì—ì„œ â€˜Iâ€™ + 18ê¸€ì + â€˜Nâ€™ì„ ëœ»í•œë‹¤.\r\n\r\n## ê¸°ì¡´ ì—…ë¬´ í”„ë¡œì„¸ìŠ¤\r\n\r\nì´ ì‘ì—…ì„ ë§¡ê¸° ì§ì „ì— `íšŒì‚¬ ì†Œê°œ ì›¹ì‚¬ì´íŠ¸`ì˜ ë²ˆì—­ ì‘ì—…ì´ ì§„í–‰ëœ ì ì´ ìˆì—ˆë‹¤. \r\n\r\n1. ê¸°íšì„ ë‹´ë‹¹í•˜ëŠ” íŒ€ì—ì„œ ì›¹ì‚¬ì´íŠ¸ ì „ì²´ë¥¼ ì‚´í´ë³´ë©° ë²ˆì—­ì´ í•„ìš”í•œ ë¶€ë¶„ì„ ì°¾ëŠ”ë‹¤.\r\n2. ë²ˆì—­ì´ í•„ìš”í•œ ë¬¸êµ¬ë¥¼ ëª¨ì•„ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ì— ì—…ë¡œë“œí•œë‹¤.\r\n3. ë²ˆì—­íŒ€ì´ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ë¥¼ ì „ë‹¬ ë°›ì•„ ë²ˆì—­ ì‘ì—…ì„ ì§„í–‰í•œë‹¤.\r\n4. ê°œë°œ íŒ€ì´ ë²ˆì—­ ì‘ì—…ëœ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ë¥¼ ì „ë‹¬ ë°›ì•„ json íŒŒì¼ì„ ìƒì„±í•˜ê³ , í”„ë¡œì íŠ¸ ë‚´ì—ì„œ ë²ˆì—­ì´ í•„ìš”í•œ ë¶€ë¶„ê³¼ ë²ˆì—­ í‚¤ë¥¼ ë§¤ì¹­í•œ í›„, ë²ˆì—­ì´ ì˜ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ë©° ì‘ì—…ì„ ì§„í–‰í•œë‹¤.\r\n\r\n## ê¸°ì¡´ ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ì˜ ì¥ë‹¨ì \r\n\r\n**ì¥ì **\r\n\r\n- í˜ì´ì§€ ë‹¨ìœ„ë³„ë¡œ ë²ˆì—­ ë¬¸êµ¬ë¥¼ ëª¨ì•„ì„œ ì •ë¦¬í–ˆê¸° ë•Œë¬¸ì— í•´ë‹¹ ë¬¸êµ¬ê°€ ì–´ëŠ í˜ì´ì§€ì— ìˆëŠ”ì§€ ì°¾ëŠ” ê²ƒì´ ìˆ˜ì›”í–ˆë‹¤.\r\n\r\n**ë‹¨ì ** \r\n\r\n- ë¬´ìˆ˜íˆ ë§ì€ ë²ˆì—­ í‚¤ë¥¼ ì§ì ‘ ì§€ì •í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì› ë‹¤.\r\n- ë„ì–´ì“°ê¸° í•˜ë‚˜, ì˜¤íƒ€ í•˜ë‚˜, ëŒ€ì†Œë¬¸ì í•˜ë‚˜ì˜ ì°¨ì´ë¡œ ì¸í•´ ë²ˆì—­ í‚¤ë¥¼ ì¸ì‹í•˜ê³  ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” ì¼ë“¤ì´ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— ëˆˆì´ ë¹ ì§€ë„ë¡ json ìƒì˜ ë²ˆì—­ í‚¤ì™€ html ìƒì˜ ë¬¸êµ¬ë¥¼ ë¹„êµí•´ì•¼ í–ˆë‹¤.\r\n- ë°˜ë³µë˜ëŠ” ë¬¸êµ¬ì˜ ì¤‘ë³µì„ ì œê±°í•˜ê¸° ì–´ë ¤ì› ë‹¤.\r\n- ì›¹ ì‚¬ì´íŠ¸ ìƒì—ì„œ ì‰½ê²Œ ë³¼ ìˆ˜ ì—†ëŠ” ì²˜ë¦¬ ì‘ë‹µ ë¬¸êµ¬ë‚˜ íŠ¹ì • ì¡°ê±´ íŠ¹ì • ìƒí™©ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ë¬¸êµ¬ê°€ ëˆ„ë½ë˜ëŠ” ê²½ìš°ê°€ ë§ì•˜ë‹¤. ë²ˆì—­ì´ ëˆ„ë½ë˜ëŠ” ê²½ìš° í•„ìš”í•œ ë¬¸êµ¬ë¥¼ ì •ë¦¬í•´ì„œ ë‹¤ì‹œ ìš”ì²­í•´ì•¼ í–ˆë‹¤.\r\n- ë²ˆì—­ ì‘ì—…ë³´ë‹¤ ê°œë°œ ì‘ì—… í”„ë¡œì„¸ìŠ¤ê°€ ë” ë§ê³  ë‹¨ìˆœ ë…¸ë™ ì‘ì—…ì´ ë§ì•„ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë ¸ë‹¤.\r\n\r\n## ë³€ê²½ ëœ ì—…ë¬´ í”„ë¡œì„¸ìŠ¤\r\n\r\n`ëŒ€ì‹œë³´ë“œ` í”„ë¡œì íŠ¸ëŠ” `íšŒì‚¬ ì†Œê°œ ì›¹ì‚¬ì´íŠ¸`ì— ë¹„í•´ í›¨ì”¬ ë§ì€ ê¸°ëŠ¥ë“¤ì´ ìˆì—ˆê³ , ê³ ê°ë“¤ì´ ì¤‘ì ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì›¹ì‚¬ì´íŠ¸ì˜€ë‹¤. ê¸°ì¡´ì˜ ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ë¡œ ë²ˆì—­ ì‘ì—…ì„ ì§„í–‰í•  ê²½ìš°ì— ëˆ„ë½ë˜ëŠ” ë¬¸êµ¬ê°€ ì•„ì£¼ ë§ì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ì—ˆê³ , ì‘ì—… ê¸°í•œ ì—­ì‹œ í•œ ë‹¬ ì •ë„ë¡œ ì´‰ë°•í•œ ìƒí™©ì´ì—ˆë‹¤. ê·¸ë•Œ ë‹¤ë¥¸ ì¢‹ì€ ë°©ë²•ì´ ì—†ì„ê¹Œ ê³ ë¯¼í•˜ë©° ìë£Œë¥¼ ì°¾ë˜ ì¤‘, ìœ ë™ì‹ë‹˜ì´ ì‘ì„±í•˜ì‹  `êµ­ì œí™”(i18n) ìë™í™” ê°€ì´ë“œ`(ì°¸ê³ : [ë§í¬](https://meetup.toast.com/posts/295)) í¬ìŠ¤íŠ¸ë¥¼ ë³´ê²Œ ë˜ì—ˆë‹¤. ë²ˆì—­ ì‘ì—… ì§„í–‰ ì´ˆê¸°ì— i18next-scannerë¥¼ ì„¤ì •í•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ ë§ˆì¹œ í›„ ì•„ë˜ì™€ ê°™ì€ ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ë¥¼ ì œì•ˆí–ˆë‹¤. ë˜í•œ ì‚¬ìš©ë²• ë° ì»¨ë²¤ì…˜ì„ ì •ë¦¬í•˜ì—¬ ê³µìœ í–ˆë‹¤.\r\n\r\n1. ëŒ€ì‹œë³´ë“œ í”„ë¡œì íŠ¸ì˜ ì†ŒìŠ¤ ìƒì—ì„œ ë²ˆì—­ì´ í•„ìš”í•œ í•œê¸€ ë¬¸êµ¬ë“¤ì„ ëª¨ë‘ i18next.t()ë¼ëŠ” ë©”ì†Œë“œë¡œ ê°ì‹¼ë‹¤.\r\n2. i18next-scannerë¥¼ ì´ìš©í•˜ì—¬ ë²ˆì—­ í‚¤ë¥¼ í•œë²ˆì— êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ì— ì—…ë¡œë“œí•œë‹¤.\r\n3. ë²ˆì—­íŒ€ì—ì„œ ë²ˆì—­ ì‘ì—…ì´ ëë‚˜ë©´ ë²ˆì—­ì„ ë‹¤ìš´ë¡œë“œ ë°›ì•„ ëŒ€ì‹œë³´ë“œì— ì ìš©í•˜ê³  í™•ì¸í•œë‹¤.\r\n\r\n## ë³€ê²½ëœ ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ì˜ ì¥ë‹¨ì \r\n\r\n**ì¥ì **\r\n\r\n- í•œê¸€ ë¬¸êµ¬ë¥¼ ê·¸ëŒ€ë¡œ í‚¤ë¡œ ì‚¬ìš©í•˜ì—¬ ë²ˆì—­ í‚¤ë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì— ê³ ë¯¼í•˜ì§€ ì•Šì„ ìˆ˜ ìˆì—ˆê³ , ì˜¤íƒ€ë‚˜ ë„ì–´ì“°ê¸°ë¡œ ì¸í•œ ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ì¤„ì–´ë“¤ì—ˆë‹¤.\r\n- ì¤‘ë³µëœ ë²ˆì—­ í‚¤ê°€ ìë™ìœ¼ë¡œ ì œê±°ëœë‹¤.\r\n- ì›¹ ì‚¬ì´íŠ¸ ìƒì—ì„œ ì‰½ê²Œ ë³¼ ìˆ˜ ì—†ëŠ” ì²˜ë¦¬ ì‘ë‹µ ë¬¸êµ¬ë‚˜ íŠ¹ì • ì¡°ê±´ íŠ¹ì • ìƒí™©ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ë¬¸êµ¬ê¹Œì§€ ëˆ„ë½ë˜ëŠ” ë¶€ë¶„ ì—†ì´ í•œë²ˆì— ì‘ì—… ê°€ëŠ¥í–ˆë‹¤.\r\n- ë‹¤ë¥¸ ì–¸ì–´ë¡œ ë²ˆì—­ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ì‰½ë‹¤.\r\n- ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œë„ ì‘ì—… ì¤‘ì— ê¸°íšì´ ë³€ê²½ë˜ê±°ë‚˜ ë¬¸êµ¬ê°€ ìˆ˜ì •ë˜ëŠ” ê²½ìš°ê°€ ë§ì€ë° ë¨¼ì € ê¸°ëŠ¥ ì¶”ê°€ ì‘ì—… í›„ ë²ˆì—­ì„ ì§„í–‰í•  ìˆ˜ ìˆì–´ ë°˜ë³µ ì‘ì—…ì´ ì¤„ì–´ë“ ë‹¤.\r\n- ì •ë§ ì‹ ê¸°í•˜ë‹¤.\r\n\r\n**ë‹¨ì **\r\n\r\n- í˜ì´ì§€ì˜ ìƒí™©ì— ë”°ë¼ ë²ˆì—­ì˜ ì–´íˆ¬ê°€ ë‹¬ë¼ì ¸ì•¼í•˜ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë° ì–´ëŠ í˜ì´ì§€ì—ì„œ ë‚˜ì˜¨ ë¬¸êµ¬ì¸ì§€ í—·ê°ˆë¦¬ëŠ” ìƒí™©ì´ ì¢…ì¢… ë°œìƒí•œë‹¤.\r\n- ë²ˆì—­ ë¬¸êµ¬ë§ˆë‹¤ í•¨ìˆ˜ë¥¼ ì”Œì›Œì¤˜ì•¼ í•˜ëŠ” ë‹¨ìˆœ ì‘ì—…ê¹Œì§€ ì¤„ì–´ë“¤ì§€ëŠ” ì•Šì•˜ë‹¤.\r\n\r\n## ì ìš© ê²°ê³¼\r\n\r\n### json íŒŒì¼ ì˜ˆì‹œ\r\n\r\n**/src/i18n/locales/ko-KR/translation.json**\r\n\r\n```json\r\n{\r\n    \"{{count}}ëª…_0\": \"{{count}}ëª…\",\r\n    \"ë°ì´í„° ì¡°íšŒ\": \"ë°ì´í„° ì¡°íšŒ\",\r\n}\r\n```\r\n\r\n**/src/i18n/locales/en-US/translation.json**\r\n\r\n```json\r\n{\r\n    \"{{count}}ëª…\": \"[ì‘ì„± í•„ìš”]\",\r\n    \"{{count}}ëª…_plural\": \"[ì‘ì„± í•„ìš”]\",\r\n    \"ë°ì´í„° ì¡°íšŒ\": \"[ì‘ì„± í•„ìš”]\",\r\n}\r\n```\r\n\r\n### êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ ì˜ˆì‹œ\r\n\r\n<img width=\"1377\" alt=\"1\" src=\"https://user-images.githubusercontent.com/46799722/159149909-f0c63b45-49b6-4d40-b834-0167eeac3b5e.png\">\r\n\r\n## ì‚¬ìš©ë²• ë° ì»¨ë²¤ì…˜\r\n\r\n### ì‘ì—… ìˆœì„œ\r\n\r\n1. ë²ˆì—­ í•„ìš”í•œ ë¬¸êµ¬ë¥¼ i18next.t() ë©”ì†Œë“œì˜ ì¸ìë¡œ ë„˜ê²¨ì¤€ë‹¤.\r\n2. `yarn upload:i18n`ì„ ì‹¤í–‰í•˜ì—¬ ë²ˆì—­ í‚¤ë“¤ì„ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ë¡œ ì—…ë¡œë“œí•œë‹¤.\r\n3. ë²ˆì—­íŒ€ì—ì„œ êµ¬ê¸€ ì‹œíŠ¸ì— ë²ˆì—­ì„ ì§„í–‰í•œë‹¤.\r\n4. `yarn download:i18n`ì„ ì‹¤í–‰í•˜ì—¬ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ë¡œë¶€í„° ë²ˆì—­ëœ ë‚´ìš©ì„ ë‹¤ìš´ë¡œë“œ ë°›ëŠ”ë‹¤.\r\n5. ì–¸ì–´ ì„¤ì •ì„ ë°”ê¿”ë³´ê³  ë²ˆì—­ì´ ì˜ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸ í›„ ì‘ì—…ì„ ì™„ë£Œí•œë‹¤.\r\n\r\n```bash\r\n# scan\r\n$ yarn scan:i18n\r\n# ì‹¤í–‰ ì‹œ src í´ë” ë‚´ì—ì„œ i18next.t() ë©”ì†Œë“œë¡œ ê°ì‹¸ì ¸ ìˆëŠ” í‚¤ë¥¼ ìŠ¤ìº”í•œë‹¤.\r\n# ì‹¤í–‰ ì‹œ ì¤‘ë³µëœ í‚¤ëŠ” í•˜ë‚˜ì˜ í‚¤ë¡œ ìƒì„±ëœë‹¤.\r\n# ì‹¤í–‰ ì‹œ json íŒŒì¼ ìƒì„±ë˜ê±°ë‚˜, ê¸°ì¡´ json íŒŒì¼ì— ìƒˆë¡œìš´ í‚¤ê°€ ì¶”ê°€ëœë‹¤.\r\n\r\n# upload\r\n$ yarn upload:i18n\r\n# ì‹¤í–‰ ì‹œ yarn scan:i18nì„ ì‹¤í–‰í•œ í›„ google spread sheetì— scanëœ í‚¤ì™€ ê°’ì„ ì—…ë¡œë“œí•œë‹¤.\r\n# ê¸°ì¡´ì— ì—†ëŠ” í‚¤ë§Œ ì¶”ê°€ ì—…ë¡œë“œëœë‹¤.\r\n\r\n# download\r\n$ yarn download:i18n\r\n# google spread sheetì—ì„œ ë²ˆì—­ í‚¤ì™€ ê°’ì„ json íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œí•œë‹¤.\r\n```\r\n\r\n### êµ¬ê¸€ ì‹œíŠ¸ ì‘ì„± ê°€ì´ë“œ\r\n\r\n1. 'ëŒ€ì‹œë³´ë“œ ë²ˆì—­' sheet ì˜ í•œê¸€(B column)ì˜ ë‚´ìš©ì„ ì˜ì–´(C column) ì— ë²ˆì—­í•˜ì—¬ ì‘ì„±í•©ë‹ˆë‹¤.\r\n2. {{text}}ëŠ” ë³€ìˆ˜ ì…ë‹ˆë‹¤. ë²ˆì—­ ì‹œ ë³€ìˆ˜ì— í•´ë‹¹í•˜ëŠ” ë‹¨ì–´ê°€ ì˜¤ëŠ” ê³³ì— ë™ì¼í•˜ê²Œ {{text}} í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.\r\n3. {{count}} ë³€ìˆ˜ê°€ ë“¤ì–´ê°€ëŠ” ë¬¸ì¥ì€ ë‹¨ìˆ˜/ë³µìˆ˜ ë¬¸ë²•ì´ ìˆê¸° ë•Œë¬¸ì— ë²ˆì—­ ì‹œ í‚¤(A ì¹¼ëŸ¼)ì˜ ë‚´ìš©ì„ ë²ˆì—­í•´ì•¼í•©ë‹ˆë‹¤.\r\n    \r\n    <img width=\"1172\" alt=\"2\" src=\"https://user-images.githubusercontent.com/46799722/159149911-522fea13-7f7b-49d5-ad71-8a7329a98cf9.png\">\r\n    \r\n4. <1>abcd</1>, <1><0>abcd</0></1>ê³¼ ê°™ì´ êº¾ì‡ (<>) í˜•íƒœëŠ” HTML tag ê°€ ì‚¬ìš© ëœ ë¬¸ì¥ìœ¼ë¡œ, bold, color ë“±ì´ ì ìš© ëœ ë¬¸ì¥ ì…ë‹ˆë‹¤.ë²ˆì—­ ì‹œì— HTML tag ê°€ ë“¤ì–´ê°€ëŠ” ë¶€ë¶„ì€ ë™ì¼í•˜ê²Œ ì‘ì„±í•©ë‹ˆë‹¤.\r\n    \r\n    <img width=\"1180\" alt=\"3\" src=\"https://user-images.githubusercontent.com/46799722/159149913-1dda16f5-4fab-4134-a57a-b5f240fc09fc.png\">\r\n    \r\n5. ì˜ì–´(C column)ì— **_N/A** í‘œì‹œëœ cellì€ ë²ˆì—­í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\r\n6. í‚¤(A column), í•œê¸€(B column) ì€ ì ˆëŒ€ ìˆ˜ì •í•˜ë©´ ì•ˆë©ë‹ˆë‹¤.\r\n\r\n### ê¸°ë³¸ ì‚¬ìš©ë²•\r\n\r\n**Before**\r\n\r\n```tsx\r\nconst MyComponent = ()=>{\r\n  const freeEndTime =  3\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<span>ë¹…ì¸ì‚¬ì´íŠ¸</span>\r\n\t\t\t<span>Professional ë¬´ë£Œ í‰ê°€íŒì˜ ì´ìš© ê¸°ê°„ì´ {freeEndTime}ì¼ ë‚¨ì•˜ìŠµë‹ˆë‹¤.</span>\r\n\t\t</div>\r\n\t)\r\n}\r\n```\r\n\r\n**After**\r\n\r\n- { t } = useTranslation()ì˜ í˜•íƒœë¡œë„ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ të¼ëŠ” í•¨ìˆ˜ ì´ë¦„ì´ ë„ˆë¬´ í”í•˜ê³ , ë‹¤ë¥¸ ì§€ì—­ ë³€ìˆ˜ì™€ ì¶©ëŒì´ ìˆì„ ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ i18next.të¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ í†µì¼í–ˆë‹¤.\r\n- ë§Œì•½ t í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•ŒëŠ” scanner ì¸ì‹ì„ ìœ„í•´ i18next-scanner.config.jsì—ì„œ options.func.list ë°°ì—´ì— 't'ë¥¼ ì¶”ê°€í•´ì¤˜ì•¼ í•œë‹¤.\r\n\r\n```tsx\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst MyComponent = ()=>{\r\n\tconst i18next = useTranslation();\r\n\tconst freeEndTime =  3;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<span>{i18next.t('ë¹…ì¸ì‚¬ì´íŠ¸')}</span>\r\n\t\t\t<span>{i18next.t(`Professional ë¬´ë£Œ í‰ê°€íŒì˜ ì´ìš© ê¸°ê°„ì´ {{freeEndTime}}ì¼ ë‚¨ì•˜ìŠµë‹ˆë‹¤.`, {\r\n             freeEndTime: freeEndTime})}\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t)\r\n}\r\n```\r\n\r\n### ì‘ìš© ì‚¬ìš©ë²•\r\n\r\n**(1) ë²ˆì—­ì— ë³€ìˆ˜ í¬í•¨í•˜ê¸°(interpolation)**\r\n\r\ninterpolation ì†ì„± ì´ë¦„ ììœ ë¡­ê²Œ ì„ íƒ ê°€ëŠ¥ (ì°¸ê³ : [interpolation](https://www.i18next.com/translation-function/interpolation))\r\n\r\n```tsx\r\n// ì˜ˆì‹œ\r\ni18next.t(`{{email}}ì€ êµ¬ê¸€ ê³„ì •ì…ë‹ˆë‹¤.`, { email: 'example@gmail.com' }\r\n\r\n// ì˜ˆì‹œ2\r\n{i18next.t(`í”„ë¡œì íŠ¸ì˜ ì´ìš©ê¸°ê°„ì´ {{end_time}} í›„ë¡œ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤.`, {\r\n  end_time: moment(end_time).format('YYYY-MM-DD'),\r\n})}\r\n```\r\n\r\n**(2) ì–¸ì–´ë³„ ë³µìˆ˜ ë‹¨ìˆ˜ í‘œí˜„ ëŒ€ì‘í•˜ê¸°**(**_plural ê³¼ _0)**\r\n\r\n- interpolation ì†ì„± ì´ë¦„ìœ¼ë¡œ ë°˜ë“œì‹œ `count`ë¥¼ ì‚¬ìš©í•œë‹¤ . (ì°¸ê³ : [plurals](https://www.i18next.com/translation-function/plurals))\r\n- i18next.t()ë©”ì†Œë“œì˜ í‚¤ê°€ `ìµœëŒ€ ìº í˜ì¸ì˜ ìˆ˜ëŠ” {{count}}ê°œì…ë‹ˆë‹¤.`ì¼ ë•Œ,\r\n    - í•œêµ­ì–´ì™€ ê°™ì´ ëª…ì‚¬ì— ë³µìˆ˜í˜•ì´ ì—†ëŠ” ì–¸ì–´ì¼ ë•Œ: `ìµœëŒ€ ìº í˜ì¸ì˜ ìˆ˜ëŠ” {{count}}ê°œì…ë‹ˆë‹¤._0`ë§Œ ì‘ì„±\r\n    - ì˜ì–´ì™€ ê°™ì´ ë³µìˆ˜í˜•ì´ ìˆëŠ” ì–¸ì–´ì¼ ë•Œ: `ìµœëŒ€ ìº í˜ì¸ì˜ ìˆ˜ëŠ” {{count}}ê°œì…ë‹ˆë‹¤.`, `ìµœëŒ€ ìº í˜ì¸ì˜ ìˆ˜ëŠ” {{count}}ê°œì…ë‹ˆë‹¤._plural` ì‘ì„±\r\n\r\n```tsx\r\n// ì˜ˆì‹œ\r\n\r\ni18next.t(\r\n  `ìµœëŒ€ ìº í˜ì¸ì˜ ìˆ˜ëŠ” {{**count**}}ê°œì…ë‹ˆë‹¤.`, { **count**: projectStore.max_campaign_count },\r\n),\r\n```\r\n\r\n**(3) html íƒœê·¸ë¥¼ í¬í•¨í•œ í•œê¸€ ë²ˆì—­**\r\n\r\n- `<Trans />` ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©í•˜ì—¬ ë²ˆì—­í•œë‹¤.\r\n- `<Trans />` ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ React ì¡°ê±´ë¶€ ë Œë”ë§ ì‚¬ìš©ì´ ë¶ˆê°€í•˜ë‹¤.\r\n- i18nKeyì— htmlì„ í¬í•¨í•´ì•¼ í•œë‹¤. (ìì²´ ì»¨ë²¤ì…˜)\r\n    - Trans ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ìˆëŠ” í•œê¸€ì„ default valueë¡œ ì œëŒ€ë¡œ scaní•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤.\r\n    - i18next-scanner.config.jsì— ì„¤ì •ì„ ì¶”ê°€í•œ í›„ ìì²´ ì»¨ë²¤ì…˜ìœ¼ë¡œ htmlì„ í¬í•¨í•˜ë„ë¡ í•´ì„œ ë¬¸ì œë¥¼ í•´ê²°í–ˆë‹¤.\r\n\r\n**Before**\r\n\r\n```tsx\r\n...\r\n\r\n<div>\r\n  ì´ í”„ë¡œì íŠ¸ì— ë°œê¸‰ëœ ì¶”ì  IDëŠ” <strong>{ projectID }</strong>ì…ë‹ˆë‹¤. ì•„ë˜ì˜ ê¸°ë³¸ ì¶”ì  ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ\r\n  ë¸”ëŸ­ì„ ë³µì‚¬í•˜ì—¬\r\n  <br />\r\n  ì›¹ì‚¬ì´íŠ¸ HTML ì˜ ê³µí†µ ì˜ì—­ &lt;head&gt;&lt;&#47;head&gt;ì— ë¶™ì—¬ ë„£ìœ¼ì„¸ìš”.\r\n<div>\r\n```\r\n\r\n**After**\r\n\r\n```tsx\r\n\r\nimport { Trans, useTranslation } from 'react-i18next';\r\n\r\n// ì˜ˆì‹œ1\r\n<div>\r\n\t<Trans i18nKey=\"ì›¹ì‚¬ì´íŠ¸ ì—°ê²° ì¤€ë¹„ ì•ˆë‚´ html\">\r\n\t  ì´ í”„ë¡œì íŠ¸ì— ë°œê¸‰ëœ ì¶”ì  IDëŠ” <strong>{{ projectID }}</strong>ì…ë‹ˆë‹¤. ì•„ë˜ì˜ ê¸°ë³¸ ì¶”ì  ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ\r\n\t  ë¸”ëŸ­ì„ ë³µì‚¬í•˜ì—¬\r\n\t  <br />\r\n\t  ì›¹ì‚¬ì´íŠ¸ HTML ì˜ ê³µí†µ ì˜ì—­ &lt;head&gt;&lt;&#47;head&gt;ì— ë¶™ì—¬ ë„£ìœ¼ì„¸ìš”.\r\n\t</Trans>\r\n</div>\r\n\r\n// ì˜ˆì‹œ2\r\n<Trans i18nKey=\"ëŒ€ì‹œë³´ë“œ ë°ëª¨ ì²´í—˜ ì•ˆë‚´ html\">\r\n  ë°ëª¨ ì‡¼í•‘ëª°ì˜ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ {{ name_kr: dashboard_config.name_kr }} ëŒ€ì‹œë³´ë“œ ë‚´ì˜ ê¸°ëŠ¥ì„ <br />\r\n  ì²´í—˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\n</Trans>\r\n```\r\n\r\n**(4) Trans ì»´í¬ë„ŒíŠ¸ì—ì„œ ë³µìˆ˜í˜• ì²˜ë¦¬ ì‚¬ìš©**\r\n\r\n- `npm run scan:i18n`ìœ¼ë¡œ _pluralì´ ì˜ ìƒì„±ë˜ëŠ”ì§€ í™•ì¸í•´ë´ì•¼ í•œë‹¤.\r\n\r\n```tsx\r\n// ì˜ˆì‹œ: -> _plural ê³¼ _0 ìƒì„±\r\n<Trans i18nKey=\"ì‚¬ìš©ì ë‚´ë³´ë‚´ê¸° html\" count={totalItem}>\r\n  <strong>{{ count: totalItem }}</strong>\r\n  ëª…ì˜ ì‚¬ìš©ìë¥¼ ë‚´ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\n</Trans>\r\n```\r\n\r\n**(5) ì»´í¬ë„ŒíŠ¸ ë°”ê¹¥ì— ìˆëŠ” ë¬¸ìì—´ ë²ˆì—­**\r\n\r\n**ë°©ë²•1: Dummy function ì‚¬ìš©** \r\n\r\n```tsx\r\n// i18next.t()ë¡œ ê°ì‹¸ì§€ ì•Šì€ í•œê¸€ì„ i18next-scannerì—ì„œ scan í•´ì£¼ê¸° ìœ„í•´ ì”Œìš°ëŠ” dummy function\r\nexport const i18nextScanKey = (key: string): string => key;\r\n```\r\n\r\n```tsx\r\nimport { i18nextScanKey } from '../i18n';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst itemList = [\r\n\t{\r\n\t\tlabel: i18nextScanKey('ìˆ˜ì •')\r\n\t},\r\n\t{\r\n\t\tlabel: i18nextScanKey('ì €ì¥')\r\n\t}\r\n]\r\n\r\nconst MyComponent = ()=>{\r\n\tconst i18next = useTranslation();\r\n\r\n\treturn (\r\n\t\t{itemList.map((item) => <div>{`${i18next.t(item.label)}`}</div>)}\r\n\t);\r\n}\r\n\r\n```\r\n\r\n- dummy functionìœ¼ë¡œ ë²ˆì—­ì´ í•„ìš”í•œ ë¶€ë¶„ì„ ê°ì‹¸ì£¼ì–´ i18next-scannerê°€ ì¸ì‹í•  ìˆ˜ ìˆê²Œ ì„¤ì •í•œë‹¤.\r\n- (ì°¸ê³ : [using-react-i18next-t-function-outside-components-having-troubles-using-promise](https://stackoverflow.com/questions/58452182/using-react-i18next-t-function-outside-components-having-troubles-using-promise))\r\n- **interpolationì„ ëŒ€ì‘í•  ìˆ˜ ì—†ëŠ” ë¬¸ì œê°€ ìˆë‹¤.**\r\n\r\n**ë°©ë²•2: í•¨ìˆ˜ íŒŒë¼ë¯¸í„°ë¡œ i18next ë„˜ê¸°ê¸°**\r\n\r\n**Before**\r\n\r\n```jsx\r\nconst tabList = [\r\n  { id: 1, type: 'plan-payment', label: 'í”Œëœ ê²°ì œ ë‚´ì—­' },\r\n  { id: 2, type: 'credit-payment', label: 'ë§ˆì¼€íŒ… ì˜ˆì‚° ì¶©ì „ ë‚´ì—­' },\r\n  { id: 3, type: 'usage', label: 'í¬ë ˆë”§ ë° ë§ˆì¼€íŒ… ì˜ˆì‚° í˜„í™©' },\r\n];\r\n\r\nexport const MyComponent = ()=>{\r\n\t...\r\n}\r\n```\r\n\r\n**After**\r\n\r\n```jsx\r\nimport { useTranslation } from 'react-i18next';\r\nimport { I18Next } from '../../i18n';\r\n\r\nconst getTabList = (i18next: I18Next) => [\r\n  { id: 1, type: 'plan-payment', label: i18next.t('í”Œëœ ê²°ì œ ë‚´ì—­') },\r\n  { id: 2, type: 'credit-payment', label: i18next.t('ë§ˆì¼€íŒ… ì˜ˆì‚° ì¶©ì „ ë‚´ì—­') },\r\n  { id: 3, type: 'usage', label: i18next.t('í¬ë ˆë”§ ë° ë§ˆì¼€íŒ… ì˜ˆì‚° í˜„í™©') },\r\n];\r\n\r\nexport const MyComponent = ()=>{\r\n\tconst i18next = useTranslation();\r\n\tconst tabList = getTabList(i18next);\r\n\t...\r\n}\r\n```\r\n\r\n## ì„¤ì • ë°©ë²•\r\n\r\n### ë””ë ‰í† ë¦¬ êµ¬ì¡°\r\n\r\n```\r\nğŸ“‚src\r\n â”£ğŸ“‚i18n\r\n â”ƒ â”£ ğŸ“‚locales\r\n â”ƒ â”ƒ â”£ ğŸ“‚en-US\r\n â”ƒ â”ƒ â”ƒ â”— ğŸ“œtranslation.json\r\n â”ƒ â”ƒ â”— ğŸ“‚ko-KR\r\n â”ƒ â”ƒ â”ƒ â”— ğŸ“œtranslation.json\r\n â”ƒ â”— ğŸ“œindex.ts\r\n â”£ ğŸ“‚components\r\n...\r\nğŸ“‚translate\r\n â”£ ğŸ“‚.credentials\r\n â”ƒ â”£ ğŸ“œindex.js\r\n â”ƒ â”— ğŸ“œpractical-net-....json\r\n â”£ ğŸ“œdownload.js\r\n â”£ ğŸ“œindex.js\r\n â”— ğŸ“œupload.js\r\n...\r\nğŸ“œi18next-scanner.config.js\r\nğŸ“œpackage.json\r\n...\r\n```\r\n\r\n### ì„¤ì¹˜\r\n\r\n```bash\r\nyarn add react-i18next i18next @types/react-i18next @types/i18next i18next-scanner google-spreadsheet\r\n```\r\n\r\n### react-i18next ì„¤ì •\r\n\r\n/**src/i18n/index.ts** (ì°¸ê³ : [Configure i18next](https://react.i18next.com/guides/quick-start#configure-i18next))\r\n\r\n```tsx\r\nimport i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport koKR from './locales/ko-KR/translation.json';\r\nimport enUS from './locales/en-US/translation.json';\r\n\r\nconst resources = {\r\n  ko: { translation: koKR },\r\n  en: { translation: enUS },\r\n};\r\n\r\n// ë¸Œë¼ìš°ì € ì–¸ì–´ ì„¤ì • ê°€ì ¸ì˜¤ê¸°\r\nconst browserLang = window.navigator.language.split('-')[0];\r\n\r\n// localStorageì—ì„œ ì–¸ì–´ ì„¤ì • ê°€ì ¸ì˜¤ê¸°\r\nconst userLanguage = [localStorageì—ì„œ ì–¸ì–´ ì„¤ì • ê°€ì ¸ì˜¤ê¸°] ?? browserLang;\r\n\r\ni18n.use(initReactI18next).init({\r\n  resources,\r\n  lng: userLanguage || 'ko',\r\n  fallbackLng: 'ko',\r\n  debug: false,\r\n  defaultNS: 'translation',\r\n  ns: 'translation',\r\n  keySeparator: false,\r\n  interpolation: {\r\n    escapeValue: false,\r\n    alwaysFormat: true,\r\n    format(value, format, lng) {\r\n      if (format === 'uppercase') return value.toUpperCase();\r\n\t\t\t// interpolation ë˜ëŠ” ê°’ì´ numberë¡œ ë“¤ì–´ì˜¬ ë•Œ, ì–¸ì–´ ì„¤ì •ì— ë§ëŠ” locale stringìœ¼ë¡œ ë³€í™˜í•´ì„œ ë°˜í™˜\r\n      if (typeof value === 'number') return value.toLocaleString(lng);\r\n      return value;\r\n    },\r\n  },\r\n  react: {\r\n    defaultTransParent: 'div',\r\n    transEmptyNodeValue: '',\r\n    transSupportBasicHtmlNodes: true,\r\n\t\t// <Trans> ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ë“¤ì–´ê°€ëŠ” html íƒœê·¸ë“¤\r\n    transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'button', 'a', 'span', 'div', 'input'],\r\n    transWrapTextNodes: '',\r\n  },\r\n  nsSeparator: '=>', // default: ':', :ê°€ ë²ˆì—­ í‚¤ì— í¬í•¨ë˜ëŠ” ì‚¬ë¡€ê°€ ìˆì–´, ë²ˆì—­ í‚¤ë¡œ ì‚¬ìš©ë˜ì§€ ì•Šì„ ê²ƒ ê°™ì€ seperatorë¥¼ ì„¤ì •\r\n});\r\n\r\nexport default i18n;\r\n\r\n// i18nextë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê¸¸ ë•Œ ì‚¬ìš©í•  ì¸í„°í˜ì´ìŠ¤ íƒ€ì…\r\nexport interface I18Next {\r\n  t: (str: string, option?: Object) => string;\r\n}\r\n\r\n// scannerë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ dummy function\r\nexport const i18nextScanKey = (key: string): string => key;\r\n```\r\n\r\n### i18next-scanner ì„¤ì •\r\n\r\n/**i18next-scanner.config.js**\r\n\r\n```jsx\r\nconst fs = require(\"fs\");\r\nconst path = require(\"path\");\r\nconst typescript = require(\"typescript\");\r\n\r\nconst COMMON_EXTENSIONS = '/**/*.{js,jsx,ts,tsx,vue,html}';\r\n\r\nmodule.exports = {\r\n  input: [`./src/${COMMON_EXTENSIONS}`],\r\n  options: {\r\n    debug: false,\r\n    // removeUnusedKeys: true,\r\n    defaultLng: 'ko-KR',\r\n    lngs: ['ko-KR', 'en-US'],\r\n    func: {\r\n      list: ['i18next.t', 'i18n.t', '$i18n.t', '$i18next.t', 'i18nextScanKey'],\r\n      extensions: ['.js', '.jsx'],\r\n    },\r\n    trans: {\r\n      component: 'Trans',\r\n      i18nKey: 'i18nKey',\r\n      defaultsKey: 'defaults',\r\n      extensions: ['.js', '.jsx'],\r\n      fallbackKey: function(ns, value) {\r\n        return value;\r\n      },\r\n      acorn: {\r\n          ecmaVersion: 10,\r\n          sourceType: 'module',\r\n      }\r\n    },\r\n    resource: {\r\n      loadPath: path.join(__dirname, '/src/i18n/locales/{{lng}}/{{ns}}.json'),\r\n      savePath: path.join(__dirname, '/src/i18n/locales/{{lng}}/{{ns}}.json'),\r\n    },\r\n    defaultValue(lng, ns, key) {\r\n      const keyAsDefaultValue = ['ko-KR'];\r\n      if (keyAsDefaultValue.includes(lng)) {\r\n        const separator = 'html';\r\n        const value = key.includes(separator) ? '' : key;\r\n        return value;\r\n      }\r\n      return '[ì‘ì„± í•„ìš”]';\r\n    },\r\n    keySeparator: false,\r\n    nsSeparator: false,\r\n    prefix: '{{',\r\n    suffix: '}}',\r\n  },\r\n  transform: function typescriptTransform(\r\n    options = {\r\n      tsOptions: {\r\n        target: \"es2018\",\r\n      },\r\n      extensions: [\".ts\", \".tsx\"],\r\n    }\r\n  ) {\r\n    return function transform(file, enc, done) {\r\n      const { base, ext } = path.parse(file.path);\r\n  \r\n      if (options.extensions.includes(ext) && !base.endsWith(\".d.ts\") && base.indexOf(\"reportWebVitals.ts\") === -1) {\r\n        const content = fs.readFileSync(file.path, enc);\r\n  \r\n        const { outputText } = typescript.transpileModule(content, {\r\n          compilerOptions: options.tsOptions,\r\n          fileName: path.basename(file.path),\r\n        });\r\n  \r\n        this.parser.parseTransFromString(outputText);\r\n        this.parser.parseFuncFromString(outputText);\r\n      }\r\n  \r\n      done();\r\n    };\r\n  }({ extensions: [\".tsx\", '.ts'], tsOptions: {\r\n    target: 'es5',\r\n    module: 'esnext',\r\n  }, })\r\n};\r\n```\r\n\r\n### Google Spread Sheet ì—°ë™\r\n\r\n1. [https://console.cloud.google.com/apis/dashboard](https://console.cloud.google.com/apis/dashboard) ì´ë™\r\n2. ì‚¬ìš©ì ì •ë³´ ì¸ì¦ íƒ­ìœ¼ë¡œ ì´ë™\r\n    \r\n    <img width=\"1423\" alt=\"4\" src=\"https://user-images.githubusercontent.com/46799722/159149914-e3da4f30-f730-4cb3-a9c6-312ff99c0358.png\">\r\n    \r\n3. ì‚¬ìš©ì ì¸ì¦ ì •ë³´ ë§Œë“¤ê¸° â†’ ì„œë¹„ìŠ¤ ê³„ì • í´ë¦­\r\n    \r\n    <img width=\"976\" alt=\"5\" src=\"https://user-images.githubusercontent.com/46799722/159149915-0517966b-b210-4b7d-8362-e664f6b03353.png\">\r\n    \r\n4. ì„œë¹„ìŠ¤ ê³„ì • ì´ë¦„ ì…ë ¥ í›„ ì™„ë£Œ í´ë¦­\r\n    \r\n    <img width=\"608\" alt=\"6\" src=\"https://user-images.githubusercontent.com/46799722/159149916-9b7521df-b997-462e-aa6e-f5f63ef9da85.png\">\r\n    \r\n5. ìƒì„±í•œ ì„œë¹„ìŠ¤ ê³„ì • í´ë¦­\r\n    \r\n    <img width=\"1156\" alt=\"7\" src=\"https://user-images.githubusercontent.com/46799722/159149918-7c065d1c-fbed-46d3-bc02-f7aafd953adb.png\">\r\n    \r\n6. í‚¤ íƒ­ìœ¼ë¡œ ì´ë™í•˜ì—¬ ìƒˆ í‚¤ ìƒì„±\r\n    \r\n    <img width=\"1161\" alt=\"8\" src=\"https://user-images.githubusercontent.com/46799722/159149919-f065073d-0555-4709-a1d7-5655386309fa.png\">\r\n    \r\n7. í‚¤ ìœ í˜• JSONìœ¼ë¡œ ì„ íƒ â†’ json íŒŒì¼ ë‹¤ìš´ë¡œë“œ â†’ react í”„ë¡œì íŠ¸ ìµœìƒë‹¨ì— translate/.credentials í´ë” ìƒì„±í›„ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ì—ì„œ ë‹¤ìš´ ë°›ì€ JSON íŒŒì¼ ì €ì¥\r\n    \r\n    <img width=\"557\" alt=\"9\" src=\"https://user-images.githubusercontent.com/46799722/159149920-bea956ca-97c5-4baa-8c9e-1d25ccd30bcf.png\">\r\n    \r\n8. ì„¸ë¶€ ì •ë³´ â†’ ì´ë©”ì¼ ë³µì‚¬ â†’ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ì— ê³µìœ  í´ë¦­ â†’ ì´ë©”ì¼ ì¶”ê°€\r\n\r\n<img width=\"771\" alt=\"10\" src=\"https://user-images.githubusercontent.com/46799722/159149922-235997fb-68e3-4b18-82e3-471ce6d22fff.png\">\r\n\r\n<img width=\"1383\" alt=\"11\" src=\"https://user-images.githubusercontent.com/46799722/159149923-0942d37f-9dd8-4c88-b358-5864e352c1ce.png\">\r\n\r\n<img width=\"620\" alt=\"12\" src=\"https://user-images.githubusercontent.com/46799722/159149924-87391178-b113-45a7-a783-8585ab29a8b6.png\">\r\n\r\n### translate ë””ë ‰í† ë¦¬\r\n\r\n**translate/.credentials/index.js**\r\n\r\ntranslate/.credentials ë””ë ‰í† ë¦¬ë¥¼ .gitignoreì— ì¶”ê°€í•˜ê¸°\r\n\r\n```bash\r\nmodule.exports={\r\n    CREDS: '[êµ¬ê¸€ ì„œë¹„ìŠ¤ ê³„ì • ì„¤ì • ì‹œ ë‹¤ìš´ë¡œë“œ ë°›ì€ json íŒŒì¼ ì´ë¦„].json',\r\n    SHEET_DOC_ID: \"[sheet document id]\",\r\n    SHEET_ID: 1\r\n}\r\n```\r\n\r\n**translate/index.js**\r\n\r\n```jsx\r\nconst {GoogleSpreadsheet} = require('google-spreadsheet');\r\nconst ENV = require('./.credentials/index.js');\r\nconst creds = require('./.credentials/' + ENV.CREDS);\r\nconst i18nextConfig = require('../i18next-scanner.config');\r\n\r\nconst spreadsheetDocId = ENV.SHEET_DOC_ID;\r\nconst ns = 'translation';\r\nconst lngs = i18nextConfig.options.lngs;\r\nconst loadPath = i18nextConfig.options.resource.loadPath;\r\nconst localesPath = loadPath.replace('/{{lng}}/{{ns}}.json', '');\r\nconst rePluralPostfix = new RegExp(/_plural|_[\\d]/g);\r\nconst sheetId = ENV.SHEET_ID; // your sheet id\r\nconst NOT_AVAILABLE_CELL = '_N/A';\r\nconst columnKeyToHeader = {\r\n  key: 'í‚¤',\r\n  'ko-KR': 'í•œê¸€',\r\n  'en-US': 'ì˜ì–´',\r\n};\r\n\r\n/**\r\n * getting started from https://theoephraim.github.io/node-google-spreadsheet\r\n */\r\nasync function loadSpreadsheet() {\r\n  // eslint-disable-next-line no-console\r\n  console.info(\r\n    '\\u001B[32m',\r\n    '=====================================================================================================================\\n',\r\n    '# i18next auto-sync using Spreadsheet\\n\\n',\r\n    '  * Download translation resources from Spreadsheet and make /src/i18n/locales/{{lng}}/{{ns}}.json\\n',\r\n    '  * Upload translation resources to Spreadsheet.\\n\\n',\r\n    `The Spreadsheet for translation is here (\\u001B[34mhttps://docs.google.com/spreadsheets/d/${spreadsheetDocId}/#gid=${sheetId}\\u001B[0m)\\n`,\r\n    '=====================================================================================================================',\r\n    '\\u001B[0m'\r\n  );\r\n\r\n  // spreadsheet key is the long id in the sheets URL\r\n  const doc = new GoogleSpreadsheet(spreadsheetDocId);\r\n\r\n  // load directly from json file if not in secure environment\r\n  await doc.useServiceAccountAuth(creds);\r\n\r\n  await doc.loadInfo(); // loads document properties and worksheets\r\n\r\n  return doc;\r\n}\r\n\r\nfunction getPureKey(key = '') {\r\n  return key.replace(rePluralPostfix, '');\r\n}\r\n\r\nmodule.exports = {\r\n  localesPath,\r\n  loadSpreadsheet,\r\n  getPureKey,\r\n  ns,\r\n  lngs,\r\n  sheetId,\r\n  columnKeyToHeader,\r\n  NOT_AVAILABLE_CELL,\r\n};\r\n```\r\n\r\n**translate/upload.js**\r\n\r\n```jsx\r\nconst fs = require('fs');\r\nconst {\r\n  loadSpreadsheet,\r\n  localesPath,\r\n  getPureKey,\r\n  ns,\r\n  lngs,\r\n  sheetId,\r\n  columnKeyToHeader,\r\n  NOT_AVAILABLE_CELL,\r\n} = require('./index');\r\n\r\nconst headerValues = ['í‚¤', 'í•œê¸€', 'ì˜ì–´'];\r\n\r\nasync function addNewSheet(doc, title, sheetId) {\r\n  const sheet = await doc.addSheet({\r\n    sheetId,\r\n    title,\r\n    headerValues,\r\n  });\r\n\r\n  return sheet;\r\n}\r\n\r\nasync function updateTranslationsFromKeyMapToSheet(doc, keyMap) {\r\n  const title = '[Sheet ì´ë¦„]';\r\n  let sheet = doc.sheetsById[sheetId];\r\n  if (!sheet) {\r\n    sheet = await addNewSheet(doc, title, sheetId);\r\n  }\r\n\r\n  const rows = await sheet.getRows();\r\n\r\n  // find exsit keys\r\n  const exsitKeys = {};\r\n  const addedRows = [];\r\n  rows.forEach((row) => {\r\n    const key = row[columnKeyToHeader.key];\r\n    if (keyMap[key]) {\r\n      exsitKeys[key] = true;\r\n    }\r\n  });\r\n\r\n  for (const [key, translations] of Object.entries(keyMap)) {\r\n    if (!exsitKeys[key]) {\r\n      const row = {\r\n        [columnKeyToHeader.key]: key,\r\n        ...Object.keys(translations).reduce((result, lng) => {\r\n          const header = columnKeyToHeader[lng];\r\n          result[header] = translations[lng];\r\n\r\n          return result;\r\n        }, {}),\r\n      };\r\n\r\n      addedRows.push(row);\r\n    }\r\n  }\r\n\r\n  // upload new keys\r\n  await sheet.addRows(addedRows);\r\n}\r\n\r\nfunction toJson(keyMap) {\r\n  const json = {};\r\n\r\n  Object.entries(keyMap).forEach(([__, keysByPlural]) => {\r\n    for (const [keyWithPostfix, translations] of Object.entries(keysByPlural)) {\r\n      json[keyWithPostfix] = {\r\n        ...translations,\r\n      };\r\n    }\r\n  });\r\n\r\n  return json;\r\n}\r\n\r\nfunction gatherKeyMap(keyMap, lng, json) {\r\n  for (const [keyWithPostfix, translated] of Object.entries(json)) {\r\n    const key = getPureKey(keyWithPostfix);\r\n\r\n    if (!keyMap[key]) {\r\n      keyMap[key] = {};\r\n    }\r\n\r\n    const keyMapWithLng = keyMap[key];\r\n    if (!keyMapWithLng[keyWithPostfix]) {\r\n      keyMapWithLng[keyWithPostfix] = lngs.reduce((initObj, lng) => {\r\n        initObj[lng] = NOT_AVAILABLE_CELL;\r\n\r\n        return initObj;\r\n      }, {});\r\n    }\r\n\r\n    keyMapWithLng[keyWithPostfix][lng] = translated;\r\n  }\r\n}\r\n\r\nasync function updateSheetFromJson() {\r\n  const doc = await loadSpreadsheet();\r\n\r\n  fs.readdir(localesPath, (error, lngs) => {\r\n    if (error) {\r\n      throw error;\r\n    }\r\n\r\n    const keyMap = {};\r\n\r\n    lngs.forEach((lng) => {\r\n      const localeJsonFilePath = `${localesPath}/${lng}/${ns}.json`;\r\n\r\n      // eslint-disable-next-line no-sync\r\n      const json = fs.readFileSync(localeJsonFilePath, 'utf8');\r\n\r\n      gatherKeyMap(keyMap, lng, JSON.parse(json));\r\n    });\r\n\r\n    updateTranslationsFromKeyMapToSheet(doc, toJson(keyMap));\r\n  });\r\n}\r\n\r\nupdateSheetFromJson();\r\n```\r\n\r\n**translate/download.js**\r\n\r\n```jsx\r\nconst fs = require('fs');\r\nconst mkdirp = require('mkdirp');\r\nconst {loadSpreadsheet, localesPath, ns, lngs, sheetId, columnKeyToHeader, NOT_AVAILABLE_CELL} = require('./index');\r\n\r\n/**\r\n * fetch translations from google spread sheet and transform to json\r\n * @param {GoogleSpreadsheet} doc GoogleSpreadsheet document\r\n * @returns [object] translation map\r\n * {\r\n *   \"ko-KR\": {\r\n *     \"key\": \"value\"\r\n *   },\r\n *   \"en-US\": {\r\n *     \"key\": \"value\"\r\n *   },\r\n * }\r\n */\r\nasync function fetchTranslationsFromSheetToJson(doc) {\r\n  const sheet = doc.sheetsById[sheetId];\r\n  if (!sheet) {\r\n    return {};\r\n  }\r\n\r\n  const lngsMap = {};\r\n  const rows = await sheet.getRows();\r\n\r\n  rows.forEach((row) => {\r\n    const key = row[columnKeyToHeader.key];\r\n    lngs.forEach((lng) => {\r\n      const translation = row[columnKeyToHeader[lng]];\r\n      // NOT_AVAILABLE_CELL(\"_N/A\") means no related language\r\n      if (translation === NOT_AVAILABLE_CELL) {\r\n        return;\r\n      }\r\n\r\n      if (!lngsMap[lng]) {\r\n        lngsMap[lng] = {};\r\n      }\r\n\r\n      lngsMap[lng][key] = translation || ''; // prevent to remove undefined value like ({\"key\": undefined})\r\n    });\r\n  });\r\n\r\n  return lngsMap;\r\n}\r\n\r\nfunction checkAndMakeLocaleDir(dirPath, subDirs) {\r\n  return new Promise((resolve) => {\r\n    subDirs.forEach((subDir, index) => {\r\n      mkdirp(`${dirPath}/${subDir}`, (err) => {\r\n        if (err) {\r\n          throw err;\r\n        }\r\n\r\n        if (index === subDirs.length - 1) {\r\n          resolve();\r\n        }\r\n      });\r\n    });\r\n  });\r\n}\r\n\r\nasync function updateJsonFromSheet() {\r\n  await checkAndMakeLocaleDir(localesPath, lngs);\r\n\r\n  const doc = await loadSpreadsheet();\r\n  const lngsMap = await fetchTranslationsFromSheetToJson(doc);\r\n\r\n  fs.readdir(localesPath, (error, lngs) => {\r\n    if (error) {\r\n      throw error;\r\n    }\r\n\r\n    lngs.forEach((lng) => {\r\n      const localeJsonFilePath = `${localesPath}/${lng}/${ns}.json`;\r\n\r\n      const jsonString = JSON.stringify(lngsMap[lng], null, 2);\r\n\r\n      fs.writeFile(localeJsonFilePath, jsonString, 'utf8', (err) => {\r\n        if (err) {\r\n          throw err;\r\n        }\r\n      });\r\n    });\r\n  });\r\n}\r\n\r\nupdateJsonFromSheet();\r\n```\r\n\r\n### **package.jsonì— script ì¶”ê°€**\r\n\r\n```json\r\n...\r\n\"scripts\": {\r\n\t...\r\n\t\"scan:i18n\": \"i18next-scanner --config i18next-scanner.config.js\",\r\n\t\"upload:i18n\": \"npm run scan:i18n && node translate/upload.js\",\r\n\t\"download:i18n\": \"node translate/download.js\",\r\n\t...\r\n},\r\n...\r\n\r\n```"},{"id":1645714800,"title":"í”Œëœ ë³€ê²½ì— ë”°ë¥¸ ê¸°ëŠ¥ ë° ë©”ë‰´ ì ‘ê·¼ ì œí•œ ê°œë°œ\r","author":"jangky000\r","category":"ì—…ë¬´ íšŒê³ \r","desc":"í”Œëœ ì—…ê·¸ë ˆì´ë“œ í•„ìš” ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ëŠ” ê¸°ëŠ¥ì„ ë¶„ë¦¬í•˜ê³  ê³µí†µí™”í•˜ì—¬ ì½”ë“œì˜ ê´€ë¦¬ì™€ ì¬ì‚¬ìš©ì„±ì„ ë†’ì¸ ê²½í—˜ì„ ê³µìœ í•œë‹¤.\r","date":"2022.02.25\r","content":"\r\n## ì‘ì—…ì— ì•ì„œ...\r\n\r\nìš”ìƒˆ ì‘ì—…ì„ ë“¤ì–´ê°€ê¸° ì „ì— ê³µí†µì ìœ¼ë¡œ í•˜ëŠ” ê³ ë¯¼ì´ ìˆë‹¤. ê·¸ê²ƒì€ ì½”ë“œ ê´€ë¦¬ì™€ ì¬ì‚¬ìš©ì„±ì— ëŒ€í•œ ê³ ë¯¼ì´ë‹¤. ë¶„ëª…íˆ ë¹„ìŠ·í•œ ê¸°ëŠ¥ë“¤ì´ ìˆê³ , ë¹„ìŠ·í•œ UIë¡œ ì´ë£¨ì–´ì ¸ ìˆì§€ë§Œ, ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê±°ë‚˜ ìˆ˜ì •í•  ë•Œ ì‰½ê²Œ ì¬ì‚¬ìš© í•  ìˆ˜ ìˆëŠ” ì½”ë“œ ì¡°ê°ì´ ì—†ë‹¤ëŠ” ìƒê°ì´ë“ ë‹¤. ë˜í•œ ìµœê·¼ DB ë§ˆì´ê·¸ë ˆì´ì…˜ ì‘ì—…ì„ í•˜ë©° ì¹¼ëŸ¼ëª…ì´ ì¡°ê¸ˆì”© ë³€ê²½ì´ ë˜ì—ˆëŠ”ë° ê·¸ë¡œ ì¸í•´ì„œ í”„ë¡ íŠ¸ì—”ë“œì—ì„œë„ ì—¬ëŸ¬ ë¶€ë¶„ì˜ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼ í–ˆë‹¤. ê¸°ëŠ¥ë³„ë¡œ ì¶”ìƒí™”ê°€ ì˜ ë˜ì–´ ìˆì—ˆë‹¤ë©´ ê¸°ìˆ  ìŠ¤íƒì˜ ë³€ê²½ì— ìœ ì—°í•˜ê³ , ì¬ì‚¬ìš©í•˜ê¸° í¸ë¦¬í–ˆì„ ê²ƒì´ë¼ëŠ” ìƒê°ì´ ë“ ë‹¤.\r\n\r\n# í”Œëœ ë¦¬ë‰´ì–¼!\r\n\r\ní”Œëœì´ ìƒˆë¡­ê²Œ ì—…ë°ì´íŠ¸ ëœë‹¤. ê¸°ì¡´ì˜ í”Œëœê³¼ ì´ë¦„ì€ ë™ì¼í•˜ì§€ë§Œ ê¸°ì¡´ê³¼ëŠ” ë‹¤ë¥¸ ì •ì±…ì´ ì ìš©ëœë‹¤. ê¸°ì¡´ì˜ ê³ ê°ë“¤ì—ê²ŒëŠ” ë‚¨ì€ ê¸°ê°„ ë™ì•ˆ ê¸°ì¡´ì˜ í”Œëœì´ ì ìš©ë˜ì–´ì•¼ í•˜ê³ , ì‹ ê·œ ê³ ê°ì—ê²ŒëŠ” ìƒˆë¡œìš´ í”Œëœì´ ì ìš©ëœë‹¤.\r\n\r\n## ì ìš© ê²°ê³¼\r\n\r\n1. í”Œëœ ì—…ê·¸ë ˆì´ë“œ ë±ƒì§€\r\n\r\n<img width=\"294\" alt=\"1\" src=\"https://user-images.githubusercontent.com/46799722/158050751-c092b4da-cc0a-4650-a024-910cce596756.png\">\r\n\r\n2. í”Œëœ ì—…ê·¸ë ˆì´ë“œ ì•„ì´ì½˜\r\n\r\n<img width=\"51\" alt=\"2\" src=\"https://user-images.githubusercontent.com/46799722/158050753-0c88d699-b048-4a05-bb1c-265b7eaddd3f.png\">\r\n<img width=\"284\" alt=\"3\" src=\"https://user-images.githubusercontent.com/46799722/158050755-67d113ab-5e1e-488c-8fc8-a122c0cfa916.png\">\r\n\r\n3. í”Œëœ ì—…ê·¸ë ˆì´ë“œ ë°°ë„ˆ\r\n\r\n<img width=\"1178\" alt=\"4\" src=\"https://user-images.githubusercontent.com/46799722/158050756-a9ad1616-e430-4bf0-8145-96cfb2f5fb8a.png\">\r\n\r\n4. í”Œëœ ì—…ê·¸ë ˆì´ë“œ ë‹¤ì´ì–¼ë¡œê·¸\r\n\r\n<img width=\"332\" alt=\"5\" src=\"https://user-images.githubusercontent.com/46799722/158050757-417b3257-fe69-4cce-9226-8bc0b184957f.png\">\r\n<img width=\"331\" alt=\"6\" src=\"https://user-images.githubusercontent.com/46799722/158050758-674c6739-0f51-46f0-9586-1eba93428b89.png\">\r\n\r\n## ì‚¬ìš©ë²•\r\n\r\n1. í”Œëœ ì—…ê·¸ë ˆì´ë“œ ë±ƒì§€\r\n\r\n```tsx\r\n<PlanUpgradeBadge planFeature=\"delayMessage\" style={{ marginLeft: '8px' }} />\r\n```\r\n\r\n2. í”Œëœ ì—…ê·¸ë ˆì´ë“œ ì•„ì´ì½˜\r\n\r\n```tsx\r\n\r\n<PlanUpgradeIconContainer planFeature=\"productDataFilter\" iconPlacement=\"right\">\r\n  <Button />\r\n</PlanUpgradeIconContainer>\r\n```\r\n\r\n```tsx\r\n<PlanUpgradeIconContainer planFeature=\"exportSegmentChannel\" iconPlacement=\"topRight\">\r\n  <Button />\r\n</PlanUpgradeIconContainer>\r\n```\r\n\r\n3. í”Œëœ ì—…ê·¸ë ˆì´ë“œ ë°°ë„ˆ\r\n\r\n```tsx\r\n<PlanUpgradeBannerContainer planFeature=\"liveReport\" />\r\n```\r\n\r\n4. í”Œëœ ì—…ê·¸ë ˆì´ë“œ ë‹¤ì´ì–¼ë¡œê·¸\r\n\r\n```tsx\r\n\r\n// ì˜ˆì œ: delayMessage ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” í”Œëœì¼ ë•Œ ë‹¤ì´ì–¼ë¡œê·¸ ì˜¤í”ˆ\r\n\r\nconst { checkIfPlanUpgradeNeeded } = useProjectPlanUpgrade();\r\nconst { showPlanUpgradeDialog } = useProjectPlanUpgradeDialog();\r\n\r\n...\r\n\r\nconst save = ()=>{\r\n\tif (checkIfPlanUpgradeNeeded('delayMessage')) {\r\n    showPlanUpgradeDialog('delayMessageCreate');\r\n    return;\r\n  }\r\n\r\n\tcreate();\r\n}\r\n\r\n...\r\n\r\n<Button onClick={save}>ì €ì¥</Button>\r\n```\r\n\r\n```tsx\r\n// ì˜ˆì œ: ìº í˜ì¸ì˜ ê°œìˆ˜ê°€ ìµœëŒ€ì¹˜ë¥¼ ë„˜ì—ˆì„ ë•Œ ë‹¤ì´ì–¼ë¡œê·¸ ì˜¤í”ˆ \r\n//      + ë‹¤ì´ì–¼ë¡œê·¸ì˜ í™•ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ ë¹„í™œì„±í™” ìƒíƒœë¡œ ìº í˜ì¸ ìƒì„±\r\n\r\nconst { checkIfPlanUpgradeNeeded } = useProjectPlanUpgrade();\r\nconst { showPlanUpgradeDialog } = useProjectPlanUpgradeDialog();\r\n// const { invalidateActiveCampaignCount } = useInvalidateActiveCampaignCount();\r\n\r\n...\r\n\r\nconst save = () => {\r\n\tif (checkIfPlanUpgradeNeeded('maxCampaignCount')) {\r\n    const afterClosed = (buttonKey: string) => {\r\n      if (buttonKey === 'confirm') {\r\n        // ìº í˜ì¸ ë¹„í™œì„±í™” ìƒíƒœë¡œ ìƒì„±\r\n        create({ campaignActive: false });\r\n      }\r\n    };\r\n    showPlanUpgradeDialog('maxCampaignCountCreate', afterClosed);\r\n    return;\r\n  }\r\n\tcreate({ campaignActive: true });\r\n}\r\n\r\n...\r\n\r\n<Button onClick={save}>ì €ì¥</Button>\r\n```\r\n\r\n## ê¸°ìˆ  ìŠ¤íƒì˜ ë³€í™” ì–´ë–»ê²Œ ëŒ€ë¹„í• ê¹Œ\r\n\r\nì´ë²ˆì— íšŒì‚¬ì—ì„œëŠ” Sharding ì§€ì›ì˜ ë¬¸ì œë¡œ DBë¥¼ ì´ì „í•˜ëŠ” ì¼ì´ ìˆì—ˆë‹¤. í•´ë‹¹ ì‘ì—…ì— ê³ ê¸‰ ê°œë°œìë“¤ì´ íˆ¬ì…ì´ ë˜ì—ˆìŒì—ë„ 3ë‹¬ì´ ë„˜ëŠ” ê¸°ê°„ ë™ì•ˆ ê³ ìƒì„ í•´ì•¼í–ˆë‹¤. ë…¸ë“œ ì„œë²„ì—ì„œ ë§ì€ ë¶€ë¶„ì„ ìˆ˜ì •í•´ì•¼ í–ˆê³ , ë˜ í”„ë¡ íŠ¸ì—”ë“œì—ì„œë„ ì¹¼ëŸ¼ëª…ì˜ ë³€í™”ë¡œ ì¸í•´ í•´ë‹¹ ë³€ìˆ˜ê°€ ì‚¬ìš©ëœ ë¶€ë¶„ì„ ì¼ì¼ì´ ì°¾ì•„ ìˆ˜ì •í•´ì•¼ í–ˆë‹¤. ê·¸ ì´ìœ ëŠ” ì¶”ìƒí™”ê°€ ì¶©ë¶„íˆ ì´ë£¨ì–´ì ¸ìˆì§€ ì•Šì•„ì„œì˜€ë‹¤. \r\n\r\nê·¸ì²˜ëŸ¼ react-queryë¼ëŠ” server stateë¥¼ ê´€ë¦¬í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ í˜„ì¬ëŠ” ì •ë§ ì¢‹ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ì§€ë§Œ ì–¸ì  ê°€ëŠ” ëŒ€ì²´ë  ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„±ì´ ìˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‰½ê²Œ ëŒ€ì²´í•  ìˆ˜ ìˆë„ë¡ ì¤€ë¹„ë¥¼ í•´ë‘˜ í•„ìš”ê°€ ìˆë‹¤. ì´ëŸ¬í•œ ì¶”ìƒí™” ì‘ì—…ì„ `ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ react-queryë¥¼ ê°ì‹¸ì„œ ì‚¬ìš©`í•˜ëŠ” ê²ƒìœ¼ë¡œ ì ìš©í–ˆë‹¤. react-queryë¥¼ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§ì ‘ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ ì•ŠìŒìœ¼ë¡œ ì¸í•´ ì»¤ìŠ¤í…€ í›…ì„ í•œë²ˆë§Œ ìˆ˜ì •í•˜ë©´ í•´ë‹¹ ì»¤ìŠ¤í…€í›…ì„ ì‚¬ìš©í•˜ëŠ” ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì½”ë“œë¥¼ ë³„ë„ë¡œ ìˆ˜ì •í•  ìˆ˜ê³ ë¥¼ ëœì–´ì¤„ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.\r\n\r\n### useProjectPlan.ts\r\n\r\ní˜„ì¬ ì„ íƒëœ í”„ë¡œì íŠ¸ì˜ í”Œëœ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì»¤ìŠ¤í…€ í›…ì´ë‹¤.\r\n\r\nì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•¨ìœ¼ë¡œ ì¸í•´ ì–»ëŠ” ì´ì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\r\n\r\n1. ì—¬ëŸ¬ react-queryì˜ ì˜µì…˜ ê¸°ëŠ¥ ì¤‘ì— ì‹¤ì œë¡œ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ì— ëŒ€í•´ì„œë§Œ ì œí•œì ìœ¼ë¡œ ì œê³µí•˜ì—¬ ì‚¬ìš© ì˜ë„ë¥¼ ë” ë¶„ëª…í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.\r\n2. ì„œë²„ì˜ ë°ì´í„° êµ¬ì¡° ë³€í™”ì— ëŒ€ì‘í•  ìˆ˜ ìˆë‹¤\r\n3. useQueryì˜ keyë¥¼ í¸ë¦¬í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.\r\n\r\n```tsx\r\nimport { useMemo, useCallback } from 'react';\r\nimport { QueryFunction, useQuery, useQueryClient } from 'react-query';\r\n...\r\n\r\ninterface UseProjectPlanReturns {\r\n  projectPlan: ProjectPlan | null;\r\n}\r\n\r\nconst key = 'plan';\r\n\r\n/**\r\n * @description\r\n * í˜„ì¬ ì„ íƒëœ í”„ë¡œì íŠ¸ì˜ í”Œëœ ì •ë³´\r\n */\r\nexport const useProjectPlan = (): UseProjectPlanReturns => {\r\n  const projectId = ...;\r\n  const queryKey = useMemo(() => [key, projectId], [projectId]);\r\n\r\n  const queryFn: QueryFunction<{ subscription: Subscription }> = useCallback(() => {\r\n    const queryParams = { ... };\r\n\r\n    return SubscribeApi.findOne(queryParams);\r\n  }, [projectId]);\r\n\r\n  const queryOptions = useMemo(\r\n    () => ({\r\n      enabled: Boolean(projectId),\r\n      refetchOnWindowFocus: false,\r\n      retry: false,\r\n      staleTime: 1000 * 60 * 30,\r\n    }),\r\n    [projectId],\r\n  );\r\n\r\n  const { data } = useQuery(queryKey, queryFn, queryOptions);\r\n  const projectPlan = useMemo(() => data || null, [data]);\r\n\r\n  return { projectPlan };\r\n};\r\n\r\ninterface UseInvalidateProjectPlanReturns {\r\n  invalidateProjectPlan: () => void;\r\n}\r\n\r\n/**\r\n * @description\r\n * í˜„ì¬ ì„ íƒëœ í”„ë¡œì íŠ¸ì˜ í”Œëœ ì •ë³´ invalidate\r\n */\r\nexport const useInvalidateProjectPlan = (): UseInvalidateProjectPlanReturns => {\r\n  const queryClient = useQueryClient();\r\n\r\n  const invalidateProjectPlan = useCallback(() => {\r\n    queryClient.invalidateQueries(key);\r\n  }, []);\r\n  return { invalidateProjectPlan };\r\n};\r\n```\r\n\r\n### useActiveCampaignCount.ts\r\n\r\ní™œì„±í™”ëœ ìº í˜ì¸ ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” ì»¤ìŠ¤í…€ í›….\r\n\r\nìœ„ì˜ useProjectPlanì™€ ë‹¤ë¥´ê²Œ optionsì—ì„œ useQueryì˜ enabled ì˜µì…˜ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.\r\n\r\n```tsx\r\nimport { useMemo, useCallback } from 'react';\r\nimport { useQuery, useQueryClient } from 'react-query';\r\n...\r\n\r\ninterface Options {\r\n  enabled?: boolean;\r\n}\r\n\r\ninterface UseActiveCampaignCountReturns {\r\n  activeCampaignCount: number;\r\n}\r\n\r\nconst key = 'activeCampaignCount';\r\n\r\n/**\r\n * @description\r\n * í™œì„±í™”ëœ ìº í˜ì¸ ìˆ˜\r\n */\r\nexport const useActiveCampaignCount = (options?: Options): UseActiveCampaignCountReturns => {\r\n  const projectId = ...;\r\n  const queryKey = useMemo(() => [key, projectId], [projectId]);\r\n\r\n  const queryFn = useCallback(() => {\r\n    const queryParams = {...};\r\n    return CampaignApi.count(queryParams);\r\n  }, [projectId]);\r\n\r\n  const enabled = useMemo(() => (options?.enabled === undefined ? true : options.enabled), [options?.enabled]);\r\n\r\n  const queryOptions = useMemo(\r\n    () => ({\r\n      enabled: Boolean(projectId) && enabled,\r\n      refetchOnWindowFocus: false,\r\n      retry: false,\r\n      staleTime: 1000 * 60 * 30,\r\n    }),\r\n    [projectId, enabled],\r\n  );\r\n\r\n  const { data: activeCampaign } = useQuery(queryKey, queryFn, queryOptions);\r\n  const activeCampaignCount = useMemo(() => activeCampaign?.count || 0, [activeCampaign?.count]);\r\n\r\n  return { activeCampaignCount };\r\n};\r\n\r\ninterface UseInvalidateActiveCampaignCountReturns {\r\n  invalidateActiveCampaignCount: () => void;\r\n}\r\n\r\n/**\r\n * @description\r\n * í™œì„±í™”ëœ ìº í˜ì¸ ìˆ˜ invalidate\r\n */\r\nexport const useInvalidateActiveCampaignCount = (): UseInvalidateActiveCampaignCountReturns => {\r\n  const queryClient = useQueryClient();\r\n\r\n  const invalidateActiveCampaignCount = useCallback(() => {\r\n    queryClient.invalidateQueries(key);\r\n  }, []);\r\n\r\n  return { invalidateActiveCampaignCount };\r\n};\r\n```\r\n\r\n## í”Œëœ ì—…ê·¸ë ˆì´ë“œ í•„ìš” ì—¬ë¶€ ì–´ë–»ê²Œ í™•ì¸í• ê¹Œ\r\n\r\nê¸°ì¡´ì˜ í”Œëœë³„ ê¸°ëŠ¥ ì œí•œì€ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— í•˜ë“œì½”ë”© ë˜ì–´ ìˆë‹¤. ì´ ì½”ë“œë“¤ì€ ê¸°ì¡´ì˜ í”Œëœì´ ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì‹œì ì— ê±·ì–´ë‚´ì•¼í•  ê¸°ìˆ ì ì¸ ë¶€ì±„ë‹¤. í”Œëœë³„ë¡œ ì—…ê·¸ë ˆì´ë“œê°€ í•„ìš”í•œì§€ ì—¬ë¶€ëŠ” í•˜ë‚˜ì˜ ë…ë¦½ì ì¸ ê¸°ëŠ¥ì´ê¸° ë•Œë¬¸ì— ë¶„ë¦¬í•˜ì—¬ íƒ€ ì»´í¬ë„ŒíŠ¸ì™€ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê³  ê¸°ëŠ¥ ì‘ì§‘ë„ë¥¼ ë†’ì¼ í•„ìš”ê°€ ìˆì—ˆë‹¤.\r\n\r\n### useProjectPlanUpgrade()\r\n\r\ní”Œëœ ì—…ê·¸ë ˆì´ë“œì™€ ê´€ë ¨í•œ ë©”ì†Œë“œë¥¼ ë°˜í™˜í•˜ëŠ” ì»¤ìŠ¤í…€ í›….\r\n\r\n- í”Œëœ ì—…ê·¸ë ˆì´ë“œ í•„ìš” ì—¬ë¶€ë¥¼ ì²´í¬í•˜ëŠ” checkIfPlanUpgradeNeeded ë©”ì†Œë“œë¥¼ ë°˜í™˜.\r\n- í”„ë¡œì íŠ¸ í”Œëœ ì •ë³´ë¥¼ ì„œë²„ì—ì„œ ê°€ì ¸ì˜´.\r\n- prefetch ì†ì„±ì— ë”°ë¼ í•„ìš”í•œ ì„œë²„ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´.\r\n\r\n```tsx\r\n/**\r\n * @description\r\n * ë‹¤ìŒ í”Œëœ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°\r\n * ìˆœìˆ˜ í•¨ìˆ˜\r\n */\r\nconst getNextPlan = (planName: PlanNames | null): PlanNames | null => {\r\n  switch (planName) {\r\n    default:\r\n      return null;\r\n    case 'Growth':\r\n      return 'Professional';\r\n    case 'Professional':\r\n      return 'Enterprise';\r\n  }\r\n};\r\n\r\ninterface Prefetch {\r\n  activeCampaignCount?: boolean;\r\n  manualSegmentCount?: boolean;\r\n  userPermissionCount?: boolean;\r\n}\r\n\r\ninterface UseProjectPlanUpgradeReturns {\r\n  isLegacyPlan: boolean;\r\n  currentPlan: PlanNames | null;\r\n  nextPlan: PlanNames | null;\r\n  checkIfPlanUpgradeNeeded: (planFeature: ProjectPlanFeatures) => boolean;\r\n}\r\n\r\n/**\r\n * @description\r\n * í”Œëœ ì—…ê·¸ë ˆì´ë“œê°€ í•„ìš”í•œì§€ ì—¬ë¶€ë¥¼ ì²´í¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë¦¬í„´í•˜ëŠ” ì»¤ìŠ¤í…€ í›…\r\n */\r\nexport const useProjectPlanUpgrade = (prefetch?: Prefetch): UseProjectPlanUpgradeReturns => {\r\n  const { projectPlan } = useProjectPlan();\r\n\r\n  // í™œì„±í™” ëœ ìº í˜ì¸ ê°œìˆ˜\r\n  const { activeCampaignCount } = useActiveCampaignCount({\r\n    enabled: Boolean(prefetch?.activeCampaignCount),\r\n  });\r\n\r\n  // ê³ ê° ë¶„ë¥˜ ê°œìˆ˜\r\n  const { manualSegmentCount } = useManualSegmentCount({\r\n    enabled: Boolean(prefetch?.manualSegmentCount),\r\n  });\r\n\r\n  // ì‚¬ìš©ì ê¶Œí•œ ê°œìˆ˜\r\n  const { invitationCount: userPermissionCount } = useInvitationCount({\r\n    enabled: Boolean(prefetch?.userPermissionCount),\r\n  });\r\n\r\n    const isLegacyPlan = !projectPlan?.is_new;\r\n  const currentPlan = projectPlan?.name || null;\r\n  const nextPlan = useMemo(() => getNextPlan(currentPlan), [currentPlan]);\r\n\r\n  const checkIfPlanUpgradeNeeded = useCallback(\r\n    (planFeature: ProjectPlanFeatures) => {\r\n     return isLimitedFeature({\r\n        planFeature,\r\n        projectPlan,\r\n        activeCampaignCount,\r\n        manualSegmentCount,\r\n        userPermissionCount,\r\n      });\r\n    },\r\n    [projectPlan, activeCampaignCount, manualSegmentCount, userPermissionCount],\r\n  );\r\n\r\n  return { isLegacyPlan, currentPlan, nextPlan, checkIfPlanUpgradeNeeded };\r\n};\r\n```\r\n\r\n### isLimitedFeature()\r\n\r\n- ìˆœìˆ˜í•¨ìˆ˜\r\n- í”Œëœ ì—…ê·¸ë ˆì´ë“œ í•„ìš” ì—¬ë¶€ booleanìœ¼ë¡œ ë°˜í™˜.\r\n\r\n```tsx\r\ninterface IsLimitedFeatureProps {\r\n  planFeature: ProjectPlanFeatures;\r\n  projectPlan: ProjectPlan | null;\r\n  activeCampaignCount?: number | undefined;\r\n  manualSegmentCount?: number | undefined;\r\n  userPermissionCount?: number | undefined;\r\n}\r\n\r\n/**\r\n * @description\r\n * ì œí•œëœ ê¸°ëŠ¥ì¸ì§€ ì—¬ë¶€\r\n * ìˆœìˆ˜ í•¨ìˆ˜\r\n */\r\nexport const isLimitedFeature = ({\r\n  planFeature,\r\n  projectPlan,\r\n  activeCampaignCount = 0,\r\n  manualSegmentCount = 0,\r\n  userPermissionCount = 0,\r\n}: IsLimitedFeatureProps): boolean => {\r\n  if (!projectPlan) return false;\r\n\r\n  // ê¸°ì¡´ í”Œëœì—ëŠ” ê¸°ëŠ¥ ì œí•œí•˜ì§€ ì•ŠìŒ\r\n  const isRenewalPlan = projectPlan?.is_new;\r\n  if (!isRenewalPlan) return false;\r\n\r\n  const isExceedingMax = (current: number, max: number | null) => {\r\n    return current >= (max || 0);\r\n  };\r\n\r\n  switch (planFeature) {\r\n    default:\r\n      return false;\r\n    case 'delayMessage':\r\n      // ëŒ€ê¸° í›„ ë°œì†¡ ì œê³µ ì—¬ë¶€\r\n      return !projectPlan.delay_message;\r\n    case 'liveReport':\r\n      // ë¼ì´ë¸Œ ë³´ê³ ì„œ ì œê³µ ì—¬ë¶€\r\n      return !projectPlan.live_report;\r\n    case 'exportSegmentChannel':\r\n      // í˜ì´ìŠ¤ë¶ ë‚´ë³´ë‚´ê¸° ì œê³µ ì—¬ë¶€\r\n      if (projectPlan.name === 'Enterprise') return false;\r\n      return true;\r\n    case 'productDataFilter':\r\n      // ìƒí’ˆ ë°ì´í„° í•„í„°ë¥¼ ì œê³µ ì—¬ë¶€\r\n      return !projectPlan.product_data_filter;\r\n    case 'maxCampaignCount':\r\n      // ìº í˜ì¸ ê°œìˆ˜ ì œí•œ ì´ˆê³¼ ì—¬ë¶€\r\n      if (projectPlan.max_campaign_count === null || projectPlan.max_campaign_count === undefined) return false;\r\n      return isExceedingMax(activeCampaignCount, projectPlan.max_campaign_count);\r\n    case 'manualSegmentCount':\r\n      // ê³ ê° ë¶„ë¥˜ ê°œìˆ˜ ì œí•œ ì´ˆê³¼ ì—¬ë¶€\r\n      return isExceedingMax(manualSegmentCount, projectPlan.manual_segment_count);\r\n    case 'userPermissionCount':\r\n      // ì‚¬ìš©ì ê¶Œí•œ ê°œìˆ˜ ì œí•œ ì´ˆê³¼ ì—¬ë¶€\r\n      return isExceedingMax(userPermissionCount, projectPlan.user_permission_count);\r\n  }\r\n};\r\n```\r\n\r\n## í”Œëœ ì—…ê·¸ë ˆì´ë“œ ì•ˆë‚´ ë¬¸êµ¬ ê´€ë¦¬\r\n\r\ní”Œëœ ì—…ê·¸ë ˆì´ë“œ ì—¬ë¶€ë¥¼ ì²´í¬í•˜ê³  ë‚˜ë©´ í”Œëœ ì—…ê·¸ë ˆì´ë“œê°€ í•„ìš”í•˜ë‹¤ëŠ” ë‹¤ì´ì–¼ë¡œê·¸ë¥¼ ë„ì›Œì¤˜ì•¼ í•œë‹¤. ì´ì „ ê²Œì‹œê¸€ì—ì„œ ë³´ì•˜ë˜ modalStoreì²˜ëŸ¼ dialogStore ì—­ì‹œ mobxì˜ observable stateë¡œ ì´ë£¨ì–´ì ¸ìˆëŠ”ë°, ì´ë¥¼ í™œìš©í•˜ì—¬ í”Œëœ ì—…ê·¸ë ˆì´ë“œ ê´€ë ¨ ë‹¤ì´ì–¼ë¡œê·¸ë¥¼ í•œ ê³³ì—ì„œ ê´€ë¦¬í•˜ë„ë¡ í–ˆë‹¤.\r\n\r\n### usePlanUpgradeDialog()\r\n\r\ní”Œëœ ì—…ê·¸ë ˆì´ë“œ ê´€ë ¨ ë‹¤ì´ì–¼ë¡œê·¸ë¥¼ ì œì–´í•˜ëŠ” ë©”ì†Œë“œë¥¼ ë°˜í™˜í•˜ëŠ” ì»¤ìŠ¤í…€ í›….\r\n\r\n- showPlanUpgradeDialog ë©”ì†Œë“œ ë°˜í™˜.\r\n\r\n```tsx\r\n/**\r\n * @description\r\n * planUpgradeDialogTypes ê´€ë ¨í•œ Dialogë¥¼ ê´€ë¦¬í•˜ëŠ” ì»¤ìŠ¤í…€ í›…\r\n */\r\nexport const useProjectPlanUpgradeDialog = (): {\r\n  showPlanUpgradeDialog: (\r\n    planUpgradeDialogTypes: PlanUpgradeDialogTypes,\r\n    afterClosed?: (buttonKey: string) => void,\r\n  ) => void;\r\n} => {\r\n  const history = useHistory();\r\n  const i18next = useTranslation();\r\n  const { dialogStore } = useDataStore();\r\n  const { projectPlan } = useProjectPlan();\r\n\r\n  // dialog ë²„íŠ¼ íƒ€ì…\r\n  const getButtonList = useCallback((buttonType: ButtonTypes, afterClosed?: (buttonKey: string) => void) => {\r\n    const redirectToPlanUpgradePage = () => {\r\n      history.push('/plan');\r\n      dialogStore.hideDialog();\r\n      afterClosed?.('redirect');\r\n    };\r\n\r\n    const confirmDialog = () => {\r\n      dialogStore.hideDialog();\r\n      afterClosed?.('confirm');\r\n    };\r\n\r\n    // type1\r\n    const type1 = [\r\n      {\r\n        label: i18next.t('í™•ì¸'),\r\n        handleClick: confirmDialog,\r\n        appearance: 'secondary',\r\n      },\r\n      {\r\n        label: i18next.t('í”Œëœ ì—…ê·¸ë ˆì´ë“œ'),\r\n        handleClick: redirectToPlanUpgradePage,\r\n        appearance: 'primary',\r\n      },\r\n    ];\r\n\r\n    // type2\r\n    const type2 = [\r\n      {\r\n        label: i18next.t('í™•ì¸'),\r\n        handleClick: confirmDialog,\r\n        appearance: 'primary',\r\n      },\r\n    ];\r\n\r\n    switch (buttonType) {\r\n      default:\r\n        return type2;\r\n      case 'type1':\r\n        return type1;\r\n      case 'type2':\r\n        return type2;\r\n    }\r\n  }, []);\r\n\r\n  // dialogTypeì— ë§ëŠ” ë‹¤ì´ì–¼ë¡œê·¸ show\r\n  const showPlanUpgradeDialog = useCallback(\r\n    (dialogType: PlanUpgradeDialogTypes, afterClosed?: (buttonKey: string) => void) => {\r\n      if (!projectPlan) return;\r\n      const { desc, descOptions, buttonType } = getDialogSetting({ dialogType, projectPlan });\r\n      const buttonList = getButtonList(buttonType, afterClosed);\r\n      dialogStore.showDialog(i18next.t('í”Œëœ ì—…ê·¸ë ˆì´ë“œ í•„ìš”'), i18next.t(desc, descOptions), buttonList);\r\n    },\r\n    [projectPlan],\r\n  );\r\n\r\n  return { showPlanUpgradeDialog };\r\n};\r\n```\r\n\r\n### getDialogSetting()\r\n\r\nìˆœìˆ˜í•¨ìˆ˜\r\n\r\ní”Œëœ ì—…ê·¸ë ˆì´ë“œ ë‹¤ì´ì–¼ë¡œê·¸ ê´€ë¦¬\r\n\r\n```tsx\r\nexport type PlanUpgradeDialogTypes =\r\n  | 'delayMessageUpdate'\r\n  | 'delayMessageCopy'\r\n  | 'delayMessageCreate'\r\n  | 'exportSegmentChannel'\r\n  | 'maxCampaignCountCreate'\r\n  | 'maxCampaignCountActivate'\r\n  | 'maxCampaignCountCreateToast'\r\n  | 'manualSegmentCountCreate'\r\n  | 'productDataFilter'\r\n  | 'liveReport'\r\n  | 'userPermissionCount';\r\n\r\ninterface DialogSettingProps {\r\n  dialogType: PlanUpgradeDialogTypes;\r\n  projectPlan: ProjectPlan;\r\n}\r\n\r\ntype ButtonTypes = 'type1' | 'type2';\r\n\r\ninterface DialogSetting {\r\n  desc: string;\r\n  descOptions?: object | undefined;\r\n  buttonType: ButtonTypes;\r\n}\r\n\r\n/**\r\n * @description\r\n * í”Œëœ ì—…ê·¸ë ˆì´ë“œ ë‹¤ì´ì–¼ë¡œê·¸ ê´€ë¦¬\r\n * ìˆœìˆ˜ í•¨ìˆ˜\r\n */\r\nconst getDialogSetting = ({ dialogType, projectPlan }: DialogSettingProps): DialogSetting => {\r\n  switch (dialogType) {\r\n    default:\r\n      return { desc: '', buttonType: 'type2' };\r\n    case 'delayMessageUpdate':\r\n    case 'delayMessageCopy':\r\n      return {\r\n        desc: i18nextScanKey('í•´ë‹¹ ìº í˜ì¸ì€ í”Œëœ ë³€ê²½ìœ¼ë¡œ ì¸í•´ ìˆ˜ì • ë° ë³µì‚¬ê°€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.'),\r\n        buttonType: 'type1',\r\n      };\r\n    case 'delayMessageCreate':\r\n      return {\r\n        desc: i18nextScanKey('{{planName}} ì´ìƒ í”Œëœì— ì œê³µ ë˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.'),\r\n        descOptions: { planName: 'Professional' },\r\n        buttonType: 'type1',\r\n      };\r\n    case 'exportSegmentChannel':\r\n      return {\r\n        desc: i18nextScanKey('ì™¸ë¶€ ê´‘ê³  í”Œë«í¼ìœ¼ë¡œ ê³ ê°ëª©ë¡ ì—°ë™ì€ {{planName}}ì—ì„œ ì§€ì› ë©ë‹ˆë‹¤.'),\r\n        descOptions: { planName: 'Enterprise' },\r\n        buttonType: 'type1',\r\n      };\r\n    case 'maxCampaignCountCreate':\r\n      return {\r\n        desc: i18nextScanKey(\r\n          '{{planName}} í”Œëœì€ ìµœëŒ€ {{count}}ê°œì˜ ìº í˜ì¸ë§Œ í™œì„±í™”ê°€ ê°€ëŠ¥í•˜ì—¬ í•´ë‹¹ ìº í˜ì¸ì€ â€™ë¹„í™œì„±í™”â€™ ìƒíƒœë¡œ ì €ì¥ ë©ë‹ˆë‹¤.',\r\n        ),\r\n        descOptions: { planName: projectPlan.name, count: projectPlan.max_campaign_count },\r\n        buttonType: 'type2',\r\n      };\r\n    case 'maxCampaignCountActivate':\r\n      return {\r\n        desc: i18nextScanKey('{{planName}} í”Œëœì€ ìµœëŒ€ {{count}}ê°œì˜ ìº í˜ì¸ë§Œ í™œì„±í™”ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.'),\r\n        descOptions: { planName: projectPlan.name, count: projectPlan.max_campaign_count },\r\n        buttonType: 'type1',\r\n      };\r\n    case 'maxCampaignCountCreateToast':\r\n      return {\r\n        desc: i18nextScanKey(\r\n          'ìº í˜ì¸ì€ ìµœëŒ€ {{count}}ê°œê¹Œì§€ ìƒì„± ê°€ëŠ¥í•©ë‹ˆë‹¤. ë‹¤ë¥¸ í† ìŠ¤íŠ¸ í‘¸ì‹œë¥¼ í•´ì œ ë˜ëŠ” ë‹¤ë¥¸ ìº í˜ì¸ì„ ë¹„í™œì„±í™” í•œ í›„ ì„ íƒí•´ì£¼ì„¸ìš”.',\r\n        ),\r\n        descOptions: { count: projectPlan.max_campaign_count },\r\n        buttonType: 'type2',\r\n      };\r\n    case 'manualSegmentCountCreate':\r\n      switch (projectPlan.name) {\r\n        case 'Growth':\r\n        case 'Professional':\r\n        case 'Free-trial':\r\n          return {\r\n            desc: i18nextScanKey('{{planName}} í”Œëœì€ ìµœëŒ€ {{count}}ê°œì˜ ë§ì¶¤ ê³ ê°ë¶„ë¥˜ ìƒì„±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.'),\r\n            descOptions: { planName: projectPlan.name, count: projectPlan.manual_segment_count },\r\n            buttonType: 'type1',\r\n          };\r\n        default:\r\n        case 'Enterprise':\r\n          return {\r\n            desc: i18nextScanKey('ì¶”ê°€ ë§ì¶¤ ê³ ê°ë¶„ë¥˜ ìƒì„±ì€ ë‹´ë‹¹ ë§¤ë‹ˆì €ì—ê²Œ ë¬¸ì˜ í•´ì£¼ì„¸ìš”.'),\r\n            buttonType: 'type2',\r\n          };\r\n      }\r\n    case 'productDataFilter':\r\n      return {\r\n        desc: i18nextScanKey('{{planName}} ì´ìƒ í”Œëœì— ì œê³µ ë˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.'),\r\n        descOptions: { planName: 'Enterprise' },\r\n        buttonType: 'type1',\r\n      };\r\n    case 'liveReport':\r\n      return {\r\n        desc: i18nextScanKey('{{planName}} ì´ìƒ í”Œëœì— ì œê³µ ë˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.'),\r\n        descOptions: { planName: 'Enterprise' },\r\n        buttonType: 'type1',\r\n      };\r\n    case 'userPermissionCount':\r\n      return {\r\n        desc: i18nextScanKey(\r\n          'ì´ˆëŒ€ ê°€ëŠ¥í•œ ì‚¬ìš©ì ìˆ˜ê°€ ìµœëŒ€ ì…ë‹ˆë‹¤.\\nì‚¬ìš© ì¤‘ì¸ í”Œëœì´ {{planName}} ì¼ ê²½ìš° ë‹´ë‹¹ìì—ê²Œ ë¬¸ì˜ í•´ì£¼ì„¸ìš”.',\r\n        ),\r\n        descOptions: { planName: 'Enterprise' },\r\n        buttonType: 'type1',\r\n      };\r\n  }\r\n};\r\n\r\n```\r\n\r\n## í”Œëœ ì—…ê·¸ë ˆì´ë“œ ì»´í¬ë„ŒíŠ¸\r\n\r\n### PlanUpgradeBadge\r\n\r\ní”Œëœ ì—…ê·¸ë ˆì´ë“œê°€ í•„ìš”í•˜ë©´ ë°°ì§€ë¥¼ ë…¸ì¶œ\r\n\r\n```tsx\r\ninterface PlanUpgradeBadgeProps {\r\n  planFeature: ProjectPlanFeatures;\r\n  style?: React.CSSProperties;\r\n}\r\n\r\n/**\r\n * @description\r\n * Container\r\n */\r\nconst PlanUpgradeBadge = ({ planFeature, style = undefined }: PlanUpgradeBadgeProps): JSX.Element | null => {\r\n  const i18next = useTranslation();\r\n\r\n  const { checkIfPlanUpgradeNeeded } = useProjectPlanUpgrade();\r\n\r\n  if (checkIfPlanUpgradeNeeded(planFeature)) {\r\n    return <Badge style={style}>{i18next.t('í”Œëœ ì—…ê·¸ë ˆì´ë“œ í•„ìš”')}</Badge>;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default React.memo(PlanUpgradeBadge);\r\n```\r\n\r\n### PlanUpgradeIcon\r\n\r\ní”Œëœ ì—…ê·¸ë ˆì´ë“œê°€ í•„ìš”í•˜ë©´ lock ì•„ì´ì½˜ì„ ë…¸ì¶œ\r\n\r\n```tsx\r\ninterface PlanUpgradeIconCompositionProps {\r\n  planFeature: ProjectPlanFeatures;\r\n  iconPlacement: 'topRight' | 'right';\r\n  tooltipOptions?: Omit<TooltipProps, 'title'>;\r\n  children: React.ReactNode;\r\n}\r\n\r\n/**\r\n * @description\r\n * Composition, Container\r\n * - planFeatureì— ë”°ë¼ í”Œëœ ì—…ê·¸ë ˆì´ë“œê°€ í•„ìš”í•  ì‹œ lock ì•„ì´ì½˜ì„ ë³´ì—¬ì¤Œ\r\n * @example\r\n */\r\nconst PlanUpgradeIconContainer = ({\r\n  planFeature,\r\n  iconPlacement,\r\n  tooltipOptions = undefined,\r\n  children,\r\n}: PlanUpgradeIconCompositionProps): JSX.Element => {\r\n  const { checkIfPlanUpgradeNeeded } = useProjectPlanUpgrade();\r\n\r\n  const planUpgradeNeeded = checkIfPlanUpgradeNeeded(planFeature);\r\n\r\n  return (\r\n    <PlanUpgradeIconPresenter\r\n      planUpgradeNeeded={planUpgradeNeeded}\r\n      iconPlacement={iconPlacement}\r\n      tooltipOptions={tooltipOptions}\r\n    >\r\n      {children}\r\n    </PlanUpgradeIconPresenter>\r\n  );\r\n};\r\n\r\nexport default React.memo(PlanUpgradeIconContainer);\r\n```\r\n\r\n### PlanUpgradeBanner\r\n\r\ní”Œëœ ì—…ê·¸ë ˆì´ë“œê°€ í•„ìš”í•˜ë©´ ë°°ë„ˆë¥¼ ë…¸ì¶œ\r\n\r\n```tsx\r\ninterface PlanUpgradeBannerContainerProps {\r\n  planFeature: ProjectPlanFeatures;\r\n}\r\n\r\nconst PlanUpgradeBannerContainer = ({ planFeature }: PlanUpgradeBannerContainerProps): JSX.Element | null => {\r\n  const i18next = useTranslation();\r\n  const history = useHistory();\r\n  const { nextPlan, checkIfPlanUpgradeNeeded } = useProjectPlanUpgrade();\r\n\r\n  const renderBanner = () => {\r\n    const text = i18next.t(\"í˜„ì¬ í”Œëœì—ì„œëŠ” ì‚¬ìš©ì´ ì œí•œë©ë‹ˆë‹¤. '{{planName}}' ì´ìƒ í”Œëœìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ í•´ì£¼ì„¸ìš”.\", {\r\n      planName: nextPlan,\r\n    });\r\n\r\n    const handleButtonClick = () => {\r\n      history.push('/plan');\r\n    };\r\n\r\n    return <PlanUpgradeBannerPresenter text={text} buttonText=\"í”Œëœ ë³€ê²½í•˜ê¸°\" handleButtonClick={handleButtonClick} />;\r\n  };\r\n\r\n  if (checkIfPlanUpgradeNeeded(planFeature) && nextPlan) {\r\n    return renderBanner();\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default React.memo(PlanUpgradeBannerContainer);\r\n```\r\n\r\n## ë¬´ì—‡ì„ í…ŒìŠ¤íŠ¸í• ê¹Œì— ëŒ€í•œ ê³ ë¯¼\r\n\r\në„ë¦¬ ì•Œë ¤ì ¸ìˆëŠ” í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ 3ê°€ì§€ ë¶„ë¥˜(ìœ ë‹›í…ŒìŠ¤íŠ¸, í†µí•©í…ŒìŠ¤íŠ¸, E2E í…ŒìŠ¤íŠ¸)ê°€ ìˆì§€ë§Œ, í•„ìì˜ ê²½í—˜ìƒ í”„ë¡ íŠ¸ì—”ë“œì˜ í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ìŒ 3ê°€ì§€ë¡œ ë¶„ë¥˜ëœë‹¤ê³  ìƒê°í•œë‹¤. \r\n\r\n1. UI í…ŒìŠ¤íŠ¸(ì»´í¬ë„ŒíŠ¸)\r\n2. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í…ŒìŠ¤íŠ¸(Custom hook, Utils í•¨ìˆ˜)\r\n3. E2E í…ŒìŠ¤íŠ¸\r\n\r\ní•„ìëŠ” TDDë‚˜ BDD ê°™ì€ í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œì„ ê²½í—˜í•´ë³¸ ì ì€ ì•„ì§ ì—†ì§€ë§Œ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ê°•ë ¥í•¨ì€ ì²´í—˜í•´ë³¸ ì ì´ ìˆë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ë¯¸ì²˜ ìƒê°í•˜ì§€ ëª»í•˜ê³  ìˆë˜ `Edge case`ë¥¼ ë°œê²¬í•  ìˆ˜ ìˆì—ˆê³ , ì˜ˆì™¸ì‚¬í•­ì´ ë§ì€ ë³µì¡í•œ ì½”ë“œë¥¼ ìˆ˜ì •í•  ë•Œ `ì½”ë“œì˜ ì˜ë„`ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆì—ˆë‹¤. ì´ë ‡ê²Œ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ìœ ìš©í•˜ì§€ë§Œ ìš”ìƒˆ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ì— ëŒ€í•œ ê³ ë¯¼ì´ ìƒê¸°ê³  ìˆë‹¤.\r\n\r\n### ì–´ë–¤ í…ŒìŠ¤íŠ¸ê°€ ê°€ì¥ íš¨ìœ¨ì ì¸ê°€?\r\n\r\ní•„ìì˜ í˜„ì¬ ì—…ë¬´ í™˜ê²½ì—ì„œëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ì‹œê°„ì´ ë”°ë¡œ ì£¼ì–´ì§€ì§€ ì•ŠëŠ”ë‹¤. ë˜í•œ íŒ€ ë‚´ë¶€ì—ì„œë„ ê³µì‹ì ìœ¼ë¡œëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ì§€ ì•ŠëŠ”ë‹¤. ì§§ì€ ìŠ¤í”„ë¦°íŠ¸ ê¸°ê°„ì— ê¸°ëŠ¥ì„ ì™„ì„±í•˜ê¸° ìœ„í•´ì„œëŠ” ë¹ ë¥¸ ì‘ì—… ì†ë„ê°€ í•„ìš”í•˜ê¸° ë•Œë¬¸ì´ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒë„ ì‹¤ë ¥ì´ë¼ëŠ” ë§ì´ ìˆë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ì—ë„ ë¶„ëª…í•œ ëŸ¬ë‹ ì»¤ë¸Œê°€ ìˆë‹¤. ì´ëŸ¬í•œ í™˜ê²½ì ì¸ ìš”ì¸ìœ¼ë¡œ ì¸í•´ í•„ìëŠ” ê°œë°œì„ ì™„ë£Œí•œ ì´í›„ì— ë”°ë¡œ ì‹œê°„ì„ ë‚´ì–´ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì¶”ê°€ë¡œ ì‘ì„±í•˜ê³  ìˆë‹¤.\r\n\r\nì´ëŸ¬í•œ ìƒí™©ì—ì„œ ê°€ì¥ ê³ ë¯¼ì´ ë˜ëŠ” ë¶€ë¶„ì€ ì§§ì€ ì‹œê°„ ë™ì•ˆ ì–´ë–¤ ê²ƒì„ í…ŒìŠ¤íŠ¸í•´ì•¼ ê°€ì¥ íš¨ìœ¨ì ì¸ê°€ í•˜ëŠ” ë¶€ë¶„ì´ë‹¤. ì´ëŸ° ë¶€ë¶„ì— ëŒ€í•œ ë‹µì„ ì–»ê¸° ìœ„í•´ `react testing library`ë¥¼ í†µí•œ UI í…ŒìŠ¤íŠ¸, ì»¤ìŠ¤í…€ í›… í…ŒìŠ¤íŠ¸, ìœ í‹¸ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸, `cypress`ë¥¼ ì´ìš©í•œ E2E í…ŒìŠ¤íŠ¸ë¥¼ ê°œì¸ì ìœ¼ë¡œ ì§„í–‰í•´ë³´ì•˜ë‹¤. ê°œì¸ì ì¸ ê²°ë¡ ì€ 3ê°€ì§€ ì¤‘ í•˜ë‚˜ë§Œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤ë©´ `ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í…ŒìŠ¤íŠ¸ ì½”ë“œ`ë¥¼ ì§œëŠ” ê²ƒì´ ê°€ì¥ íš¨ìœ¨ì ì´ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.\r\n\r\n### ì™œ?\r\n\r\n`UI í…ŒìŠ¤íŠ¸`ì˜ ê²½ìš° react testing libraryë¡œ í…ŒìŠ¤íŒ…í•  ë•Œ, ì¼ë°˜ í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŒ…í•˜ëŠ” ê²ƒë³´ë‹¤ ê¹Œë‹¤ë¡œìš´ í¸ì´ë‹¤. UIê°€ ê¸°íšì´ë‚˜ QAì—ì„œ ìì£¼ ë³€ê²½ë˜ëŠ” ë¬¸ì œ(margin, padding ìˆ˜ì •ì´ë‚˜ ë¬¸êµ¬ ìˆ˜ì •)ë„ ìˆì—ˆë‹¤. ë˜í•œ UIì—ì„œ ì¼ì–´ë‚˜ëŠ” í–‰ë™ì˜ ëŒ€ë¶€ë¶„ì€ í´ë¦­ì´ë‹¤. í´ë¦­ì„ í–ˆì„ ë•Œ í•¸ë“¤ëŸ¬ê°€ ë¶ˆëŸ¬ì§€ëŠ”ì§€ ë˜ëŠ” ì–´ë–¤ ë¬¸êµ¬ê°€ í™”ë©´ì— ë³´ì´ëŠ”ì§€ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì´ ì–¼ë§ˆë‚˜ íš¨ìœ¨ì ì¸ì§€ì— ëŒ€í•œ ì˜ë¬¸ì´ ë“¤ì—ˆë‹¤. ì°¨ë¼ë¦¬ storybookê³¼ chromaticì„ ì‚¬ìš©í•œ ìŠ¤ëƒ…ìƒ· í…ŒìŠ¤íŠ¸ê°€ ë” ì í•©í•  ê²ƒì´ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.\r\n\r\n`E2E í…ŒìŠ¤íŠ¸`ì˜ ê²½ìš° í…ŒìŠ¤íŠ¸ í™˜ê²½ì´ ì´ë¯¸ ê°–ì¶”ì–´ì ¸ ìˆì§€ ì•Šë‹¤ë©´ ë°°ë³´ë‹¤ ë°°ê¼½ì´ ë” ì»¤ì§ˆ ìˆ˜ ìˆë‹¤. \r\n\r\n1. ë¡œê·¸ì¸ ì²˜ë¦¬\r\n2. í…ŒìŠ¤íŠ¸ í•˜ê³ ì í•˜ëŠ” ê³³ê¹Œì§€ ì´ë™í•˜ëŠ” ë¡œì§\r\n3. ìƒì„± ìˆ˜ì •, ì‚­ì œë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ìš© DB\r\n\r\në“±ì´ í•„ìš”í•˜ë‹¤. ë˜í•œ ë‹¤ë¥¸ ê¸°ëŠ¥ì˜ ì¶”ê°€ë‚˜ ìˆ˜ì •ìœ¼ë¡œ ì¸í•´ ì˜í–¥ì„ ë°›ì„ ê°€ëŠ¥ì„±ì´ í¬ë‹¤. ì›¹ì‚¬ì´íŠ¸ê°€ ìì£¼ ë³€ê²½ë˜ëŠ” ê²½ìš°ì—ëŠ” ì í•©í•˜ì§€ ì•Šì€ ê²ƒ ê°™ë‹¤.\r\n\r\n## isLimitedFeature í…ŒìŠ¤íŠ¸\r\n\r\nUI, UXì— ë¹„í•´ ì˜ ë³€í•˜ì§€ ì•Šìœ¼ë©´ì„œ ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ìˆë‹¤ë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸°ì— ê°€ì¥ ì í•©í•˜ë‹¤ê³  ìƒê°í•œë‹¤.\r\n\r\nì—¬ê¸°ì„œëŠ” isLimitedFeatureë¼ëŠ” ìˆœìˆ˜í•¨ìˆ˜ì— ëŒ€í•´ì„œ ìœ ë‹› í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í–ˆë‹¤.\r\n\r\n```tsx\r\ndescribe('isLimitedFeature í…ŒìŠ¤íŠ¸', () => {\r\n  describe('1. projectPlanì´ null', () => {\r\n    const features: ProjectPlanFeatures[] = [\r\n      'delayMessage',\r\n      'liveReport',\r\n      'exportSegmentChannel',\r\n      'productDataFilter',\r\n      'maxCampaignCount',\r\n      'manualSegmentCount',\r\n      'userPermissionCount',\r\n    ];\r\n\r\n    const projectPlan = null;\r\n\r\n    features.forEach((feature, index) => {\r\n      it(`${index + 1}. ${feature}`, () => {\r\n        const result = isLimitedFeature({ projectPlan, planFeature: feature });\r\n        expect(result).toEqual(false);\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('2. ê¸°ì¡´ í”Œëœ í…ŒìŠ¤íŠ¸', () => {\r\n    const features: ProjectPlanFeatures[] = [\r\n      'delayMessage',\r\n      'liveReport',\r\n      'exportSegmentChannel',\r\n      'productDataFilter',\r\n      'maxCampaignCount',\r\n      'manualSegmentCount',\r\n      'userPermissionCount',\r\n    ];\r\n    describe('(1) ê¸°ì¡´ í”Œëœ(Growth)', () => {\r\n      const projectPlan: ProjectPlan = {\r\n        category: 'Analytics',\r\n        contact: 20000,\r\n        created_at: '2020-12-07T18:26:38',\r\n        credit: 120000,\r\n        delay_message: null,\r\n        deleted_at: null,\r\n        export_segment_channel: null,\r\n        id: 1,\r\n        image: '/assets/img/plan/Planicon-002.png',\r\n        is_new: null,\r\n        level: 2,\r\n        live_report: null,\r\n        manual_segment_count: null,\r\n        mau: '40,000',\r\n        max_campaign_count: 5,\r\n        max_date_range: 60,\r\n        max_export_count: 5000,\r\n        monthly_report: null,\r\n        msg: 'ì„±ì¥í•˜ê³  ìˆëŠ” ì¤‘ì†Œí˜• ì‡¼í•‘ëª°ì—<br/>ì í•©í•œ í”Œëœì„ í•©ë¦¬ì ì¸ ê°€ê²©ìœ¼ë¡œ<br/>ì œê³µí•©ë‹ˆë‹¤.',\r\n        name: 'Growth',\r\n        offsite_campaign: null,\r\n        onsite_campaign: null,\r\n        order: 2,\r\n        price: '500000.00',\r\n        product_data_filter: null,\r\n        smart_segment: null,\r\n        support_on_boarding: null,\r\n        updated_at: '2021-06-02T00:26:52',\r\n        user_permission_count: null,\r\n      };\r\n\r\n      features.forEach((feature, index) => {\r\n        it(`${index + 1}. ${feature}`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: feature });\r\n          expect(result).toEqual(false);\r\n        });\r\n      });\r\n    });\r\n\r\n    describe('(2) ê¸°ì¡´ í”Œëœ(Professional)', () => {\r\n      const projectPlan: ProjectPlan = {\r\n        category: 'Analytics',\r\n        contact: 40000,\r\n        created_at: '2020-12-07T18:26:38',\r\n        credit: 250000,\r\n        delay_message: null,\r\n        deleted_at: null,\r\n        export_segment_channel: null,\r\n        id: 2,\r\n        image: '/assets/img/plan/Planicon-003.png',\r\n        is_new: null,\r\n        level: 3,\r\n        live_report: null,\r\n        manual_segment_count: null,\r\n        mau: '40,000',\r\n        max_campaign_count: 10,\r\n        max_date_range: 90,\r\n        max_export_count: 10000,\r\n        monthly_report: null,\r\n        msg: 'ê³ ê° ë°ì´í„° ê´€ë¦¬ì™€ ë§ˆì¼€íŒ…<br/>íš¨ìœ¨í™”ê°€ ë³¸ê²©ì ìœ¼ë¡œ í•„ìš”í•œ<br/>ì¤‘í˜• ì‡¼í•‘ëª°ì„ ìœ„í•œ í”Œëœì…ë‹ˆë‹¤.',\r\n        name: 'Professional',\r\n        offsite_campaign: null,\r\n        onsite_campaign: null,\r\n        order: 3,\r\n        price: '900000.00',\r\n        product_data_filter: null,\r\n        smart_segment: null,\r\n        support_on_boarding: null,\r\n        updated_at: '2021-06-02T00:27:42',\r\n        user_permission_count: null,\r\n      };\r\n\r\n      features.forEach((feature, index) => {\r\n        it(`${index + 1}. ${feature}`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: feature });\r\n          expect(result).toEqual(false);\r\n        });\r\n      });\r\n    });\r\n\r\n    describe('(3) ê¸°ì¡´ í”Œëœ(Enterprise)', () => {\r\n      const projectPlan: ProjectPlan = {\r\n        category: 'Analytics',\r\n        contact: 40000,\r\n        created_at: '2020-12-07T18:26:38.000Z',\r\n        credit: 250000,\r\n        deleted_at: null,\r\n        id: 3,\r\n        image: '/assets/img/plan/Planicon-004.png',\r\n        level: 4,\r\n        max_campaign_count: 10,\r\n        max_date_range: 90,\r\n        max_export_count: 10000,\r\n        msg: 'ê³ ê° ë§ì¶¤ ì»¤ìŠ¤í…€ ê¸°ëŠ¥ì´ ì œê³µë˜ë©°<br/>ì „ë‹´ ì»¨ì„¤í„´íŠ¸ê°€ ë°°ì •ë˜ëŠ”<br/>ìŠ¤í˜ì…œ í”Œëœì…ë‹ˆë‹¤.',\r\n        name: 'Enterprise',\r\n        order: 4,\r\n        price: null,\r\n        updated_at: '2021-06-02T00:28:22.000Z',\r\n        mau: '40,000',\r\n        support_on_boarding: null,\r\n        onsite_campaign: null,\r\n        offsite_campaign: null,\r\n        delay_message: null,\r\n        smart_segment: null,\r\n        manual_segment_count: null,\r\n        export_segment_channel: null,\r\n        live_report: null,\r\n        product_data_filter: null,\r\n        monthly_report: null,\r\n        user_permission_count: null,\r\n        is_new: null,\r\n      };\r\n\r\n      features.forEach((feature, index) => {\r\n        it(`${index + 1}. ${feature}`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: feature });\r\n          expect(result).toEqual(false);\r\n        });\r\n      });\r\n    });\r\n\r\n    describe('(4) ê¸°ì¡´ í”Œëœ(Free-trial)', () => {\r\n      const projectPlan: ProjectPlan = {\r\n        category: 'Analytics',\r\n        contact: 40000,\r\n        created_at: '2020-12-07T18:26:38',\r\n        credit: 250000,\r\n        delay_message: null,\r\n        deleted_at: null,\r\n        export_segment_channel: null,\r\n        id: 4,\r\n        image: null,\r\n        is_new: null,\r\n        level: 3,\r\n        live_report: null,\r\n        manual_segment_count: null,\r\n        mau: null,\r\n        max_campaign_count: 10,\r\n        max_date_range: 90,\r\n        max_export_count: 10000,\r\n        monthly_report: null,\r\n        msg: null,\r\n        name: 'Free-trial',\r\n        offsite_campaign: null,\r\n        onsite_campaign: null,\r\n        order: 1,\r\n        price: '0.00',\r\n        product_data_filter: null,\r\n        smart_segment: null,\r\n        support_on_boarding: null,\r\n        updated_at: '2020-12-07T18:26:38',\r\n        user_permission_count: null,\r\n      };\r\n\r\n      features.forEach((feature, index) => {\r\n        it(`${index + 1}. ${feature}`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: feature });\r\n          expect(result).toEqual(false);\r\n        });\r\n      });\r\n    });\r\n\r\n    describe('(5) ê¸°ì¡´ í”Œëœ(Starter)', () => {\r\n      const projectPlan: ProjectPlan = {\r\n        category: 'Intelligence',\r\n        contact: 5000,\r\n        created_at: '2020-12-07T18:26:38',\r\n        credit: 50000,\r\n        delay_message: null,\r\n        deleted_at: null,\r\n        export_segment_channel: null,\r\n        id: 5,\r\n        image: '/assets/img/plan/Planicon-001.png',\r\n        is_new: null,\r\n        level: 1,\r\n        live_report: null,\r\n        manual_segment_count: null,\r\n        mau: null,\r\n        max_campaign_count: 2,\r\n        max_date_range: 30,\r\n        max_export_count: 2000,\r\n        monthly_report: null,\r\n        msg: 'ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ ì‹œì‘í•˜ëŠ” ì†Œê·œëª¨<br/>ì‡¼í•‘ëª°ì„ ìœ„í•´ ë² ì´ì§í•œ ê¸°ëŠ¥ì„<br/>ì œê³µí•˜ëŠ” í”Œëœì…ë‹ˆë‹¤.',\r\n        name: 'Starter',\r\n        offsite_campaign: null,\r\n        onsite_campaign: null,\r\n        order: 1,\r\n        price: '100000.00',\r\n        product_data_filter: null,\r\n        smart_segment: null,\r\n        support_on_boarding: null,\r\n        updated_at: '2021-06-02T00:28:59',\r\n        user_permission_count: null,\r\n      };\r\n\r\n      features.forEach((feature, index) => {\r\n        it(`${index + 1}. ${feature}`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: feature });\r\n          expect(result).toEqual(false);\r\n        });\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('3. ì‹ ê·œ í”Œëœ í…ŒìŠ¤íŠ¸', () => {\r\n    describe('(1) ì‹ ê·œ í”Œëœ(Growth)', () => {\r\n      const projectPlan: ProjectPlan = {\r\n        category: 'Analytics',\r\n        contact: 20000,\r\n        created_at: '2022-02-23T05:30:45',\r\n        credit: 120000,\r\n        delay_message: false,\r\n        deleted_at: null,\r\n        export_segment_channel: 'ê¸°ë³¸',\r\n        id: 6,\r\n        image: '/assets/img/plan/Planicon-002.png',\r\n        is_new: true,\r\n        level: 2,\r\n        live_report: false,\r\n        manual_segment_count: 2,\r\n        mau: '~ 20,000',\r\n        max_campaign_count: 5,\r\n        max_date_range: 60,\r\n        max_export_count: 10000,\r\n        monthly_report: false,\r\n        msg: null,\r\n        name: 'Growth',\r\n        offsite_campaign: true,\r\n        onsite_campaign: true,\r\n        order: null,\r\n        price: '500000.00',\r\n        product_data_filter: false,\r\n        smart_segment: true,\r\n        support_on_boarding: false,\r\n        updated_at: '2022-02-23T05:30:45',\r\n        user_permission_count: 1,\r\n      };\r\n\r\n      describe('- ë‹¤ë¥¸ ì¶”ê°€ ë°ì´í„° ìš”ì²­ì´ í•„ìš” ì—†ëŠ” ê¸°ëŠ¥ ì²´í¬', () => {\r\n        const featuresNotNeedingOtherFetchingData: ProjectPlanFeatures[] = [\r\n          'delayMessage',\r\n          'liveReport',\r\n          'exportSegmentChannel',\r\n          'productDataFilter',\r\n        ];\r\n\r\n        const answers = [true, true, true, true];\r\n\r\n        featuresNotNeedingOtherFetchingData.forEach((feature, index) => {\r\n          it(`${index + 1}. ${feature}`, () => {\r\n            const result = isLimitedFeature({ projectPlan, planFeature: feature });\r\n            expect(result).toEqual(answers[index]);\r\n          });\r\n        });\r\n      });\r\n\r\n      describe('- ë‹¤ë¥¸ ì¶”ê°€ ë°ì´í„° ìš”ì²­ì´ í•„ìš”í•œ ê¸°ëŠ¥ ì²´í¬', () => {\r\n        it(`1. activeCampaignCount: undefined`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: 'maxCampaignCount' });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        it(`2. activeCampaignCount: 0`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: 'maxCampaignCount', activeCampaignCount: 0 });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        const maxCampaignCount = projectPlan.max_campaign_count || 0;\r\n\r\n        it(`3. activeCampaignCount: ${maxCampaignCount - 1}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'maxCampaignCount',\r\n            activeCampaignCount: maxCampaignCount - 1,\r\n          });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        it(`4. activeCampaignCount: ${maxCampaignCount}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'maxCampaignCount',\r\n            activeCampaignCount: maxCampaignCount,\r\n          });\r\n          if (maxCampaignCount === 0) expect(result).toEqual(false);\r\n          if (maxCampaignCount !== 0) expect(result).toEqual(true);\r\n        });\r\n\r\n        it(`5. manualSegmentCount: undefined`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: 'manualSegmentCount' });\r\n          if (projectPlan.manual_segment_count === null) expect(result).toEqual(true);\r\n          if (projectPlan.manual_segment_count !== null) expect(result).toEqual(false);\r\n        });\r\n\r\n        const manualSegmentCount = projectPlan.manual_segment_count || 0;\r\n\r\n        it(`6. manualSegmentCount: ${manualSegmentCount - 1}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'manualSegmentCount',\r\n            manualSegmentCount: manualSegmentCount - 1,\r\n          });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        it(`7. manualSegmentCount: ${manualSegmentCount}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'manualSegmentCount',\r\n            manualSegmentCount,\r\n          });\r\n          expect(result).toEqual(true);\r\n        });\r\n\r\n        it(`8. userPermissionCount: undefined`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: 'userPermissionCount' });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        const userPermissionCount = projectPlan.user_permission_count || 0;\r\n\r\n        it(`9. userPermissionCount: ${userPermissionCount - 1}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'userPermissionCount',\r\n            userPermissionCount: userPermissionCount - 1,\r\n          });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        it(`10. userPermissionCount: ${userPermissionCount}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'userPermissionCount',\r\n            userPermissionCount,\r\n          });\r\n          expect(result).toEqual(true);\r\n        });\r\n      });\r\n    });\r\n\r\n    describe('(2) ì‹ ê·œ í”Œëœ(Professional)', () => {\r\n      const projectPlan: ProjectPlan = {\r\n        category: 'Analytics',\r\n        contact: 40000,\r\n        created_at: '2022-02-23T05:30:45',\r\n        credit: 250000,\r\n        delay_message: true,\r\n        deleted_at: null,\r\n        export_segment_channel: 'ê¸°ë³¸',\r\n        id: 7,\r\n        image: '/assets/img/plan/Planicon-003.png',\r\n        is_new: true,\r\n        level: 3,\r\n        live_report: false,\r\n        manual_segment_count: 5,\r\n        mau: '20,000 ~ 40,000',\r\n        max_campaign_count: 10,\r\n        max_date_range: 90,\r\n        max_export_count: 20000,\r\n        monthly_report: false,\r\n        msg: null,\r\n        name: 'Professional',\r\n        offsite_campaign: true,\r\n        onsite_campaign: true,\r\n        order: null,\r\n        price: '900000.00',\r\n        product_data_filter: false,\r\n        smart_segment: true,\r\n        support_on_boarding: false,\r\n        updated_at: '2022-02-23T05:30:45',\r\n        user_permission_count: 3,\r\n      };\r\n\r\n      describe('- ë‹¤ë¥¸ ì¶”ê°€ ë°ì´í„° ìš”ì²­ì´ í•„ìš” ì—†ëŠ” ê¸°ëŠ¥ ì²´í¬', () => {\r\n        const featuresNotNeedingOtherFetchingData: ProjectPlanFeatures[] = [\r\n          'delayMessage',\r\n          'liveReport',\r\n          'exportSegmentChannel',\r\n          'productDataFilter',\r\n        ];\r\n\r\n        const answers = [false, true, true, true];\r\n\r\n        featuresNotNeedingOtherFetchingData.forEach((feature, index) => {\r\n          it(`${index + 1}. ${feature}`, () => {\r\n            const result = isLimitedFeature({ projectPlan, planFeature: feature });\r\n            expect(result).toEqual(answers[index]);\r\n          });\r\n        });\r\n      });\r\n\r\n      describe('- ë‹¤ë¥¸ ì¶”ê°€ ë°ì´í„° ìš”ì²­ì´ í•„ìš”í•œ ê¸°ëŠ¥ ì²´í¬', () => {\r\n        it(`1. activeCampaignCount: undefined`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: 'maxCampaignCount' });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        it(`2. activeCampaignCount: 0`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: 'maxCampaignCount', activeCampaignCount: 0 });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        const maxCampaignCount = projectPlan.max_campaign_count || 0;\r\n\r\n        it(`3. activeCampaignCount: ${maxCampaignCount - 1}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'maxCampaignCount',\r\n            activeCampaignCount: maxCampaignCount - 1,\r\n          });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        it(`4. activeCampaignCount: ${maxCampaignCount}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'maxCampaignCount',\r\n            activeCampaignCount: maxCampaignCount,\r\n          });\r\n          if (maxCampaignCount === 0) expect(result).toEqual(false);\r\n          if (maxCampaignCount !== 0) expect(result).toEqual(true);\r\n        });\r\n\r\n        it(`5. manualSegmentCount: undefined`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: 'manualSegmentCount' });\r\n          if (projectPlan.manual_segment_count === null) expect(result).toEqual(true);\r\n          if (projectPlan.manual_segment_count !== null) expect(result).toEqual(false);\r\n        });\r\n\r\n        const manualSegmentCount = projectPlan.manual_segment_count || 0;\r\n\r\n        it(`6. manualSegmentCount: ${manualSegmentCount - 1}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'manualSegmentCount',\r\n            manualSegmentCount: manualSegmentCount - 1,\r\n          });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        it(`7. manualSegmentCount: ${manualSegmentCount}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'manualSegmentCount',\r\n            manualSegmentCount,\r\n          });\r\n          expect(result).toEqual(true);\r\n        });\r\n\r\n        it(`8. userPermissionCount: undefined`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: 'userPermissionCount' });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        const userPermissionCount = projectPlan.user_permission_count || 0;\r\n\r\n        it(`9. userPermissionCount: ${userPermissionCount - 1}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'userPermissionCount',\r\n            userPermissionCount: userPermissionCount - 1,\r\n          });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        it(`10. userPermissionCount: ${userPermissionCount}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'userPermissionCount',\r\n            userPermissionCount,\r\n          });\r\n          expect(result).toEqual(true);\r\n        });\r\n      });\r\n    });\r\n\r\n    describe('(3) ì‹ ê·œ í”Œëœ(Enterprise)', () => {\r\n      const projectPlan: ProjectPlan = {\r\n        category: 'Analytics',\r\n        contact: 40000,\r\n        created_at: '2022-02-23T05:30:45',\r\n        credit: 250000,\r\n        delay_message: true,\r\n        deleted_at: null,\r\n        export_segment_channel: 'ê¸°ë³¸ + ê´‘ê³  ì±„ë„',\r\n        id: 8,\r\n        image: '/assets/img/plan/Planicon-004.png',\r\n        is_new: true,\r\n        level: 4,\r\n        live_report: true,\r\n        manual_segment_count: 10,\r\n        mau: '40,000 ~ ',\r\n        max_campaign_count: null,\r\n        max_date_range: 90,\r\n        max_export_count: 20000,\r\n        monthly_report: true,\r\n        msg: null,\r\n        name: 'Enterprise',\r\n        offsite_campaign: true,\r\n        onsite_campaign: true,\r\n        order: null,\r\n        price: null,\r\n        product_data_filter: true,\r\n        smart_segment: true,\r\n        support_on_boarding: true,\r\n        updated_at: '2022-02-23T05:30:45',\r\n        user_permission_count: 10,\r\n      };\r\n\r\n      describe('- ë‹¤ë¥¸ ì¶”ê°€ ë°ì´í„° ìš”ì²­ì´ í•„ìš” ì—†ëŠ” ê¸°ëŠ¥ ì²´í¬', () => {\r\n        const featuresNotNeedingOtherFetchingData: ProjectPlanFeatures[] = [\r\n          'delayMessage',\r\n          'liveReport',\r\n          'exportSegmentChannel',\r\n          'productDataFilter',\r\n        ];\r\n\r\n        const answers = [false, false, false, false];\r\n\r\n        featuresNotNeedingOtherFetchingData.forEach((feature, index) => {\r\n          it(`${index + 1}. ${feature}`, () => {\r\n            const result = isLimitedFeature({ projectPlan, planFeature: feature });\r\n            expect(result).toEqual(answers[index]);\r\n          });\r\n        });\r\n      });\r\n\r\n      describe('- ë‹¤ë¥¸ ì¶”ê°€ ë°ì´í„° ìš”ì²­ì´ í•„ìš”í•œ ê¸°ëŠ¥ ì²´í¬', () => {\r\n        it(`1. activeCampaignCount: undefined`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: 'maxCampaignCount' });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        it(`2. activeCampaignCount: 0`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: 'maxCampaignCount', activeCampaignCount: 0 });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        const maxCampaignCount = projectPlan.max_campaign_count || 0;\r\n\r\n        it(`3. activeCampaignCount: ${maxCampaignCount - 1}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'maxCampaignCount',\r\n            activeCampaignCount: maxCampaignCount - 1,\r\n          });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        it(`4. activeCampaignCount: ${maxCampaignCount}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'maxCampaignCount',\r\n            activeCampaignCount: maxCampaignCount,\r\n          });\r\n          if (maxCampaignCount === 0) expect(result).toEqual(false);\r\n          if (maxCampaignCount !== 0) expect(result).toEqual(true);\r\n        });\r\n\r\n        it(`5. manualSegmentCount: undefined`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: 'manualSegmentCount' });\r\n          if (projectPlan.manual_segment_count === null) expect(result).toEqual(true);\r\n          if (projectPlan.manual_segment_count !== null) expect(result).toEqual(false);\r\n        });\r\n\r\n        const manualSegmentCount = projectPlan.manual_segment_count || 0;\r\n\r\n        it(`6. manualSegmentCount: ${manualSegmentCount - 1}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'manualSegmentCount',\r\n            manualSegmentCount: manualSegmentCount - 1,\r\n          });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        it(`7. manualSegmentCount: ${manualSegmentCount}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'manualSegmentCount',\r\n            manualSegmentCount,\r\n          });\r\n          expect(result).toEqual(true);\r\n        });\r\n\r\n        it(`8. userPermissionCount: undefined`, () => {\r\n          const result = isLimitedFeature({ projectPlan, planFeature: 'userPermissionCount' });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        const userPermissionCount = projectPlan.user_permission_count || 0;\r\n\r\n        it(`9. userPermissionCount: ${userPermissionCount - 1}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'userPermissionCount',\r\n            userPermissionCount: userPermissionCount - 1,\r\n          });\r\n          expect(result).toEqual(false);\r\n        });\r\n\r\n        it(`10. userPermissionCount: ${userPermissionCount}`, () => {\r\n          const result = isLimitedFeature({\r\n            projectPlan,\r\n            planFeature: 'userPermissionCount',\r\n            userPermissionCount,\r\n          });\r\n          expect(result).toEqual(true);\r\n        });\r\n      });\r\n    });\r\n  });\r\n});\r\n```"},{"id":1645455600,"title":"ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ì™€ z-index, React Portal\r","author":"jangky000\r","category":"ì—…ë¬´ íšŒê³ \r","desc":"í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©ë˜ê³  ìˆë˜ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ì•Œì•„ë³´ê³ , React Portalì„ ì‚¬ìš©í•˜ì—¬ ê°œì„ í•´ë³´ì\r","date":"2022.02.22\r","content":"\r\n# ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸\r\n\r\nì—¬ê¸°ì„œ ë§í•˜ê³ ì í•˜ëŠ” ëª¨ë‹¬ì°½ì€ ì–´ë– í•œ ì‚¬ìš©ìì˜ í–‰ë™ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ í™”ë©´ì˜ ìµœìƒë‹¨ì— ë„ì›Œì ¸ì•¼ í•  ìœˆë„ìš° ì°½ì´ ì•„ë‹Œ ë ˆì´ì–´ë¥¼ ë§í•œë‹¤. ê°€ì¥ ìµœìƒë‹¨ì— html ìš”ì†Œë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ì„œëŠ” z-indexë¼ëŠ” css ì†ì„±ì„ ì´í•´í•  í•„ìš”ê°€ ìˆë‹¤.\r\n\r\n## z-indexì˜ íŠ¹ì§•\r\n\r\nz-index ì†ì„±ì˜ ê°€ì¥ í° íŠ¹ì§•ì€ ë¶€ëª¨ elementì˜ z-indexê°€ ë‹¤ë¥¸ í˜•ì œ elementë“¤ì˜ z-indexë³´ë‹¤ ë‚®ì„ ë•Œ, ì•„ë¬´ë¦¬ ìì‹ elementì˜ z-index ê°’ì„ í¬ê²Œ í•´ë„ ìµœìƒë‹¨ì— ë³´ì´ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì´ë‹¤. ì´ëŠ” ìŒ“ì„ë§¥ë½(Stacking Context)ì„ ì°¸ê³ í•˜ë©´ ì´í•´ê°€ ë  ê²ƒì´ë‹¤.(ì°¸ê³ : [ìŒ“ì„ë§¥ë½](https://developer.mozilla.org/ko/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context))\r\n\r\n## ê¸°ì¡´ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸\r\n\r\nê¸°ì¡´ì— í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©ë˜ê³  ìˆëŠ” ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ ì—­ì‹œ ì´ z-indexë¡œ ì¸í•œ ê³ ë¯¼ì´ ìˆì—ˆì„ ê²ƒì´ë‹¤. íŠ¹íˆ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ê°œë°œí•˜ëŠ” ë¦¬ì•¡íŠ¸ì˜ ì‘ì—… ë°©ì‹ì˜ íŠ¹ì„±ìƒ, ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ê°€ ì–´ë–¤ z-indexë¥¼ ê°€ì§„ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ì‚¬ìš©ë ì§€ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— z-indexì˜ ì„¤ì •ì— ëŒ€í•œ ê³ ë¯¼ì´ ìˆì—ˆì„ ê²ƒì´ë‹¤.\r\n\r\n## ê¸°ì¡´ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„ ë°©ì‹\r\n\r\në¶€ëª¨ elementì˜ z-indexì— ì˜í–¥ì„ ë°›ì§€ ì•Šê¸° ìœ„í•´, Route ì•„ë˜ì—ì„œ GlobalModal ì»´í¬ë„ŒíŠ¸ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì„ ì–¸í–ˆë‹¤. ê·¸ë¦¬ê³  ì „ì—­ ìƒíƒœë¡œ ëª¨ë‹¬ì°½ì„ ì¼œê³  ë„ê²Œ ì„¤ê³„ë˜ì—ˆë‹¤.\r\n\r\n```tsx\r\n<Switch>\r\n  <Route exact path=\"/...\" component={...} />\r\n\t...\r\n</Switch>\r\n<GlobalModal />\r\n```\r\n\r\n## ê¸°ì¡´ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ì˜ ë¬¸ì œì \r\n\r\n1. ê°€ì¥ í° ë¬¸ì œì ì€ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ ìì²´ì—ì„œ background-color: #fff, border-radius: 12pxë¡œ ê³ ì •ë˜ì–´ ìˆëŠ” ê²ƒì´ ë¬¸ì œì˜€ë‹¤. ì•„ë˜ì™€ ê°™ì€ ë””ìì¸ì„ ë°˜ì˜í•˜ê³  ì‹¶ì–´ë„, 2ê°œì˜ ë°•ìŠ¤ë¥¼ í‘œí˜„í•  ìˆ˜ ì—†ê³ , ë°°ê²½ ìƒ‰ìƒì„ ë³€ê²½í•  ìˆ˜ë„ ì—†ì—ˆë‹¤. \r\n\r\n<img width=\"70%\" alt=\"1\" src=\"https://user-images.githubusercontent.com/46799722/157811178-4ddc996d-d9f1-4dee-9207-13aa39d55d3b.png\">\r\n<img width=\"25%\" alt=\"2\" src=\"https://user-images.githubusercontent.com/46799722/157811183-1ecfa4a8-0896-461f-87e8-275575b96ad4.png\">\r\n\r\n2. ì•„ë˜ ì‚¬ìš©ë²•ì„ ë³´ë©´ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ë“¤ì–´ê°ˆ ë‚´ìš©ì„ ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬í•˜ê³  ìˆë‹¤. modalStoreëŠ” ëª¨ë‹¬ì˜ open, close ì „ì—­ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” mobxì˜ observable stateë‹¤. ë˜í•œ onClick ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ ë‚´ë¶€ì— ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ìš©ë˜ì—ˆë‹¤. ì´ì— ëŒ€í•´ì„œ í•¸ë“¤ëŸ¬ ê¸°ëŠ¥ê³¼ ì»´í¬ë„ŒíŠ¸ UIì˜ ë¶„ë¦¬ì ì¸ ì¸¡ë©´ì—ì„œ ê°œì„ ë  ì—¬ì§€ê°€ ìˆë‹¤ê³  ìƒê°í–ˆë‹¤.\r\n\r\n```tsx\r\n// ì‚¬ìš©ë²•\r\n<button\r\n  onClick={() =>\r\n    modalStore.open(\r\n      <ModalPresenter\r\n        data={data}\r\n        handleClick={() => ...}\r\n        close={() => modalStore.hide()}\r\n      />,\r\n      {\r\n        disableClose: true,\r\n      },\r\n    )\r\n  }\r\n>\r\n  ...\r\n</button>\r\n```\r\n\r\n## ê°œì„ ì \r\n\r\nê¸°ì¡´ì˜ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ëŠ” ë§ì€ ê³³ì—ì„œ ì‚¬ìš©ë˜ê³  ìˆë‹¤. ë‹¨ìˆœíˆ ì˜µì…˜ ì¶”ê°€ì™€ ë¶„ê¸° ì²˜ë¦¬ë§Œìœ¼ë¡œë„ í•„ìš”í•œ ë””ìì¸ì„ ë§Œë“¤ ìˆ˜ ìˆê² ì§€ë§Œ, ì ì  ë§ì•„ì§€ëŠ” ì˜ˆì™¸ì ì¸ ë¶„ê¸°ì²˜ë¦¬ ì½”ë“œë¥¼ ì˜ë„ë¥¼ ì•Œê¸° ì–´ë µê²Œ ë§Œë“¤ê³  ì½ê¸° ì–´ë µê²Œ í•œë‹¤ëŠ” ìƒê°ì´ ë“ ë‹¤. ê·¸ë˜ì„œ ìƒˆë¡­ê²Œ ë§Œë“œëŠ” ê¸°ëŠ¥ë“¤ë¶€í„° ì‰½ê²Œ ì ìš© ê°€ëŠ¥í•˜ê³ , ë‹¤ì–‘í•˜ê²Œ ì“°ì¼ ìˆ˜ ìˆëŠ” ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ì œì‘í•˜ê¸°ë¡œ í–ˆë‹¤.\r\n\r\n1. React ìì²´ ê¸°ëŠ¥ì¸ Portalì„ ì´ìš©í•˜ì—¬, ì „ì—­ ìƒíƒœ ê´€ë¦¬ë¥¼ í•˜ì§€ ì•Šê³  z-index ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤.(ì°¸ê³ : [React Portals](https://ko.reactjs.org/docs/portals.html))\r\n2. background-colorì™€ border-radius ì†ì„±ì„ ê³ ì •í•˜ì§€ ì•Šê³  childrenì„ í†µí•´ ììœ ë¡­ê²Œ ì „ë‹¬í•  ìˆ˜ ìˆê²Œ í•œë‹¤.\r\n3. fade in, fade out ì• ë‹ˆë©”ì´ì…˜ì„ ì ìš©í•œë‹¤.\r\n\r\n## ê°œì„  ê²°ê³¼: GeneralModalComposition\r\n\r\nì¼ë°˜ì ì¸ ì»´í¬ë„ŒíŠ¸ê°€ `div#root` ë‚´ë¶€ì— ì¶”ê°€ë˜ê³ , Portalì„ ì‚¬ìš©í•œ ì»´í¬ë„ŒíŠ¸ëŠ” í˜•ì œ elementì¸ `div#modal-root` ë‚´ë¶€ì— ì¶”ê°€ëœë‹¤. ê·¸ë ‡ê²Œ ë˜ë©´ `div#modal-root` ë‚´ë¶€ì— ìˆëŠ” modalì˜ z-indexëŠ” `div#root` ë‚´ë¶€ì— ìˆëŠ” ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ z-indexì— ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ modalì˜ z-indexë§Œ ê°’ë§Œ ê³ ë ¤í•´ì„œ ì¶©ë¶„íˆ í• ë‹¹í•˜ë©´ ëœë‹¤.(ì—¬ê¸°ì„œëŠ” 99)\r\n\r\nì—¬ê¸°ì„œ ì£¼ì˜í•  ì ì€ `div#modal-root` ë‚´ë¶€ì— ìˆëŠ” modalì— z-index ê°’ì„ ì£¼ì§€ ì•Šìœ¼ë©´, `div#root` ë‚´ë¶€ì— ìˆëŠ” z-indexê°€ ë” ë†’ì€ elementê°€ ë” ìƒìœ„ì— ë³´ì´ê²Œ ëœë‹¤. `div#modal-root` ë‚´ë¶€ì— ìˆëŠ” modalì´ ë¶€ëª¨ elementì˜ ìŒ“ì„ë§¥ë½ì— ë™í™”ë˜ì§€ ì•Šì„ ë¿ì´ì§€ z-index ë¹„êµëŠ” ê·¸ëŒ€ë¡œ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.\r\n\r\n<img width=\"35%\" alt=\"3\" src=\"https://user-images.githubusercontent.com/46799722/157811185-5f417b2d-73c0-4c32-9b54-111ff7f3d93f.png\">\r\n<img width=\"60%\" alt=\"4\" src=\"https://user-images.githubusercontent.com/46799722/157811188-4993ac48-9b6a-46d4-95f8-0550835928df.png\">\r\n\r\n## GeneralModalComposition ì‚¬ìš©ë²•\r\n\r\në²„íŠ¼ì˜ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì™€ ëª¨ë‹¬ ë‚´ë¶€ì˜ ì»´í¬ë„ŒíŠ¸ê°€ ë¶„ë¦¬ê°€ ë˜ì—ˆë‹¤. ê·¸ë¦¬ê³  ì „ì—­ ìƒíƒœë¡œ ê´€ë¦¬í•˜ì§€ ì•Šê³ ë„ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ìµœìƒë‹¨ì— ê·¸ë¦´ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\r\n\r\n```tsx\r\nconst [isModalOpen, setModalOpen] = useState(false);\r\nconst handleModalOpen = useCallback(() => setLegacyPlanModalOpen(true), []);\r\nconst handleModalClose = useCallback(() => setLegacyPlanModalOpen(false), []);\r\n\r\nreturn (\r\n\t<Button onClick={handleModalOpen}>ëª¨ë‹¬ ì—´ê¸°</Button>\r\n\t\r\n\t<GeneralModalComposition \r\n\t\tisOpen={isModalOpen}\r\n\t\tcloseModal={handleModalClose}\r\n\t\tchildrenCss={{ width: '1352px', height: '1607px' }} -> optional\r\n\t>\r\n\t\t{ ì„ì˜ì˜ Modal ì»´í¬ë„ŒíŠ¸ }\r\n\t</GeneralModalComposition>\r\n\t)\r\n```\r\n\r\n# GeneralModalComposition.tsx\r\n\r\në°°ê²½ì— Backdrop ì¶”ê°€.\r\nfadeIn, fadeOut animation ì ìš©.\r\n\r\n```tsx\r\ninterface GeneralModalCompositionProps {\r\n  isOpen: boolean;\r\n  closeModal: () => void;\r\n  children: React.ReactNode;\r\n  childrenCss?: React.CSSProperties;\r\n}\r\n/**\r\n * @description\r\n * Composition\r\n * @example\r\n * <Button onClick={handleModalOpen}>ëª¨ë‹¬ ì—´ê¸°</Button>\r\n *\r\n * <GeneralModalComposition\r\n    isOpen={isModalOpen}\r\n    childrenCss={{ width: '1352px', height: '1607px' }}\r\n    closeModal={handleModalClose}\r\n  >\r\n *  { ì„ì˜ì˜ Modal ì»´í¬ë„ŒíŠ¸ }\r\n * </GeneralModalComposition>\r\n */\r\nfunction GeneralModalComposition({ isOpen, closeModal, children, childrenCss }: GeneralModalCompositionProps) {\r\n  const [isVisible, setVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setVisible(true);\r\n    } else {\r\n      setTimeout(() => setVisible(false), 100);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  if (!isVisible) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <PortalToModalRootComposition>\r\n      <StyledGeneralModal isOpen={isOpen}>\r\n        <Backdrop handleClick={closeModal} style={{ backgroundColor: 'rgba(0, 0, 0, 0.8)' }} />\r\n        <div className=\"general-modal-content\" style={childrenCss}>\r\n          {children}\r\n        </div>\r\n      </StyledGeneralModal>\r\n    </PortalToModalRootComposition>\r\n  );\r\n}\r\n\r\nexport default React.memo(GeneralModalComposition);\r\n```\r\n\r\n# GeneralModalComposition.style.ts\r\n\r\n```tsx\r\nimport styled from '@emotion/styled';\r\nimport { keyframes } from '@emotion/react';\r\n\r\nconst fadeIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst fadeOut = keyframes`\r\n  from {\r\n    opacity: 1;\r\n  }\r\n  to {\r\n    opacity: 0;\r\n  }\r\n`;\r\n\r\nexport const StyledGeneralModal = styled.div<{ isOpen: boolean }>`\r\n  label: general-modal;\r\n\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 99;\r\n\r\n  > .general-modal-content {\r\n    z-index: 1;\r\n    max-width: 90%;\r\n    max-height: 90vh;\r\n\r\n    &::-webkit-scrollbar {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  animation: ${({ isOpen }) => (isOpen ? fadeIn : fadeOut)} 0.5s;\r\n`;\r\n```\r\n\r\n# PortalToModalRootComposition.tsx\r\n\r\nReact Portalì„ ì‚¬ìš©í•œ ì»´í¬ì§€ì…˜ íŒ¨í„´ì˜ ì»´í¬ë„ŒíŠ¸.\r\nfade out ì• ë‹ˆë©”ì´ì…˜ ë°œìƒ ì‹œ ê¹œë¹¡ ê±°ë¦¬ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ container refë¥¼ ì‚¬ìš©.\r\n\r\n```tsx\r\nimport React, { useEffect, useRef } from 'react';\r\nimport ReactDom from 'react-dom';\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\ninterface ModalCompositionPortalProps {\r\n  children: React.ReactNode;\r\n}\r\n/**\r\n * @description\r\n * Portal Composition\r\n * index.htmlì˜ <div id=\"modal-root\"></div> ë‚´ë¶€ë¡œ childrenì„ ì´ë™\r\n * @example\r\n * <PortalToModalRootComposition>\r\n *  { ì„ì˜ì˜ Modal ì»´í¬ë„ŒíŠ¸ }\r\n * </PortalToModalRootComposition>\r\n */\r\nfunction PortalToModalRootComposition({ children }: ModalCompositionPortalProps) {\r\n  const container = document.createElement('div');\r\n  // containerë¥¼ refë¡œ ê´€ë¦¬í•˜ì—¬, fadeout render ì‹œì  ë¬¸ì œ í•´ê²°\r\n  const containerRef = useRef<HTMLDivElement | null>(container);\r\n\r\n  useEffect(() => {\r\n    if (containerRef.current !== null) modalRoot?.appendChild(containerRef.current);\r\n    return () => {\r\n      if (containerRef.current !== null) modalRoot?.removeChild(containerRef.current);\r\n    };\r\n  }, [containerRef]);\r\n\r\n  if (containerRef.current) {\r\n    return ReactDom.createPortal(children, containerRef.current);\r\n  }\r\n  return null;\r\n}\r\n\r\nexport default React.memo(PortalToModalRootComposition);\r\n```\r\n\r\n# index.html\r\n\r\nidê°€ modal-rootì¸ div íƒœê·¸ ì¶”ê°€\r\n\r\n```html\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\t<head>\r\n    <title>...</title>\r\n\t</head>\r\n\t<body>\r\n\t\t<noscript>You need to enable JavaScript to run this app.</noscript>\r\n\t\t<div id=\"root\"></div>\r\n\t\t<div id=\"modal-root\"></div>\r\n\t</body>\r\n</html>\r\n```\r\n"},{"id":1645196400,"title":"ë³µì¡í•œ ì»´í¬ë„ŒíŠ¸ì—ì„œ UIì™€ ê¸°ëŠ¥ì„ ë¶„ë¦¬í•´ë³´ì\r","author":"jangky000\r","category":"ì—…ë¬´ íšŒê³ \r","desc":"í˜‘ì—…ì„ í•˜ë‹¤ë³´ë©´ ë‚¨ì´ ì§  ì½”ë“œë¥¼ ì½ê³  ìƒˆë¡œìš´ ê¸°íšì— ë§ê²Œ ìˆ˜ì •í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ì¬ì‚¬ìš©ì„±ì„ ê³ ë ¤í•˜ê³  ê°ê°ì˜ ì£¼ìš” ì—­í• ì´ ì˜ ë¶„ë¦¬ë˜ì–´ ìˆëŠ” ì½”ë“œë¼ë©´ ì‰½ê²Œ ìˆ˜ì •ì´ ê°€ëŠ¥í•˜ë‹¤. ì´ë²ˆ ì‘ì—…ì—ì„œëŠ” ì¬ì‚¬ìš©ì„±ì„ ê³ ë ¤í•˜ì—¬ UIì™€ ê¸°ëŠ¥ì„ ë¶„ë¦¬í•´ë³¸ ê²½í—˜ì„ ê³µìœ í•˜ê³ ì í•œë‹¤.\r","date":"2022.02.19\r","content":"\r\n# ImageUploaderë¼ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ìˆì—ˆë‹¤.\r\n\r\n## ë¬¸ì œì \r\n\r\n- `ImageUploader`ë¼ëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— `ë²„íŠ¼(UI)` + `ì´ë¯¸ì§€ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ëŠ” ê¸°ëŠ¥`ì´ ìˆë‹¤.\r\n- `ImageUploader`ë¼ëŠ” ì´ë¦„ì—ì„œ ì´ ì»´í¬ë„ŒíŠ¸ê°€ ë²„íŠ¼ì´ë¼ëŠ” ê²ƒì„ ìœ ì¶”í•˜ê¸° ì–´ë µë‹¤.\r\n- ê°™ì€ ê¸°ëŠ¥ì„ í•˜ëŠ” ë‘ ê°€ì§€ ìŠ¤íƒ€ì¼ì˜ ë²„íŠ¼ì´ í•„ìš”í•œë°, ë²„íŠ¼ ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•˜ê¸° ì–´ë µë‹¤.\r\n- `visualType ë³€ê²½`, `ì‚­ì œ ë²„íŠ¼ì˜ ì¶œë ¥ ì—¬ë¶€` ë“± ì´ë¯¸ì§€ ì—…ë¡œë“œ ê¸°ëŠ¥ê³¼ ê´€ë ¨ì´ ì ì€ ë‹¤ë¥¸ ê¸°ëŠ¥ë“¤ì´ í˜¼ì¬ë˜ì–´ ìˆë‹¤.\r\n- ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ê³ , í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ê°€ í•˜ë‚˜ì˜ ë©”ì¸ ê¸°ëŠ¥ì„ ë‹´ë‹¹í•´ì•¼ í•œë‹¤. (ë‹¨ì¼ ì±…ì„ì˜ ì›ì¹™)\r\n    - ìŠ¤íƒ€ì¼ ê¸°ëŠ¥ `Button`\r\n    - ì´ë¯¸ì§€ ì—…ë¡œë“œ ê¸°ëŠ¥ `ImageUploaderComposition`\r\n\r\n## ë³€ê²½ ì „\r\n\r\n![1](https://user-images.githubusercontent.com/46799722/154789453-c6fea7ef-e4d8-4b2e-8411-04fc7e7eae3e.png)\r\n![2](https://user-images.githubusercontent.com/46799722/154789454-24b0539d-feb8-421a-8982-7b4f137448d0.png)\r\n\r\n\r\n```tsx\r\n// SmsCreateStep2.tsx\r\n\r\n...\r\n<div className=\"sms-create-item\">\r\n  <div className=\"sms-create-item-header\">{i18next.t('ì´ë¯¸ì§€')}</div>\r\n  <div className=\"sms-create-image\">\r\n    <div className=\"sms-create-image-desc\">\r\n      <div>* {i18next.t('ê¶Œì¥ ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆ: 320px*480px (ëª¨ë°”ì¼ ê¸°ê¸° ìµœì í™”)')}</div>\r\n      <div>* {i18next.t('íŒŒì¼ í˜•ì‹: JPG, JPEG')}</div>\r\n      <div>* {i18next.t('íŒŒì¼ ìš©ëŸ‰: ìµœëŒ€ 300kb')}</div>\r\n    </div>\r\n    <ImageUploader\r\n      handleUpload={updateImage(0)}\r\n      index={0}\r\n      endPoint=\"bizSmsCreate\"\r\n      uploadBtnLabel={i18next.t('íŒŒì¼ ì„ íƒ')}\r\n      isExistFile={!!props.material.images[0]?.img_url}\r\n      handleRemove={() => {\r\n        const tempMaterial: SmsMaterial = _.cloneDeep(props.material);\r\n        props.handleUpdate({\r\n          ...tempMaterial,\r\n          images: [],\r\n        });\r\n      }}\r\n    />\r\n  </div>\r\n</div>\r\n...\r\n```\r\n\r\n## í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•˜ëŠ” ì¼ì´ ë„ˆë¬´ ë§ë‹¤.\r\n```tsx\r\n// ImageUploader.tsx\r\n\r\nexport interface ImageUploaderProp {\r\n  visualType?: ImageUploaderVisualType;\r\n  handleUpload?: (file: FileInter | Error) => void; // parent material ì—…ë°ì´íŠ¸\r\n  verify?: (file: File) => Promise<boolean> | undefined;\r\n  image?: string;\r\n  index: number; // id ìƒì„±ì— ì‚¬ìš©\r\n  endPoint?: string;\r\n  uploadBtnLabel?: string;\r\n  isValid?: boolean;\r\n  isExistFile?: boolean;\r\n  handleRemove?: () => void;\r\n}\r\n\r\nexport const ImageUploader = (props: ImageUploaderProp): ReactElement => {\r\n  const i18next = useTranslation();\r\n  const { uploadBtnLabel = 'íŒŒì¼ ì„ íƒ' } = props;\r\n  const [loaded, setLoaded] = useState(false);\r\n  const fileInput: React.Ref<HTMLInputElement> = useRef(null);\r\n  const { dialogStore } = useDataStore();\r\n\r\n  const uploadImage = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file: null | File = event && event.target && event.target.files && event.target.files[0];\r\n    let isChecked = true;\r\n    if (props.verify) {\r\n      isChecked = (await props.verify(file as File)) as boolean;\r\n    }\r\n\r\n    if (isChecked) {\r\n      return FileAPI.uploadImage(file, props.endPoint)\r\n        .then((res) => {\r\n          if (props.handleUpload) props.handleUpload(res.file as FileInter);\r\n          setLoaded(true);\r\n          return Observable.of(res);\r\n        })\r\n        .catch(() => {\r\n          dialogStore.showMessage(i18next.t('ì•Œë¦¼'), i18next.t('ì—…ë¡œë“œì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤.'));\r\n          if (fileInput.current) {\r\n            fileInput.current.value = '';\r\n          }\r\n        });\r\n    }\r\n    if (fileInput.current) {\r\n      fileInput.current.value = '';\r\n    }\r\n    return isChecked;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (props.image) setLoaded(true);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"image-uploader-wrapper\" style={{ position: 'relative' }}>\r\n      {(!props.visualType || props.visualType === 'normal') && (\r\n        <div className=\"normal\" css={[normalWrapperStyle]}>\r\n          <label htmlFor={`imageUploader-${props.index}`} css={labelCss}>\r\n            <input\r\n              type=\"file\"\r\n              className=\"image-uploader-input\"\r\n              accept=\"image/*\"\r\n              css={inputCss}\r\n              id={`imageUploader-${props.index}`}\r\n              ref={fileInput}\r\n              onChange={uploadImage}\r\n            />\r\n            {!loaded && (\r\n              <Button\r\n                className={`image-updater-btn ${!props.isValid ? 'invalid' : ''}`}\r\n                onClick={() => setLoaded(!loaded)}\r\n                label={uploadBtnLabel}\r\n              />\r\n            )}\r\n            {loaded && (\r\n              <Button className=\"image-updater-btn\" onClick={() => setLoaded(!loaded)} label={uploadBtnLabel} />\r\n            )}\r\n          </label>\r\n          {props.handleRemove && props.isExistFile && (\r\n            <Button\r\n              style={{ marginLeft: '12px' }}\r\n              label={i18next.t('ì‚­ì œ')}\r\n              appearance=\"secondary\"\r\n              onClick={() => {\r\n                if (props.handleRemove) {\r\n                  props.handleRemove();\r\n                }\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n      {props.visualType === 'small' && (\r\n        <div className={`small ${props.isValid ? '' : 'invalid'}`} css={[smallWrapperStyle]}>\r\n          <label\r\n            htmlFor={`imageUploader-${props.index}`}\r\n            css={css`\r\n              display: flex;\r\n              align-items: center;\r\n              gap: 8px;\r\n            `}\r\n          >\r\n            <input\r\n              type=\"file\"\r\n              className=\"image-uploader-input\"\r\n              accept=\"image/*\"\r\n              css={inputCss}\r\n              id={`imageUploader-${props.index}`}\r\n              onChange={(event) => {\r\n                uploadImage(event);\r\n              }}\r\n            />\r\n            {!(loaded && props.image) && (\r\n              <div css={smallButtonCss} className=\"image-uploader-btn\">\r\n                <FontIcon name=\"ic-img\" color=\"#7e8696\" size=\"20px\" />\r\n              </div>\r\n            )}\r\n            {loaded && props.image && <img css={smallImageCss} src={props.image} alt=\"slide-content\" />}\r\n            {!loaded && (\r\n              <Button\r\n                className={`image-updater-btn ${!props.isValid ? 'invalid' : ''}`}\r\n                onClick={() => setLoaded(!loaded)}\r\n                label={i18next.t('ì—…ë¡œë“œ')}\r\n              />\r\n            )}\r\n            {loaded && (\r\n              <Button className=\"image-updater-btn\" onClick={() => setLoaded(!loaded)} label={i18next.t('ì—…ë¡œë“œ')} />\r\n            )}\r\n          </label>\r\n          {props.handleRemove && props.isExistFile && (\r\n            <Button\r\n              style={{ marginLeft: '8px' }}\r\n              label={i18next.t('ì´ë¯¸ì§€ ì‚­ì œ')}\r\n              appearance=\"secondary\"\r\n              onClick={() => {\r\n                if (props.handleRemove) {\r\n                  props.handleRemove();\r\n                }\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nImageUploader.defaultProps = {\r\n  isValid: true,\r\n};\r\n```\r\n\r\n## ë³€ê²½ í›„\r\n\r\n- ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë¶„ë¦¬\r\n- `ì´ë¯¸ì§€ ë¦¬ìŠ¤íŠ¸ë¥¼ ê´€ë¦¬í•˜ëŠ” ì»´í¬ë„ŒíŠ¸(SmsInputImageList)`\r\n- `ì´ë¯¸ì§€ í•˜ë‚˜ë¥¼ ê´€ë¦¬í•˜ëŠ” ì»´í¬ë„ŒíŠ¸(InputImageCard, InputImageEmptyCard)`\r\n- `ì´ë¯¸ì§€ ì—…ë¡œë“œ ê¸°ëŠ¥ì„ ë‹´ë‹¹í•˜ëŠ” ì»´í¬ë„ŒíŠ¸(ImageUploaderComposition)`\r\n- `Button`ì„ `ImageUploaderComposition` ì˜ childrenìœ¼ë¡œ ì „ë‹¬í•˜ì—¬ ì—…ë¡œë“œ ê¸°ëŠ¥ì„ ìˆ˜í–‰\r\n- \\+ ë””ìì¸ì´ ì¡°ê¸ˆ ìˆ˜ì •ë˜ì—ˆë‹¤.\r\n\r\n![3](https://user-images.githubusercontent.com/46799722/154789455-b28a31e2-e827-459e-8d9c-da77a3741569.png)\r\n![4](https://user-images.githubusercontent.com/46799722/154789456-acef377a-3590-49b5-99e5-e449c2f67cdf.png)\r\n\r\n```tsx\r\n// SmsCreateStep2.tsx\r\n\r\n...\r\n<div className=\"sms-create-item\">\r\n  <div className=\"sms-create-item-header\">{i18next.t('ì´ë¯¸ì§€')}</div>\r\n  <div className=\"sms-create-image\">\r\n    <div className=\"sms-create-image-desc\">\r\n      <div>* {i18next.t('ìµœëŒ€ ì²¨ë¶€ ê°€ëŠ¥ ì´ë¯¸ì§€ ê°œìˆ˜: {{count}}ê°œ', { count: 3 })}</div>\r\n      <div>* {i18next.t('ê¶Œì¥ ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆ: 320px x 480px (ëª¨ë°”ì¼ ê¸°ê¸° ìµœì í™”)')}</div>\r\n      <div>* {i18next.t('íŒŒì¼ í˜•ì‹: JPG, JPEG')}</div>\r\n      <div>* {i18next.t('íŒŒì¼ ìš©ëŸ‰: ì´ë¯¸ì§€ ë‹¹ 300KB')}</div>\r\n    </div>\r\n    <SmsInputImageList\r\n      imageInfoList={images}\r\n      handleImageInfoList={handleImageInfoList}\r\n    />\r\n  </div>\r\n</div>\r\n...\r\n```\r\n\r\n```tsx\r\n// InputImageEmptyCard.tsx\r\n// [ì´ë¯¸ì§€ ì¸ë„¤ì¼] [íŒŒì¼ì„ íƒ ë²„íŠ¼] UI\r\nexport const InputImageEmptyCard: FC<InputImageEmptyCardProps> = ({\r\n  addNewImage,\r\n  fileValidation,\r\n}: InputImageEmptyCardProps) => {\r\n  const i18next = useTranslation();\r\n  return (\r\n    <StyledImageCard>\r\n      <div className=\"image-card-wrapper\">\r\n        <div className=\"image-card-thumbnail\">\r\n          <FontIcon name=\"ic-img\" size=\"20px\" color=\"#53585f\" />\r\n        </div>\r\n        <ImageUploaderComposition\r\n          uploadImageAPIEndPoint=\"bizSmsCreate\"\r\n          handleUpload={addNewImage}\r\n          fileValidation={fileValidation}\r\n        >\r\n          <Button appearance=\"primary\" label={i18next.t('íŒŒì¼ ì„ íƒ')} />\r\n        </ImageUploaderComposition>\r\n      </div>\r\n    </StyledImageCard>\r\n  );\r\n};\r\n```\r\n\r\n## ì´ë¯¸ì§€ ì—…ë¡œë“œ ê¸°ëŠ¥ë§Œ ë‹´ë‹¹\r\n\r\n```tsx\r\n// ImageUploaderComposition.tsx\r\nexport interface ImageUploaderCompositionProps {\r\n  uploadImageAPIEndPoint: string;\r\n  handleUpload: (file: FileInter | Error) => void;\r\n  fileValidation?: (file: File) => boolean;\r\n  children: React.ReactNode;\r\n}\r\nexport const ImageUploaderComposition: FC<ImageUploaderCompositionProps> = ({\r\n  uploadImageAPIEndPoint,\r\n  handleUpload,\r\n  fileValidation,\r\n  children,\r\n}: ImageUploaderCompositionProps) => {\r\n  const i18next = useTranslation();\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n  const { dialogStore } = useDataStore();\r\n\r\n  const handleChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event?.target?.files?.[0];\r\n    if (file === undefined) return;\r\n\r\n    // íŒŒì¼ ê²€ì¦\r\n    const isValid = fileValidation?.(file) && true;\r\n    if (isValid === false) return;\r\n\r\n    // íŒŒì¼ ì—…ë¡œë“œ\r\n    try {\r\n      const result = await FileAPI.uploadImage(file, uploadImageAPIEndPoint); //  uploadImageAPIEndPoint: ex) \"bizSmsCreate\"\r\n      // ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì— ì—…ë¡œë“œ ì„±ê³µí•œ íŒŒì¼ ì •ë³´ ë°˜í™˜\r\n      handleUpload(result.file as FileInter);\r\n    } catch {\r\n      // ì—…ë¡œë“œ ì‹¤íŒ¨\r\n      dialogStore.showMessage(i18next.t('ì•Œë¦¼'), i18next.t('ì—…ë¡œë“œì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤.'));\r\n      if (inputRef.current) {\r\n        inputRef.current.value = '';\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleChildrenClick = () => {\r\n    inputRef?.current?.click();\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <input type=\"file\" accept=\"image/*\" ref={inputRef} onChange={handleChange} style={{ display: 'none' }} />\r\n      <div onClick={handleChildrenClick}>{children}</div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n```"},{"id":1644505200,"title":"NextJS + Typescript + ESLint í”„ë¡œì íŠ¸ì—ì„œ ì ˆëŒ€ê²½ë¡œ alias ì„¤ì •í•˜ê¸°\r","author":"jangky000\r","category":"ê¸°íƒ€\r","desc":"í”„ë¡œì íŠ¸ì˜ ì‚¬ì´ì¦ˆê°€ ì»¤ì§ˆìˆ˜ë¡ ìƒëŒ€ê²½ë¡œë¥¼ í†µí•´ importë¥¼ í•˜ê²Œ ë˜ë©´ ../ ì§€ì˜¥ì— ë¹ ì§€ê¸° ì‰½ë‹¤. NextJS + Typescript + ESLintë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ” í˜„ì¬ ë¸”ë¡œê·¸ì—ì„œ CRACO ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ ì ˆëŒ€ê²½ë¡œ aliasë¥¼ ì„¤ì •í•˜ê³  import pathë¥¼ ê¹”ë”í•˜ê²Œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ê³µìœ í•œë‹¤.\r","date":"2022.02.11\r","content":"\r\n# NextJS + Typescript + ESLint í”„ë¡œì íŠ¸ì—ì„œ ì ˆëŒ€ê²½ë¡œ Alias ì„¤ì •í•˜ê¸°\r\n\r\n## ì ìš© ì „\r\n\r\n![1](https://user-images.githubusercontent.com/46799722/153555553-77c5db2a-3970-4689-996a-c0444ee4723c.png)\r\n\r\n## ì ìš© í›„\r\n\r\n![2](https://user-images.githubusercontent.com/46799722/153555565-f020b259-52d9-486a-bab8-b05ec4bf4b7e.png)\r\n\r\n- í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°\r\n\r\n```\r\nğŸ“¦jangky000.github.io\r\n â”£ ğŸ“‚components\r\n â”£ ğŸ“‚contents\r\n â”£ ğŸ“‚jsons\r\n â”£ ğŸ“‚lib\r\n â”£ ğŸ“‚pages\r\n â”£ ğŸ“‚public\r\n â”£ ğŸ“‚scripts\r\n â”£ ğŸ“‚styles\r\n â”£ ğŸ“‚theme\r\n â”£ ğŸ“‚types\r\n â”£ ğŸ“œ.eslintrc\r\n â”£ ğŸ“œ.gitignore\r\n â”£ ğŸ“œ.prettierrc\r\n â”£ ğŸ“œ.stylelintrc\r\n â”£ ğŸ“œREADME.md\r\n â”£ ğŸ“œcraco.config.js\r\n â”£ ğŸ“œnext-env.d.ts\r\n â”£ ğŸ“œnext.config.js\r\n â”£ ğŸ“œpackage.json\r\n â”£ ğŸ“œtsconfig.json\r\n â”— ğŸ“œtsconfig.path.json\r\n```\r\n\r\n## **Craco(C**reateÂ **R**eactÂ **A**ppÂ **C**onfigurationÂ **O**verride)\r\n\r\n- [https://www.npmjs.com/package/@craco/craco](https://www.npmjs.com/package/@craco/craco)\r\n- create-react-appë¡œ ìƒì„±í•œ í”„ë¡œì íŠ¸ì—ì„œ ejectë¡œ í”„ë¡œì íŠ¸ì— ìˆ¨ê²¨ì ¸ ìˆëŠ” ëª¨ë“  ì„¤ì •ì„ êº¼ë‚´ì§€ ì•Šê³  ì»¤ìŠ¤í…€ ì„¤ì •ì„ overrideí•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ëª¨ë“ˆ\r\n\r\n## **Craco** ì„¤ì¹˜\r\n\r\n```\r\nyarn add @craco/craco\r\nyarn add craco-alias -D\r\n```\r\n\r\n## **craco.config.js**\r\n\r\n- ë£¨íŠ¸ ê²½ë¡œì—\r\n\r\n```jsx\r\nconst CracoAlias = require('craco-alias');\r\n\r\nmodule.exports = {\r\n  plugins: [\r\n    {\r\n      plugin: CracoAlias,\r\n      options: {\r\n        source: 'tsconfig',\r\n        baseUrl: './src',\r\n        tsConfigPath: 'tsconfig.path',\r\n      },\r\n    },\r\n  ],\r\n};\r\n```\r\n\r\n## **tsconfig.path.json**\r\n\r\n```jsx\r\n{\r\n    \"compilerOptions\": {\r\n        \"baseUrl\": \"./\" ,\r\n  \r\n        \"paths\": {\r\n            \"@components/*\": [\"components/*\"],\r\n            \"@styles/*\": [\"styles/*\"],\r\n            \"@jsons/*\": [\"jsons/*\"],\r\n            \"@theme/*\": [\"theme/*\"],\r\n            \"@lib/*\": [\"lib/*\"],\r\n         },\r\n     }\r\n   }\r\n```\r\n\r\n## **tsconfig.json**\r\n\r\n```json\r\n{\r\n\t...\r\n\t\"extends\": \"./tsconfig.path\"\r\n}\r\n```\r\n\r\n## .eslintrc\r\n\r\n```json\r\n{\r\n\t...\r\n\t\"import/no-unresolved\": \"off\"\r\n\t...\r\n}\r\n```\r\n\r\n## VS Code ê»ë‹¤ê°€ ì¼œê¸°*\r\n\r\n- **tsconfig.path.json**ì—ì„œ ê²½ë¡œë¥¼ ìˆ˜ì •í•˜ë©´ ê²½ë¡œë¥¼ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.\r\n- ~~ëŒ€ë¶€ë¶„ì˜ ì„¤ì • ë¬¸ì œëŠ” ì„¤ì • ì™„ë£Œ í›„ ê»ë‹¤ê°€ ì¼œë©´ í•´ê²°ëœë‹¤.~~"},{"id":1641913200,"title":"Reactì™€ Recoilì„ ì‚¬ìš©í•´ íŠœí† ë¦¬ì–¼ì„ ë§Œë“¤ì–´ë³´ì\r","author":"jangky000\r","category":"ì—…ë¬´ íšŒê³ \r","desc":"ì²˜ìŒ í˜ì´ì§€ì— ë°©ë¬¸í•œ ì‚¬ëŒì´ ë³µì¡í•œ ì†”ë£¨ì…˜ ì„œë¹„ìŠ¤ë¥¼ ì²˜ìŒë¶€í„° ì˜ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì–´ë µê¸° ë•Œë¬¸ì— ë§ì€ ì„œë¹„ìŠ¤ì—ì„œëŠ” íŠœí† ë¦¬ì–¼ì„ ì œê³µí•œë‹¤. Recoilì„ ì‚¬ìš©í•˜ì—¬ ì›¹ì‚¬ì´íŠ¸ì˜ íŠœí† ë¦¬ì–¼ ìŠ¤í…ê³¼ ë¬¸êµ¬, ê·¸ë¦¬ê³  í•´ë‹¹ ì˜ì—­ í¬ì»¤ì‹±ì„ ê´€ë¦¬í•œ ê²½í—˜ì„ ê³µìœ í•œë‹¤.\r","date":"2022.01.12\r","content":"\r\n## ê¸°íš ë‚´ìš©\r\n\r\n- ì „ë‹¬ ë°›ì€ íŠœí† ë¦¬ì–¼ ë‚´ìš©\r\n  \r\n  ![1](https://user-images.githubusercontent.com/46799722/149144274-e7ecc1f0-786d-45bd-9ea9-d8c7151090fe.png)\r\n    \r\n\r\n- ì²« í™”ë©´\r\n    \r\n  ![2](https://user-images.githubusercontent.com/46799722/149144272-f16aa2de-6095-4397-981d-63c9100d245c.png)\r\n    \r\n\r\n- ë‹¤ìŒ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì„¤ëª…ì— í•´ë‹¹í•˜ëŠ” ì˜ì—­ìœ¼ë¡œ ìŠ¤í¬ë¡¤ ì´ë™í•˜ë©° í¬ì»¤ì‹±í•œë‹¤.\r\n    \r\n  ![3](https://user-images.githubusercontent.com/46799722/149144263-e3b5c3ee-d8dc-4b18-a040-6fa3171ae81a.png)\r\n\r\n- ë‹¤ìŒ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì„¤ëª…ì— í•´ë‹¹í•˜ëŠ” ë©”ë‰´ ë“œë¡­ë‹¤ìš´ì„ ì˜¤í”ˆí•˜ê³  í¬ì»¤ì‹±í•œë‹¤.\r\n\r\n  ![4](https://user-images.githubusercontent.com/46799722/149144251-71981a02-f214-45d6-a979-ee91feb5e2a9.png)\r\n    \r\n\r\n- ì ‘ê¸° ì‹œ\r\n    \r\n  ![5](https://user-images.githubusercontent.com/46799722/149144269-fbda31a6-4741-4ef9-8fcd-234edb27bc31.png)\r\n    \r\n\r\n# Recoilì„ ì‚¬ìš©í•œ ì „ì—­ ìƒíƒœ ê´€ë¦¬\r\n\r\n## atom & selector\r\n    \r\n```tsx\r\nimport { atom, selector } from 'recoil';\r\nimport { tutorialHelperText } from '@/components/Demo/TutorialHelper/TutorialHelper.data';\r\nimport { TutorialNode } from '@/components/Demo/TutorialHelper/TutorialNode';\r\nimport { TutorialMenu } from '@/components/Demo/TutorialHelper/TutorialHelper.interface';\r\n\r\ninterface DemoTutorialState {\r\n  isDemo: boolean;\r\n  isExpired: boolean;\r\n  isEmailVerified: boolean;\r\n  isFolded: boolean;\r\n  tutorialNode: TutorialNode | null;\r\n}\r\n\r\nconst isDemo = JSON.parse(sessionStorage.getItem('isDemo') || 'false') as boolean;\r\n\r\nexport const demoTutorialState = atom<DemoTutorialState>({\r\n  key: 'demoGuideState',\r\n  default: {\r\n    isDemo,\r\n    isExpired: false,\r\n    isEmailVerified: false,\r\n    isFolded: false,\r\n    tutorialNode: null,\r\n  },\r\n});\r\n\r\ninterface TutorialHelperState {\r\n  menu: TutorialMenu | null;\r\n  title: string | null;\r\n  subTitle: string | null;\r\n  desc: string | null;\r\n  tutorialStep: number;\r\n  totalStep: number;\r\n  prev: TutorialNode | null;\r\n  next: TutorialNode | null;\r\n}\r\n\r\nexport const demoTutorialStateSelector = selector({\r\n  key: 'demoGuideStateSelector',\r\n  get: ({ get }) => {\r\n    const { tutorialNode } = get(demoTutorialState);\r\n\r\n    if (tutorialNode === null)\r\n      return {\r\n        menu: null,\r\n        title: null,\r\n        subTitle: null,\r\n        desc: null,\r\n        tutorialStep: 0,\r\n        totalStep: 0,\r\n        prev: null,\r\n        next: null,\r\n      };\r\n\r\n    const {\r\n      info: { menu, tutorialStep },\r\n      prev,\r\n      next,\r\n    } = tutorialNode;\r\n    const { title, step } = tutorialHelperText[menu];\r\n    const { subTitle, desc } = step[tutorialStep];\r\n    const totalStep = tutorialHelperText[menu].step.length;\r\n    const derivedState = {\r\n      menu,\r\n      title,\r\n      subTitle: subTitle || null,\r\n      desc,\r\n      tutorialStep,\r\n      totalStep,\r\n      prev,\r\n      next,\r\n    };\r\n    return derivedState as TutorialHelperState;\r\n  },\r\n});\r\n```\r\n  \r\n## íŠœí† ë¦¬ì–¼ ì„¤ëª… ê´€ë¦¬\r\n\r\n- íŠœí† ë¦¬ì–¼ ì„¤ëª…ì„ í•œ íŒŒì¼ì— ëª¨ì•„ì„œ ê´€ë¦¬í•œë‹¤.\r\n- ì–‘ë°©í–¥ ì—°ê²° ë¦¬ìŠ¤íŠ¸ë¡œ ê° ìŠ¤í…ì„ ì—°ê²°í•˜ì—¬ ë‹¤ìŒ ë‚´ìš©ì„ ì°¾ì„ í•„ìš” ì—†ì´ ë°”ë¡œ í•´ë‹¹ ìŠ¤í…ì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í–ˆë‹¤.\r\n    \r\n```tsx\r\nimport { TutorialLinkedList } from './TutorialLinkedList';\r\nimport { TutorialHelperText } from './TutorialHelper.interface';\r\n\r\n//íŠœí† ë¦¬ì–¼ ì•ˆë‚´ ë¬¸êµ¬\r\nexport const tutorialHelperText: TutorialHelperText = {\r\n  Automation: {\r\n    title: 'ìë™í™”',\r\n    step: [\r\n      {\r\n        desc:\r\n          'ë‚´ ì‚¬ì´íŠ¸ì˜ í¼ë„, íŒë§¤ í˜„í™©ì„ íŒŒì•…í•˜ê³  ê° í¼ë„ ë‹¨ê³„ë³„ë¡œ ê³ ê°ê·¸ë£¹ì„ ë¶„ë¥˜í•˜ì—¬ ìº í˜ì¸ì„ ë¹ ë¥´ê²Œ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n      {\r\n        subTitle: 'í¼ë„ í˜„í™©',\r\n        desc:\r\n          'ë°©ë¬¸ë¶€í„° ê²°ì œê¹Œì§€ ê° í¼ë„ ë‹¨ê³„ë³„ ì „í™˜ê³¼ ì´íƒˆ ìˆ˜ì¹˜ë¥¼ í™•ì¸í•˜ê³ , ì´íƒˆê³ ê°ì„ ë¶™ì¡ê¸° ìœ„í•œ ì¶”ì²œ ìº í˜ì¸ì„ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n      {\r\n        subTitle: 'í¼ë„ í˜„í™©-ì£¼ìš”ê´€ë¦¬í•„ìš”êµ¬ê°„',\r\n        desc: 'ì´íƒˆ ìˆ˜ì¹˜ê°€ ê°€ì¥ ë†’ì€ í¼ë„ì˜ ê³ ê°ì„ í™•ì¸í•˜ê±°ë‚˜ ì¶”ì²œ ìº í˜ì¸ì„ ë°”ë¡œ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n      {\r\n        subTitle: 'ìº í˜ì¸ ì„±ê³¼',\r\n        desc: 'ë¹…ì¸ì„ í†µí•´ ì§„í–‰í•œ ìº í˜ì¸ ì„±ê³¼ë¥¼ ìœ í˜•ë³„ë¡œ ìš”ì•½í•˜ì—¬ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n      {\r\n        subTitle: 'êµ¬ë§¤ í˜„í™©',\r\n        desc: 'ì‚¬ì´íŠ¸ì˜ êµ¬ë§¤ ì „í™˜ ë¶„ì„ ë°ì´í„°ì™€ ìƒí’ˆ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n    ],\r\n  },\r\n  CampaignList: {\r\n    title: 'ìº í˜ì¸',\r\n    step: [\r\n      {\r\n        desc: 'ê³ ê° í–‰ë™ ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ íƒ€ê²ŸíŒ… í•˜ì—¬ ì‚¬ì´íŠ¸ ë‚´ì—ì„œ ë˜ëŠ” ë©”ì‹ ì €ë¥¼ í†µí•´ ìë™í™” ìº í˜ì¸ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n      {\r\n        subTitle: 'ìº í˜ì¸ ì‹œì‘í•˜ê¸° ë²„íŠ¼ - ìº í˜ì¸ ì¢…ë¥˜ ì„ íƒ ë ˆì´ì–´',\r\n        desc: 'íŒì—…, í† ìŠ¤íŠ¸ë¥¼ í™œìš©í•´ ì›¹ ì‚¬ì´íŠ¸ ë‚´ì—ì„œ ì˜¨ì‚¬ì´íŠ¸ ìº í˜ì¸ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n      {\r\n        subTitle: 'ìº í˜ì¸ ì‹œì‘í•˜ê¸° ë²„íŠ¼ - ìº í˜ì¸ ì¢…ë¥˜ ì„ íƒ ë ˆì´ì–´',\r\n        desc: 'ì¹´ì¹´ì˜¤ ì¹œêµ¬í†¡/ì•Œë¦¼í†¡, SMS ë¥¼ í™œìš© í•´ ì˜¤í”„ì‚¬ì´íŠ¸ ìº í˜ì¸ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n      {\r\n        subTitle: 'ìº í˜ì¸ ë¦¬ìŠ¤íŠ¸',\r\n        desc: 'ìº í˜ì¸ë“¤ì˜ ì§„í–‰ ìƒí™©ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n    ],\r\n  },\r\n  SegmentSmartList: {\r\n    title: 'ìŠ¤ë§ˆíŠ¸ ê·¸ë£¹',\r\n    step: [\r\n      {\r\n        desc:\r\n          'ë°©ë¬¸, êµ¬ë§¤ì´ë ¥ ë“±ì˜ ìˆ˜ì§‘ ë°ì´í„°ë¥¼ í†µí•´ ë¹…ì¸ì˜ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ë¶„ì„í•œ ê³ ê° ì„¸ê·¸ë¨¼íŠ¸ ì…ë‹ˆë‹¤. SDK ë¥¼ ì„¤ì¹˜í•˜ë©´ 2ì£¼ ë’¤ì— í™œì„±í™” ë©ë‹ˆë‹¤.',\r\n      },\r\n      {\r\n        subTitle: 'ìŠ¤ë§ˆíŠ¸ê·¸ë£¹ ë¦¬ìŠ¤íŠ¸',\r\n        desc:\r\n          'ë¦¬ìŠ¤íŠ¸ì˜ ê³ ê° ê·¸ë£¹ì„ ì„ íƒí•˜ë©´ í•´ë‹¹í•˜ëŠ” ê³ ê° ë¦¬ìŠ¤íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ë§Œ, ë°ì´í„°ê°€ ì¶©ë¶„í•˜ì§€ ì•Šìœ¼ë©´ í•´ë‹¹ ì„¸ê·¸ë¨¼íŠ¸ì— ê³ ê° ë¦¬ìŠ¤íŠ¸ê°€ ì—†ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n    ],\r\n  },\r\n  SegmentManualList: {\r\n    title: 'ê³ ê° ë¶„ë¥˜',\r\n    step: [\r\n      {\r\n        desc: 'CRM, ë§ˆì¼€íŒ… ëª©ì ì— ë§ëŠ” ê³ ê° ê·¸ë£¹ì„ ì§ì ‘ ë§Œë“¤ì–´ ìº í˜ì¸ì— í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n      {\r\n        subTitle: 'ê¸°ë³¸',\r\n        desc:\r\n          'ë§ˆì¼€í„°ë“¤ì´ ë§ì´ ê¶ê¸ˆí•´í•˜ëŠ” ê³ ê° ëª©ë¡ì´ ê¸°ë³¸ìœ¼ë¡œ ì œê³µ ë©ë‹ˆë‹¤. ë³„ë„ì˜ ì¡°ê±´ ì„¤ì • ì—†ì´ ë¹ ë¥´ê²Œ ê³ ê°ëª©ë¡ì„ í™•ì¸í•˜ê³  ìº í˜ì¸ì„ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n      {\r\n        subTitle: 'ë§ì¶¤',\r\n        desc: 'ë¹…ì¸ ì‚¬ìš©ìê°€ ì§ì ‘ ì¡°ê±´ì„ ì„¤ì •í•´ ìƒì„±í•œ ê³ ê° ê·¸ë£¹ ì…ë‹ˆë‹¤.',\r\n      },\r\n      {\r\n        subTitle: 'ìƒˆ ê³ ê° ê·¸ë£¹ ìƒì„±',\r\n        desc: 'ë§ì¶¤ ê³ ê° ê·¸ë£¹ì„ ìƒì„±í•˜ëŠ” í™”ë©´ìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n    ],\r\n  },\r\n  ReportList: {\r\n    title: 'ë³´ê³ ì„œ',\r\n    step: [\r\n      {\r\n        desc:\r\n          'ë¹…ì¸ SDK ë¡œ ìˆ˜ì§‘í•œ ë°ì´í„°ë¥¼ ì‚¬ìš©ìê°€ ì›í•˜ëŠ” í˜•íƒœë¡œ ë³´ê³ ì„œë¥¼ ë§Œë“¤ê³ , ê³ ê°ì˜ í–‰ë™ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n      {\r\n        subTitle: 'ë³´ê³ ì„œ ë§Œë“¤ê¸° - ì´ë²¤íŠ¸',\r\n        desc: 'ì´ë²¤íŠ¸ ë³´ê³ ì„œë¥¼ í†µí•´ ë§ˆì¼€í„°ê°€ ì§ì ‘ ë¶„ì„í•˜ê³ ì í•˜ëŠ” ì¡°ê±´ì„ ì„¤ì •í•˜ì—¬ ë³´ê³ ì„œë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n      {\r\n        subTitle: 'ë³´ê³ ì„œ ë§Œë“¤ê¸° - ë¼ì´ë¸Œ',\r\n        desc: 'ì‚¬ì´íŠ¸ì—ì„œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n      {\r\n        subTitle: 'ë³´ê³ ì„œ ë§Œë“¤ê¸° - ê³ ê° íƒìƒ‰',\r\n        desc: 'ì‚¬ìš©ìê°€ ìƒì„±í•œ ê³ ê° ê·¸ë£¹ì— í•´ë‹¹í•˜ëŠ” ê³ ê° ëª©ë¡ì„ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      },\r\n    ],\r\n  },\r\n};\r\n\r\n  \r\n//íŠœí† ë¦¬ì–¼ ìˆœì„œ ì„¤ì • ì—°ê²° ë¦¬ìŠ¤íŠ¸ ìƒì„±\r\nexport const TutorialAutomationList = new TutorialLinkedList();\r\ntutorialHelperText.Automation.step.forEach((_, index) =>\r\n  TutorialAutomationList.add({ menu: 'Automation', tutorialStep: index }),\r\n);\r\nexport const TutorialCampaignList = new TutorialLinkedList();\r\ntutorialHelperText.CampaignList.step.forEach((_, index) =>\r\n  TutorialCampaignList.add({ menu: 'CampaignList', tutorialStep: index }),\r\n);\r\nexport const TutorialSegmentSmartList = new TutorialLinkedList();\r\ntutorialHelperText.SegmentSmartList.step.forEach((_, index) =>\r\n  TutorialSegmentSmartList.add({ menu: 'SegmentSmartList', tutorialStep: index }),\r\n);\r\nexport const TutorialSegmentManualList = new TutorialLinkedList();\r\ntutorialHelperText.SegmentManualList.step.forEach((_, index) =>\r\n  TutorialSegmentManualList.add({ menu: 'SegmentManualList', tutorialStep: index }),\r\n);\r\nexport const TutorialReportList = new TutorialLinkedList();\r\ntutorialHelperText.ReportList.step.forEach((_, index) =>\r\n  TutorialReportList.add({ menu: 'ReportList', tutorialStep: index }),\r\n);\r\n```\r\n  \r\n## ì¸í„°í˜ì´ìŠ¤, ë…¸ë“œ, ì—°ê²°ë¦¬ìŠ¤íŠ¸\r\n    \r\n```tsx\r\n// TutorialHelper.interface.ts\r\n\r\nexport type TutorialMenu = 'Automation' | 'CampaignList' | 'SegmentSmartList' | 'SegmentManualList' | 'ReportList';\r\n\r\nexport type TutorialHelperText = {\r\n  [key in TutorialMenu]: {\r\n    title: string;\r\n    step: Array<{\r\n      subTitle?: string;\r\n      desc: string;\r\n    }>;\r\n  };\r\n};\r\n\r\nexport interface TutorialInfo {\r\n  menu: TutorialMenu;\r\n  tutorialStep: number;\r\n}\r\n```\r\n  \r\n```tsx\r\n// TutorialNode.ts\r\n\r\nimport { TutorialInfo } from './TutorialHelper.interface';\r\n\r\nexport class TutorialNode {\r\n  info: TutorialInfo;\r\n\r\n  prev: TutorialNode | null;\r\n\r\n  next: TutorialNode | null;\r\n\r\n  constructor(info: TutorialInfo) {\r\n    this.info = info;\r\n    this.prev = null;\r\n    this.next = null;\r\n  }\r\n}\r\n```\r\n- ì—°ê²°ë¦¬ìŠ¤íŠ¸ë¥¼ ê²€ìƒ‰í•˜ê±°ë‚˜ ì‚­ì œí•  ì¼ì´ ì—†ê¸° ë•Œë¬¸ì— í•„ìš”í•œ ê¸°ëŠ¥(ì¶”ê°€)ë§Œ êµ¬í˜„í–ˆë‹¤.\r\n```tsx\r\n// TutorialLinkedList.ts\r\n\r\nimport { TutorialInfo } from './TutorialHelper.interface';\r\nimport { TutorialNode } from './TutorialNode';\r\n\r\nexport class TutorialLinkedList {\r\n  public head: TutorialNode | null = null;\r\n\r\n  tail: TutorialNode | null = null;\r\n\r\n  constructor(headInfo?: TutorialInfo) {\r\n    if (headInfo) this.init(headInfo);\r\n  }\r\n\r\n  init(headInfo: TutorialInfo): void {\r\n    this.head = new TutorialNode(headInfo);\r\n    this.tail = this.head;\r\n  }\r\n\r\n  add(newInfo: TutorialInfo): void {\r\n    if (this.tail === null) this.init(newInfo);\r\n    else {\r\n      const newNode = new TutorialNode(newInfo);\r\n      newNode.prev = this.tail;\r\n      this.tail.next = newNode;\r\n      this.tail = newNode;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n## TutorialFocus ì»´í¬ë„ŒíŠ¸\r\n\r\nComposition íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„í•˜ì—¬, ê°•ì¡°í•˜ê³ ì í•˜ëŠ” ì˜ì—­ì„ í¬ì»¤ìŠ¤ ì»´í¬ë„ŒíŠ¸ë¡œ ê°ì‹¸ì£¼ì–´ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í–ˆë‹¤.\r\n    \r\n```tsx\r\nimport React, { FC, useMemo, useEffect, useRef } from 'react';\r\nimport { useRecoilValue } from 'recoil';\r\nimport { isEqual } from 'lodash';\r\nimport { demoTutorialState } from '../../../recoil/DemoTutorialState';\r\nimport { TutorialMenu } from '../TutorialHelper/TutorialHelper.interface';\r\nimport { StyledLayout } from './TutorialFocus.style';\r\n\r\nexport interface FocusTarget {\r\n  menu: TutorialMenu;\r\n  tutorialStep: number;\r\n}\r\n\r\nconst isMatch = (propTarget: FocusTarget | FocusTarget[], recoilInfo: FocusTarget) => {\r\n  if (Array.isArray(propTarget)) return propTarget.some((target) => isEqual(target, recoilInfo));\r\n  return isEqual(propTarget, recoilInfo);\r\n};\r\nexport interface TutorialFocusProps {\r\n  focusTarget: FocusTarget | FocusTarget[];\r\n  style?: React.CSSProperties;\r\n  children: React.ReactNode;\r\n}\r\nexport const TutorialFocus: FC<TutorialFocusProps> = ({ focusTarget, style, children }: TutorialFocusProps) => {\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const { tutorialNode, isFolded } = useRecoilValue(demoTutorialState);\r\n\r\n  const isFocusOn = useMemo(() => {\r\n    if (isFolded) return false;\r\n    if (tutorialNode === null) return false;\r\n    const { info } = tutorialNode;\r\n    return isMatch(focusTarget, info);\r\n  }, [isFolded, tutorialNode]);\r\n\r\n  useEffect(() => {\r\n    if (isFocusOn) ref.current?.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n  }, [isFocusOn]);\r\n\r\n  return (\r\n    <StyledLayout isFocusOn={isFocusOn} style={style} ref={ref}>\r\n      {isFocusOn && <span className=\"dot\" />}\r\n      {children}\r\n    </StyledLayout>\r\n  );\r\n};\r\n```    \r\n\r\n## TutorialHelper ì»´í¬ë„ŒíŠ¸\r\n\r\nFAB(Floating Action Button) UI ì»´í¬ë„ŒíŠ¸ \r\n    \r\n```tsx\r\n// TutorialHelper.tsx\r\n...\r\nimport { useRecoilValue, useSetRecoilState } from 'recoil';\r\nimport { demoTutorialState, demoTutorialStateSelector } from '../../../recoil/DemoTutorialState';\r\n...\r\n\r\nexport const TutorialHelper: FC = () => {\r\n  const i18next = useTranslation();\r\n\r\n  const { title, subTitle, desc, prev, next } = useRecoilValue(demoTutorialStateSelector);\r\n  const { isDemo, isFolded } = useRecoilValue(demoTutorialState);\r\n  const setDemoTutorial = useSetRecoilState(demoTutorialState);\r\n\r\n  const openPopOver = () => setDemoTutorial((curVal) => ({ ...curVal, isFolded: false }));\r\n  const closePopOver = () => setDemoTutorial((curVal) => ({ ...curVal, isFolded: true }));\r\n\r\n  const toPrevTutorial = () => {\r\n    if (prev !== null) setDemoTutorial((currVal) => ({ ...currVal, tutorialNode: prev }));\r\n  };\r\n  const toNextTutorial = () => {\r\n    if (next !== null) setDemoTutorial((currVal) => ({ ...currVal, tutorialNode: next }));\r\n  };\r\n\r\n  const List: FC<{ href: string; children: React.ReactNode }> = ({\r\n    href,\r\n    children,\r\n  }: {\r\n    href: string;\r\n    children: React.ReactNode;\r\n  }) => {\r\n    return (\r\n      <React.Fragment>\r\n        <StyledList\r\n          onClick={() => {\r\n            window.open(href, '_blank');\r\n          }}\r\n        >\r\n          <div className=\"children\">{children}</div>\r\n          <FontIcon name=\"ic-arrow-right\" size=\"16px\" />\r\n        </StyledList>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n  return isDemo && title && desc ? (\r\n    <StyledLayout>\r\n      {!isFolded && (\r\n        <React.Fragment>\r\n          <StyledUpperPopOver>\r\n            <div className=\"title\">{i18next.t('ë°”ë¡œê°€ê¸°')}</div>\r\n\r\n            <ul className=\"menu-list\">\r\n              <List href=\"https://bigin.io/contact\">\r\n                <span role=\"img\" aria-label=\"\">\r\n                  ğŸ’Œ\r\n                </span>\r\n                <span>{i18next.t('ìƒë‹´ ì‹ ì²­í•˜ê¸°')}</span>\r\n              </List>\r\n\r\n              <List href=\"https://docs.google.com/forms/d/e/1FAIpQLScH1ZlWpgqPtcTS0RWHxGxOsUO_4cCYiBFdgxfh6SWEIZgEBA/viewform\">\r\n                <span role=\"img\" aria-label=\"\">\r\n                  ğŸ‘©â€ğŸ’»\r\n                </span>\r\n                <span>{i18next.t('ë¹„ëŒ€ë©´ ì˜¤ë¦¬ì—”í…Œì´ì…˜ ë“£ê¸°')}</span>\r\n                <BGTooltip\r\n                  title={\r\n                    i18next.t(\r\n                      'bigin ì˜¤ë¦¬ì—”í…Œì´ì…˜ì€ biginì„ í†µí•´ í™œìš©í•  ìˆ˜ ìˆëŠ” ë°ì´í„° í•­ëª©, ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê³ ê°ì„ ë¶„ë¥˜í•˜ëŠ” ì„¸ ê°€ì§€ ë°©ë²•, CRM ë§ˆì¼€íŒ… í™œìš© ì‚¬ë¡€ë¥¼ ê³µìœ í•˜ê³  ê°„ëµí•œ bigin ëŒ€ì‹œë³´ë“œ ì‹œì—°í•©ë‹ˆë‹¤.',\r\n                    ) || ''\r\n                  }\r\n                >\r\n                  <div className=\"tip\">\r\n                    <FontIcon name=\"ic-info\" size=\"16px\" />\r\n                  </div>\r\n                </BGTooltip>\r\n              </List>\r\n            </ul>\r\n          </StyledUpperPopOver>\r\n\r\n          {title && desc && (\r\n            <StyledPopOver>\r\n              <div className=\"border-box\">\r\n                <div className=\"title\">{subTitle ? `${title}: ${subTitle}` : title}</div>\r\n                <div className=\"desc\">{desc}</div>\r\n              </div>\r\n\r\n              <div className=\"bottom\">\r\n                <button type=\"button\" className=\"close\" onClick={closePopOver}>\r\n                  ì ‘ê¸°\r\n                </button>\r\n\r\n                <BGButtonGroup>\r\n                  {prev !== null && (\r\n                    <BGButton appearance=\"secondary\" onClick={toPrevTutorial}>\r\n                      <FontIcon name=\"ic-arrow-left\" size=\"20px\" />\r\n                    </BGButton>\r\n                  )}\r\n\r\n                  {next !== null && (\r\n                    <BGButton onClick={toNextTutorial}>\r\n                      <FontIcon name=\"ic-arrow-right\" size=\"20px\" />\r\n                    </BGButton>\r\n                  )}\r\n                </BGButtonGroup>\r\n              </div>\r\n            </StyledPopOver>\r\n          )}\r\n        </React.Fragment>\r\n      )}\r\n\r\n      {/* button */}\r\n      <StyledFAB type=\"button\" active={!isFolded} onClick={isFolded ? openPopOver : closePopOver}>\r\n        <img\r\n          src={isFolded ? '/assets/img/demo/logo-symbol-white.svg' : '/assets/img/demo/img-tutorial-helper.svg'}\r\n          alt=\"tutorial helper\"\r\n        />\r\n      </StyledFAB>\r\n    </StyledLayout>\r\n  ) : (\r\n    <React.Fragment />\r\n  );\r\n};\r\n```\r\n\r\n## ì‚¬ìš©ë²•\r\n    \r\n### TutorialHelper ì»´í¬ë„ŒíŠ¸(FAB) ì‚¬ìš©\r\n    \r\n```tsx\r\n// ìµœìƒë‹¨ ì»´í¬ë„ŒíŠ¸ì— ì¶”ê°€\r\n<TutorialHelper />\r\n```\r\n    \r\n### í˜ì´ì§€ mount ì‹œ tutorialNode ì´ˆê¸°í™”\r\n\r\n```tsx\r\n// /pages/Automation.tsx\r\n\r\nimport { useRecoilValue, useSetRecoilState } from 'recoil';\r\nimport { demoTutorialState } from '@/recoil/DemoTutorialState';\r\nimport { TutorialAutomationList } from '@/components/Demo/TutorialHelper/TutorialHelper.data';\r\n\r\nexport const Automation = (): ReactElement => {\r\n\t...\r\n  const { isDemo } = useRecoilValue(demoTutorialState);\r\n  const setDemoTutorial = useSetRecoilState(demoTutorialState);\r\n\r\n\t...\r\n\r\n  useEffect(() => {\r\n    if (isDemo) setDemoTutorial((curVal) => ({ ...curVal, tutorialNode: TutorialAutomationList.head }));\r\n    return () => {\r\n      if (isDemo) setDemoTutorial((curVal) => ({ ...curVal, tutorialNode: null }));\r\n    };\r\n  }, [isDemo]);\r\n\r\n\t...\r\n\r\n  return (\r\n    <BGPage className=\"container-section\" direction=\"column\" css={[baseCss]}>\r\n      ...\r\n    </BGPage>\r\n  );\r\n};\r\n```\r\n\r\n### í¬ì»¤ìŠ¤ ì„¤ì •\r\n\r\nì˜ˆì‹œ1: demoTutorialStateì˜ menuê°€ â€œAutomationâ€ì´ê³  tutorialStepì´ 3ì´ë©´ í¬ì»¤ì‹±ì´ í™œì„±í™”ëœë‹¤.\r\n\r\n```tsx\r\n<TutorialFocus focusTarget={{ menu: 'Automation', tutorialStep: 3 }}>\r\n  [í¬ì»¤ìŠ¤ í‘œì‹œí•  ì˜ì—­]\r\n</TutorialFocus>\r\n```\r\n\r\nì˜ˆì‹œ2: demoTutorialStateì˜ menuê°€ â€œAutomationâ€ì´ê³  tutorialStepì´ 3ì´ê±°ë‚˜ menuê°€ â€œCampaignListâ€ì´ê³  tutorialStepì´ 2ë¼ë©´ í¬ì»¤ìŠ¤ê°€ í™œì„±í™”ëœë‹¤.\r\n\r\n```tsx\r\n<TutorialFocus\r\n  focusTarget={[\r\n    { menu: 'Automation', tutorialStep: 3 },\r\n    { menu: 'CampaignList', tutorialStep: 2 },\r\n  ]}\r\n>\r\n  [í¬ì»¤ìŠ¤ í‘œì‹œí•  ì˜ì—­]\r\n</TutorialFocus>\r\n```"},{"id":1635951600,"title":"Reactì—ì„œ HOCë¡œ ê³µí†µ ë¡œì§ì„ ë¬¶ì–´ì„œ ê´€ë¦¬í•´ë³´ì(+ Custom hook)\r","author":"jangky000\r","category":"ì—…ë¬´ íšŒê³ \r","desc":"React ê³µì‹ ë¬¸ì„œì—ì„œ classí˜•ìœ¼ë¡œ êµ¬í˜„ëœ ì˜ˆì œë§Œ ìˆëŠ” HOCë¥¼ êµ³ì´ í•¨ìˆ˜í˜•ìœ¼ë¡œ êµ¬í˜„/ì ìš©í•´ë³´ê³  ëŠë‚€ì ê³¼ Custom hookì˜ ì†Œì¤‘í•¨ì— ëŒ€í•´ ì´ì•¼ê¸°í•´ë³¸ë‹¤.\r","date":"2021.11.04\r","content":"\r\n# ìƒí™© #1\r\n\r\nReact í”„ë¡œì íŠ¸ì— 4ê°œì˜ ìƒˆë¡œìš´ í˜ì´ì§€ë¥¼ ì¶”ê°€í•˜ëŠ” íƒœìŠ¤í¬ë¥¼ ë§¡ê²Œ ë˜ì—ˆë‹¤. \r\n\r\nì•„ë˜ì™€ ê°™ì´ 4ê°œì˜ í˜ì´ì§€ë¥¼ ì œì‘í•´ì•¼ í•œë‹¤ê³  í•˜ì, 4ê°œì˜ í˜ì´ì§€ì—ëŠ” ê³µí†µì ìœ¼ë¡œ ë‚ ì§œë¥¼ ì„ íƒí•  ìˆ˜ ìˆëŠ” Calendar Selectorê°€ ìˆê³ , ì´ ì…€ë ‰í„°ì—ëŠ” ì‚¬ìš©ìì— ë”°ë¼ **ì„ íƒ ê°€ëŠ¥í•œ ê¸°ê°„**ê³¼ **ê¸°ë³¸ ì„¤ì • ê¸°ê°„** ì •ë³´ê°€ í•„ìš”í•˜ë‹¤.\r\n- **ì„ íƒ ê°€ëŠ¥í•œ ê¸°ê°„**ì€ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ ì „ì—­ ìƒíƒœë¡œ ê´€ë¦¬ë˜ê³  ìˆëŠ” ë°ì´í„°ë‹¤.\r\n- **ê¸°ë³¸ ì„¤ì • ê¸°ê°„** ì—­ì‹œ ì „ì—­ ìƒíƒœ ë°ì´í„°ë‹¤.\r\n- ê°ê°ì˜ í˜ì´ì§€ëŠ” Calendar Selectorì—ì„œ ì„ íƒí•œ ê¸°ê°„ì— ë”°ë¼ ë‹¤ë¥¸ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ ì¶œë ¥í•´ì•¼ í•œë‹¤.\r\n\r\n<div style=\"display: grid;grid-template-columns: repeat(2, 1fr);grid-column-gap: 20px;grid-row-gap: 20px;\">\r\n    <img src=\"https://user-images.githubusercontent.com/46799722/140294319-00c25762-be33-4452-93ad-b9ffec94b290.png\" style=\"width:100%;\"/>\r\n    <img src=\"https://user-images.githubusercontent.com/46799722/140294330-2092adfa-5527-4b24-a23b-2c75838e98f7.png\" style=\"width:100%;\"/>\r\n    <img src=\"https://user-images.githubusercontent.com/46799722/140294336-21ddcf01-228d-4ff0-b74c-4148139496cc.png\" style=\"width:100%;\"/>\r\n    <img src=\"https://user-images.githubusercontent.com/46799722/140294339-c4061391-c5a0-47ab-b619-4a34e8a11ec8.png\" style=\"width:100%;\"/>\r\n</div>\r\n\r\n# ì½”ë“œì˜ ì¬ì‚¬ìš©\r\n\r\n*ì „ì—­ ìƒíƒœ ê´€ë¦¬ ìŠ¤í† ì–´ì—ì„œ **ì„ íƒ ê°€ëŠ¥í•œ ê¸°ê°„**ê³¼ **ê¸°ë³¸ ì„¤ì • ê¸°ê°„**ì„ ê°€ì ¸ì™€ ë°ì´í„°ë¥¼ ê²€ì¦ì„ í•œ ë’¤ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤, 4ê°œì˜ í˜ì´ì§€ì—ì„œ ë˜‘ê°™ì´.*\r\n\r\n**ì„ íƒ ê°€ëŠ¥í•œ ê¸°ê°„**ê³¼, **ê¸°ë³¸ ì„¤ì • ê¸°ê°„** ì •ë„ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë°, ì´ ë¡œì§ì„ ì¬ì‚¬ìš©í•˜ê² ë‹¤ê³  ê²°ì‹¬í•œ ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\r\n\r\n- ìœ ì§€ ë³´ìˆ˜í•  ë•Œ, ë³µì‚¬ ë¶™ì—¬ë„£ê¸° ë˜ì–´ ìˆëŠ” 4ê°œì˜ ì†ŒìŠ¤ë¥¼ í•˜ë‚˜ì”© ì°¾ì•„ ê³ ì¹˜ê³  ì‹¶ì§€ ì•Šë‹¤.\r\n- ê°ê°ì˜ í˜ì´ì§€ì—ì„œ ìµœëŒ€í•œ ë°ì´í„°ë¥¼ ê°€ê³µí•˜ëŠ” ë¡œì§ì„ ì œê±°í•˜ê³ , Viewë¥¼ ê·¸ë¦¬ëŠ” ì—­í• ì—ë§Œ ì§‘ì¤‘í•˜ê³  ì‹¶ë‹¤.\r\n\r\n# ë¦¬ì•¡íŠ¸ì—ì„œ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•\r\n\r\n- Util ì„± ìˆœìˆ˜ í•¨ìˆ˜\r\n- Composition\r\n- Render Props\r\n- HOC\r\n- Custom Hook\r\n\r\n# ì´ì¤‘ HOCë¥¼ ì„ íƒí•œ ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\r\n\r\n- Util ì„± ìˆœìˆ˜í•¨ìˆ˜ëŠ” ì „ì—­ ìƒíƒœ ê´€ë¦¬ ìŠ¤í† ì–´ ê°’ì„ í™œìš© í•  ìˆ˜ ì—†ë‹¤.(ìˆœìˆ˜ í•¨ìˆ˜ ì •ì˜ì— ìœ„ë°°)\r\n- Compositionì€, Render PropsëŠ” JSX Element í˜•íƒœë¡œ ì‚¬ìš©í•˜ì—¬ ë™ì ìœ¼ë¡œ ë¬´ì—‡ì„ ê·¸ë¦´ì§€ì— ì´ˆì ì´ ìˆëŠ” ëŠë‚Œì´ë‹¤.\r\n- í•˜ì§€ë§Œ ë‚´ê²Œ í•„ìš”í•œ ê¸°ëŠ¥ì€ ë‹¨ìˆœíˆ ì „ì—­ ìƒíƒœ ê´€ë¦¬ ìŠ¤í† ì–´ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê¸°ëŠ¥ì´ë‹¤.\r\n- <s>ì„ íƒì§€ê°€ ì•„ì§ ë‘ ê°œê°€ ë‚¨ì•˜ì§€ë§Œ ë‚´ê²Œ ê°€ì¥ ë‚¯ì„  HOCë¥¼ ì‚¬ìš©í•´ë³´ê³  ì‹¶ì—ˆë‹¤.</s>\r\n\r\n# HOC(Higher Order Component): ê³ ì°¨í•¨ìˆ˜\r\n\r\n> ê³ ì°¨ ì»´í¬ë„ŒíŠ¸(HOC, Higher Order Component)ëŠ” ì»´í¬ë„ŒíŠ¸ ë¡œì§ì„ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•œ Reactì˜ ê³ ê¸‰ ê¸°ìˆ ì´ë‹¤. ê³ ì°¨ ì»´í¬ë„ŒíŠ¸(HOC)ëŠ” React APIì˜ ì¼ë¶€ê°€ ì•„ë‹ˆë©°, Reactì˜ êµ¬ì„±ì  íŠ¹ì„±ì—ì„œ ë‚˜ì˜¤ëŠ” íŒ¨í„´ì´ë‹¤. ([ì°¸ê³ ](https://ko.reactjs.org/docs/higher-order-components.html))\r\n\r\n> *\"íš¡ë‹¨ ê´€ì‹¬ì‚¬(Cross-Cutting Concerns)ì— ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\"*\r\n\r\nì´ ì„¤ëª…ì„ ë³´ê³  JAVAì˜ AOPê°€ ë– ì˜¬ëë‹¤. ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë¡œì§ì„ íš¡ë‹¨ ê´€ì‹¬ì‚¬ë¡œ ë³´ì•„ í•˜ë‚˜ë¡œ ë¬¶ì–´ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.\r\n\r\n## HOCëŠ”\r\n\r\n- ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¸ìë¡œ ë°›ì•„ì„œ ë‹¤ë¥¸ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜\r\n- ì»´í¬ë„ŒíŠ¸ì— íŠ¹ì • ê¸°ëŠ¥ì„ ë¶€ì—¬í•œë‹¤.\r\n- íŠ¹ì •í•œ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œ í›„ ì¸ìë¡œ ë°›ì€ ì»´í¬ë„ŒíŠ¸ì— ë°ì´í„°ë¥¼ ë„˜ê²¨ì¤„ ìˆ˜ë„ ìˆë‹¤.\r\n\r\n\r\n# ì–´ë– í•œ ê²½ìš°ì— HOCë¥¼ ì‚¬ìš©í• ê¹Œ?\r\n\r\n- ë¡œë”©, ì—ëŸ¬, ë°ì´í„° ìš”ì²­ ë“± ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°˜ë³µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ ë°”ê¹¥ìœ¼ë¡œ ë¶„ë¦¬í•  ë•Œ ê³ ë ¤ë  ìˆ˜ ìˆë‹¤.\r\n\r\n# Functionalí•˜ê²Œ HOC ì‚¬ìš©í•˜ê¸°\r\n\r\n- React ê³µì‹ í™ˆí˜ì´ì§€ì—ì„œëŠ” class í˜•íƒœë¡œ HOCë¥¼ ì‚¬ìš©í•˜ëŠ” ì˜ˆì œê°€ ë‚˜ì™€ ìˆì§€ë§Œ, ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ì—ì„œ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë¡œ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì—, í•¨ìˆ˜ì˜ í˜•íƒœë¡œ HOCë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì¡°ì‚¬í–ˆë‹¤.\r\n\r\n# ì‚¬ìš© ì˜ˆì œ\r\n\r\n````typescript\r\n// HOC í•¨ìˆ˜: withCalendarDateRange\r\nexport const withCalendarDateRange = <OriginProps,>(WrappedComponent: FC<WrapperProps>): FC<OriginProps> => {\r\n  const WrapperComponent = (props?: OriginProps) => {\r\n    const { projectStore } = useDataStore();\r\n\r\n    const selectableDateRange = useMemo(() => {\r\n      const dateRange = projectStore.date.selectable\r\n      // ê²€ì¦ ë¡œì§...\r\n      return dateRange;\r\n    }, []);\r\n\r\n    const initSelectedDateRange = useMemo(() => {\r\n      const dateRange = projectStore.date.init\r\n      // ê²€ì¦ ë¡œì§...\r\n      return dateRange;\r\n    }, []);\r\n\r\n    return (\r\n      <WrappedComponent\r\n        {...props}\r\n        selectableDateRange={selectableDateRange}\r\n        initSelectedDateRange={initSelectedDateRange}\r\n      />\r\n    );\r\n  };\r\n  WrapperComponent.displayName = WrappedComponent.displayName || WrappedComponent.name || 'CalendarDateRangeWrapper';\r\n  return WrapperComponent;\r\n};\r\n````\r\n\r\n````typescript\r\n// ê³µí†µ ë¡œì§ì„ ì¶”ê°€í•  ì»´í¬ë„ŒíŠ¸: WrappedVisitStatus\r\n// Propsë¥¼ í†µí•´ selectableDateRange, initSelectedDateRange ë°ì´í„°ë¥¼ ë°›ëŠ”ë‹¤.\r\nconst WrappedVisitStatus = ({ selectableDateRange, initSelectedDateRange }: WrappedVisitStatusProps) => {\r\n  const [dateRange, setDateRange] = useState<DateRange>();\r\n  const handleDateRange = (changedDateRange: DateRange) => setDateRange(changedDateRange);\r\n\r\n  return (\r\n    <StyledLayout>\r\n      <StyledTitleWrapper>\r\n        <StyledTitle>ë°©ë¬¸ í˜„í™©</StyledTitle>\r\n        <Calendar\r\n          selectableRange={selectableDateRange}\r\n          initDateRange={initSelectedDateRange}\r\n          dateHandle={handleDateRange}\r\n        />\r\n      </StyledTitleWrapper>\r\n    </StyledLayout>\r\n  );\r\n};\r\n\r\n// HOCë¥¼ í†µí•´ ìº˜ë¦°ë” ë°ì´í„° Props ì‚½ì…\r\nexport const VisitStatus = withCalendarDateRange(WrappedVisitStatus);\r\n````\r\n\r\n````typescript\r\n// ê³µí†µ ë¡œì§ì´ ì¶”ê°€ëœ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©: Dashboard\r\nexport const useTab = (defaultTab: ITab): IUseTab => {\r\n  const [selectedTab, setTab] = useState<ITab>(defaultTab);\r\n  const handleTab = (tab: ITab) => {\r\n    setTab(tab);\r\n  };\r\n  return { selectedTab, handleTab };\r\n};\r\n\r\nexport const Dashboard: FC = () => {\r\n  const { selectedTab, handleTab } = useTab(tabList[0]);\r\n\r\n  return (\r\n    <Container>\r\n      <TopNavBar title=\"CRM ëŒ€ì‹œë³´ë“œ\" style={{ border: 0 }} />\r\n      <BGTab tabList={tabList} selectedTab={selectedTab} handleTab={handleTab} />\r\n      <BorderSection style={{ marginTop: '32px', borderRadius: '8px' }}>\r\n        {selectedTab.key === 'visitStatus' && <VisitStatus />}\r\n      </BorderSection>\r\n    </Container>\r\n  );\r\n};\r\n\r\n````\r\n\r\n# ìœ„ì˜ êµ¬ì¡°ë¥¼ ê°„ë‹¨í•˜ê²Œ í‘œí˜„í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.\r\n\r\n````javascript\r\n// HOC\r\nexport const withHOC = WrappedComponent => {\r\n  const NewComponent = async (props) => {\r\n    // ê³µí†µ ë¡œì§\r\n    const { newData } = await fetchNewDate(); // newData = 'Higher Order Component'\r\n    return (\r\n        <WrappedComponent {...props} data={newData} />\r\n      );\r\n  }\r\n  NewComponent.displayName = 'NewComponent'\r\n  return NewComponent;\r\n}\r\n````\r\n\r\n````javascript\r\n// ê³µí†µ ë¡œì§ì„ ì¶”ê°€í•  ì»´í¬ë„ŒíŠ¸\r\nimport { withHOC } from 'withHOC.tsx'\r\nconst WrappedComponent = ({text, data})=>{\r\n    // nameì€ PageComponentì—ì„œ propsë¡œ ë„˜ê²¨ì¤€ ë°ì´í„°\r\n    // dataëŠ” HOCì— ì˜í•´ propsì— ì¶”ê°€ëœ\r\n    return (\r\n        <div>\r\n            <div>{text}</div>\r\n            <div>{data}</div>\r\n        </div>\r\n    );\r\n}\r\nexport const MyComponent = withHOC(WrappedComponent)\r\n````\r\n\r\n````javascript\r\nimport { MyComponent } from 'MyComponent.tsx'\r\n// ê³µí†µ ë¡œì§ì´ ì¶”ê°€ëœ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©\r\nconst PageComponentì—ì„œ = ()=>{\r\n    return <MyComponent text={'HOC'}/>\r\n}\r\n````\r\n````\r\nê²°ê³¼ í™”ë©´:\r\n\r\nHOC\r\nHigher Order Component\r\n````\r\n\r\n# ê·¸ëŸ°ë°,\r\n\r\nì–´ì°Œì €ì°Œ HOCë¥¼ ì‚¬ìš©í•´ë³´ê³  ì‹¶ì€ ì§€ì ì¸ ìš•ì‹¬ì€ í’€ì—ˆìœ¼ë‚˜ HOCì˜ ë‹¨ì ì´ ìˆë‹¤.\r\n- ì—¬ëŸ¬ HOCë¥¼ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•´ì•¼ í•  ê²½ìš°ê°€ ìƒê¸´ë‹¤ë©´, `withA(withB(withC(MyComponent)))` ì²˜ëŸ¼ í•¨ìˆ˜ í˜¸ì¶œ Depthê°€ ê¹Šì–´ì§„ë‹¤(Nesting).\r\n\r\n# ë‚˜ëŠ” í‰ì†Œ Hooksë¥¼ ì†Œì¤‘íˆ ì—¬ê¸°ì§€ ì•Šì•˜ì§€\r\n\r\ní•„ìëŠ” ë¦¬ì•¡íŠ¸ë¥¼ ì²˜ìŒ ì‹œì‘í•  ë•Œë¶€í„° í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì™€ ë¦¬ì•¡íŠ¸ Hooksë¥¼ ì‚¬ìš©í•´ì™”ê¸° ë•Œë¬¸ì— Hooksì˜ í¸ë¦¬í•¨ì„ ì˜ ëª°ëë‹¤. [ë¦¬ì•¡íŠ¸ HooksëŠ” ëŒ€ë¶€ë¶„ì˜ HOCì™€ Render Propsë¥¼ ëŒ€ì²´ ê°€ëŠ¥í•˜ë©°, ë” ê°„ë‹¨í•˜ê³  ë¦¬ì•¡íŠ¸ ê°€ìƒ DOM Treeì˜ Nestingì„ ì¤„ì—¬ì¤€ë‹¤.](https://reactjs.org/docs/hooks-faq.html#do-hooks-replace-render-props-and-higher-order-components)\r\në‹¤ìŒê³¼ ê°™ì´ Custom Hookì„ ì‚¬ìš©í•˜ì—¬ í•´ê²°ì´ ê°€ëŠ¥í•˜ë‹¤.\r\n\r\n````typescript\r\n// useCalendarDateRange.ts\r\nconst useCalendarDateRange = ()=>{\r\n  const { projectStore } = useDataStore();\r\n\r\n    const selectableDateRange = useMemo(() => {\r\n      const dateRange = projectStore.date.selectable\r\n      // ê²€ì¦ ë¡œì§...\r\n      return dateRange;\r\n    }, []);\r\n\r\n    const initSelectedDateRange = useMemo(() => {\r\n      const dateRange = projectStore.date.init\r\n      // ê²€ì¦ ë¡œì§...\r\n      return dateRange;\r\n    }, []);\r\n  return {selectableDateRange, initSelectedDateRange}\r\n}\r\n````\r\n\r\n````typescript\r\n// ê³µí†µ ë¡œì§ì„ ì¶”ê°€í•  ì»´í¬ë„ŒíŠ¸: VisitStatus\r\n// Propsë¥¼ í†µí•´ì„œê°€ ì•„ë‹Œ useCalendarDateRange()ë¥¼ í˜¸ì¶œí•´ì„œ í•„ìš”í•œ ë°ì´í„°ë¥¼ ë°›ëŠ”ë‹¤.\r\nexport const VisitStatus = () => {\r\n  const [dateRange, setDateRange] = useState<DateRange>();\r\n  const handleDateRange = (changedDateRange: DateRange) => setDateRange(changedDateRange);\r\n  const {selectableDateRange, initSelectedDateRange} = useCalendarDateRange();\r\n\r\n  return (\r\n    <StyledLayout>\r\n      <StyledTitleWrapper>\r\n        <StyledTitle>ë°©ë¬¸ í˜„í™©</StyledTitle>\r\n        <Calendar\r\n          selectableRange={selectableDateRange}\r\n          initDateRange={initSelectedDateRange}\r\n          dateHandle={handleDateRange}\r\n        />\r\n      </StyledTitleWrapper>\r\n    </StyledLayout>\r\n  );\r\n};\r\n````\r\n\r\n# ê²°ë¡ \r\n\r\n- HOCëŠ” í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì™€ ë¦¬ì•¡íŠ¸ Hooksê°€ ë‚˜ì˜¤ê¸° ì´ì „ë¶€í„° Class Component ê°œë°œì—ì„œ ë¦¬ì•¡íŠ¸ Life Cycleì— ì¢…ì†ì ì´ì§€ ì•Šì€ ì¤‘ë³µëœ ì½”ë“œë¥¼ ë¶„ë¦¬í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©ë˜ì—ˆë‹¤. (ê·¸ë˜ì„œ ê³µì‹ í™ˆí˜ì´ì§€ì— í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¤ì–´ì§„ HOC ì˜ˆì œê°€ ìˆë‚˜ë³´ë‹¤.)\r\n- HOCëŠ” í´ë˜ìŠ¤í˜•, ê·¸ë¦¬ê³  í•¨ìˆ˜í˜• ëª¨ë‘ì— ì ìš©í•  ìˆ˜ ìˆì–´, ë ˆê±°ì‹œì™€ ëª¨ë˜í•œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì—ì„œ ì—°ê²° ë‹¤ë¦¬ì²˜ëŸ¼ ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤. \r\n- í˜„ì¬ëŠ” ë¦¬ì•¡íŠ¸ Hooksë¥¼ ì‚¬ìš©í•´ Custom Hookì„ ë§Œë“¤ì–´ HOCë¥¼ ëŒ€ë¶€ë¶„ ëŒ€ì²´í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë ‡ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ê°„ë‹¨í•˜ê³  ì§ê´€ì ì´ë‹¤.\r\n- ê·¸ëŸ¬ë‹ˆ ë‹¤ì‹œ ì†ŒìŠ¤ë¥¼ ìˆ˜ì •í•˜ëŸ¬ ê°€ì•¼ê² ë‹¤.\r\n\r\n# ì°¸ê³ \r\n- [https://ko.reactjs.org/docs/higher-order-components.html](https://ko.reactjs.org/docs/higher-order-components.html)\r\n- [https://reactjs.org/docs/hooks-faq.html#do-hooks-replace-render-props-and-higher-order-components](https://reactjs.org/docs/hooks-faq.html#do-hooks-replace-render-props-and-higher-order-components)\r\n- [https://velog.io/@yeonseo07/%EB%AA%A8%EB%8B%AC%EC%9D%84-%EB%A7%8C%EB%93%A4%EB%8B%A4-%EC%83%9D%EA%B8%B4-%EC%9D%BC](https://velog.io/@yeonseo07/%EB%AA%A8%EB%8B%AC%EC%9D%84-%EB%A7%8C%EB%93%A4%EB%8B%A4-%EC%83%9D%EA%B8%B4-%EC%9D%BC)\r\n- [https://yceffort.kr/2020/10/react-hooks-and-hocs](https://yceffort.kr/2020/10/react-hooks-and-hocs)"},{"id":1635778800,"title":"ì²« ê²Œì‹œê¸€\r","author":"jangky000\r","category":"ê¸°íƒ€\r","desc":"ì²« ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\r","date":"2021.11.02\r","content":"\r\nNextJS í”„ë ˆì„ì›Œí¬ë¡œ ë§Œë“  Markdown ë¸”ë¡œê·¸ì…ë‹ˆë‹¤."}]