{"pageProps":{"postInfo":{"id":1647702000,"title":"ê¸°ì¡´ í”„ë¡œì íŠ¸ì— ë‹¤êµ­ì–´ ì²˜ë¦¬ë¥¼ ì ìš©í•´ë³´ì(react-i18next)","author":"jangky000","category":"ì—…ë¬´ íšŒê³ ","desc":"íšŒì‚¬ì—ì„œ ì‚¬ì—…ì˜ í•´ì™¸ ì§„ì¶œì„ ì¤€ë¹„í•˜ë©´ì„œ ì˜ë¬¸ ë²„ì „ì˜ ì‚¬ì´íŠ¸ê°€ í•„ìš”í•´ì¡Œë‹¤. ëŒ€ì‹œë³´ë“œë¼ëŠ” ê¸°ì¡´ì˜ í”„ë¡œì íŠ¸ì— ì–´ë–»ê²Œ ë‹¤êµ­ì–´ ì²˜ë¦¬ë¥¼ ì ìš©í–ˆëŠ”ì§€ì— ëŒ€í•œ ê²½í—˜ì„ ê³µìœ í•œë‹¤. ë˜í•œ ë‘ ë²ˆì˜ ë‹¤êµ­ì–´ ì²˜ë¦¬ ì‘ì—… ê³¼ì •ì„ ì†Œê°œí•˜ê³  ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ë¥¼ ê°œì„ í–ˆë˜ ê²½í—˜ì„ ì´ì•¼ê¸°í•´ë³´ê³ ì í•œë‹¤.","date":"2022.03.20","content":"\n# ë‹¤êµ­ì–´ ì²˜ë¦¬(i18n)\n\në‹¤êµ­ì–´ ì²˜ë¦¬ë€ ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ì‚¬ìš©í•˜ëŠ” êµ­ê°€ì— ë”°ë¼ ë‹¤ì–‘í•œ ì–¸ì–´ ë° ì§€ì—­ì„ ì§€ì›í•˜ëŠ” ì„œë¹„ìŠ¤ì´ë‹¤.\n\ni18n ëœ»ì€ êµ­ì œí™”(internationalization)ì˜ ìŠ¤í ë§ì—ì„œ â€˜Iâ€™ + 18ê¸€ì + â€˜Nâ€™ì„ ëœ»í•œë‹¤.\n\n## ê¸°ì¡´ ì—…ë¬´ í”„ë¡œì„¸ìŠ¤\n\nì´ ì‘ì—…ì„ ë§¡ê¸° ì§ì „ì— `íšŒì‚¬ ì†Œê°œ ì›¹ì‚¬ì´íŠ¸`ì˜ ë²ˆì—­ ì‘ì—…ì´ ì§„í–‰ëœ ì ì´ ìˆì—ˆë‹¤. \n\n1. ê¸°íšì„ ë‹´ë‹¹í•˜ëŠ” íŒ€ì—ì„œ ì›¹ì‚¬ì´íŠ¸ ì „ì²´ë¥¼ ì‚´í´ë³´ë©° ë²ˆì—­ì´ í•„ìš”í•œ ë¶€ë¶„ì„ ì°¾ëŠ”ë‹¤.\n2. ë²ˆì—­ì´ í•„ìš”í•œ ë¬¸êµ¬ë¥¼ ëª¨ì•„ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ì— ì—…ë¡œë“œí•œë‹¤.\n3. ë²ˆì—­íŒ€ì´ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ë¥¼ ì „ë‹¬ ë°›ì•„ ë²ˆì—­ ì‘ì—…ì„ ì§„í–‰í•œë‹¤.\n4. ê°œë°œ íŒ€ì´ ë²ˆì—­ ì‘ì—…ëœ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ë¥¼ ì „ë‹¬ ë°›ì•„ json íŒŒì¼ì„ ìƒì„±í•˜ê³ , í”„ë¡œì íŠ¸ ë‚´ì—ì„œ ë²ˆì—­ì´ í•„ìš”í•œ ë¶€ë¶„ê³¼ ë²ˆì—­ í‚¤ë¥¼ ë§¤ì¹­í•œ í›„, ë²ˆì—­ì´ ì˜ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ë©° ì‘ì—…ì„ ì§„í–‰í•œë‹¤.\n\n## ê¸°ì¡´ ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ì˜ ì¥ë‹¨ì \n\n**ì¥ì **\n\n- í˜ì´ì§€ ë‹¨ìœ„ë³„ë¡œ ë²ˆì—­ ë¬¸êµ¬ë¥¼ ëª¨ì•„ì„œ ì •ë¦¬í–ˆê¸° ë•Œë¬¸ì— í•´ë‹¹ ë¬¸êµ¬ê°€ ì–´ëŠ í˜ì´ì§€ì— ìˆëŠ”ì§€ ì°¾ëŠ” ê²ƒì´ ìˆ˜ì›”í–ˆë‹¤.\n\n**ë‹¨ì ** \n\n- ë¬´ìˆ˜íˆ ë§ì€ ë²ˆì—­ í‚¤ë¥¼ ì§ì ‘ ì§€ì •í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì› ë‹¤.\n- ë„ì–´ì“°ê¸° í•˜ë‚˜, ì˜¤íƒ€ í•˜ë‚˜, ëŒ€ì†Œë¬¸ì í•˜ë‚˜ì˜ ì°¨ì´ë¡œ ì¸í•´ ë²ˆì—­ í‚¤ë¥¼ ì¸ì‹í•˜ê³  ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” ì¼ë“¤ì´ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— ëˆˆì´ ë¹ ì§€ë„ë¡ json ìƒì˜ ë²ˆì—­ í‚¤ì™€ html ìƒì˜ ë¬¸êµ¬ë¥¼ ë¹„êµí•´ì•¼ í–ˆë‹¤.\n- ë°˜ë³µë˜ëŠ” ë¬¸êµ¬ì˜ ì¤‘ë³µì„ ì œê±°í•˜ê¸° ì–´ë ¤ì› ë‹¤.\n- ì›¹ ì‚¬ì´íŠ¸ ìƒì—ì„œ ì‰½ê²Œ ë³¼ ìˆ˜ ì—†ëŠ” ì²˜ë¦¬ ì‘ë‹µ ë¬¸êµ¬ë‚˜ íŠ¹ì • ì¡°ê±´ íŠ¹ì • ìƒí™©ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ë¬¸êµ¬ê°€ ëˆ„ë½ë˜ëŠ” ê²½ìš°ê°€ ë§ì•˜ë‹¤. ë²ˆì—­ì´ ëˆ„ë½ë˜ëŠ” ê²½ìš° í•„ìš”í•œ ë¬¸êµ¬ë¥¼ ì •ë¦¬í•´ì„œ ë‹¤ì‹œ ìš”ì²­í•´ì•¼ í–ˆë‹¤.\n- ë²ˆì—­ ì‘ì—…ë³´ë‹¤ ê°œë°œ ì‘ì—… í”„ë¡œì„¸ìŠ¤ê°€ ë” ë§ê³  ë‹¨ìˆœ ë…¸ë™ ì‘ì—…ì´ ë§ì•„ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë ¸ë‹¤.\n\n## ë³€ê²½ ëœ ì—…ë¬´ í”„ë¡œì„¸ìŠ¤\n\n`ëŒ€ì‹œë³´ë“œ` í”„ë¡œì íŠ¸ëŠ” `íšŒì‚¬ ì†Œê°œ ì›¹ì‚¬ì´íŠ¸`ì— ë¹„í•´ í›¨ì”¬ ë§ì€ ê¸°ëŠ¥ë“¤ì´ ìˆì—ˆê³ , ê³ ê°ë“¤ì´ ì¤‘ì ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì›¹ì‚¬ì´íŠ¸ì˜€ë‹¤. ê¸°ì¡´ì˜ ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ë¡œ ë²ˆì—­ ì‘ì—…ì„ ì§„í–‰í•  ê²½ìš°ì— ëˆ„ë½ë˜ëŠ” ë¬¸êµ¬ê°€ ì•„ì£¼ ë§ì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ì—ˆê³ , ì‘ì—… ê¸°í•œ ì—­ì‹œ í•œ ë‹¬ ì •ë„ë¡œ ì´‰ë°•í•œ ìƒí™©ì´ì—ˆë‹¤. ê·¸ë•Œ ë‹¤ë¥¸ ì¢‹ì€ ë°©ë²•ì´ ì—†ì„ê¹Œ ê³ ë¯¼í•˜ë©° ìë£Œë¥¼ ì°¾ë˜ ì¤‘, ìœ ë™ì‹ë‹˜ì´ ì‘ì„±í•˜ì‹  `êµ­ì œí™”(i18n) ìë™í™” ê°€ì´ë“œ`(ì°¸ê³ : [ë§í¬](https://meetup.toast.com/posts/295)) í¬ìŠ¤íŠ¸ë¥¼ ë³´ê²Œ ë˜ì—ˆë‹¤. ë²ˆì—­ ì‘ì—… ì§„í–‰ ì´ˆê¸°ì— i18next-scannerë¥¼ ì„¤ì •í•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ ë§ˆì¹œ í›„ ì•„ë˜ì™€ ê°™ì€ ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ë¥¼ ì œì•ˆí–ˆë‹¤. ë˜í•œ ì‚¬ìš©ë²• ë° ì»¨ë²¤ì…˜ì„ ì •ë¦¬í•˜ì—¬ ê³µìœ í–ˆë‹¤.\n\n1. ëŒ€ì‹œë³´ë“œ í”„ë¡œì íŠ¸ì˜ ì†ŒìŠ¤ ìƒì—ì„œ ë²ˆì—­ì´ í•„ìš”í•œ í•œê¸€ ë¬¸êµ¬ë“¤ì„ ëª¨ë‘ i18next.t()ë¼ëŠ” ë©”ì†Œë“œë¡œ ê°ì‹¼ë‹¤.\n2. i18next-scannerë¥¼ ì´ìš©í•˜ì—¬ ë²ˆì—­ í‚¤ë¥¼ í•œë²ˆì— êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ì— ì—…ë¡œë“œí•œë‹¤.\n3. ë²ˆì—­íŒ€ì—ì„œ ë²ˆì—­ ì‘ì—…ì´ ëë‚˜ë©´ ë²ˆì—­ì„ ë‹¤ìš´ë¡œë“œ ë°›ì•„ ëŒ€ì‹œë³´ë“œì— ì ìš©í•˜ê³  í™•ì¸í•œë‹¤.\n\n## ë³€ê²½ëœ ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ì˜ ì¥ë‹¨ì \n\n**ì¥ì **\n\n- í•œê¸€ ë¬¸êµ¬ë¥¼ ê·¸ëŒ€ë¡œ í‚¤ë¡œ ì‚¬ìš©í•˜ì—¬ ë²ˆì—­ í‚¤ë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì— ê³ ë¯¼í•˜ì§€ ì•Šì„ ìˆ˜ ìˆì—ˆê³ , ì˜¤íƒ€ë‚˜ ë„ì–´ì“°ê¸°ë¡œ ì¸í•œ ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ì¤„ì–´ë“¤ì—ˆë‹¤.\n- ì¤‘ë³µëœ ë²ˆì—­ í‚¤ê°€ ìë™ìœ¼ë¡œ ì œê±°ëœë‹¤.\n- ì›¹ ì‚¬ì´íŠ¸ ìƒì—ì„œ ì‰½ê²Œ ë³¼ ìˆ˜ ì—†ëŠ” ì²˜ë¦¬ ì‘ë‹µ ë¬¸êµ¬ë‚˜ íŠ¹ì • ì¡°ê±´ íŠ¹ì • ìƒí™©ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ë¬¸êµ¬ê¹Œì§€ ëˆ„ë½ë˜ëŠ” ë¶€ë¶„ ì—†ì´ í•œë²ˆì— ì‘ì—… ê°€ëŠ¥í–ˆë‹¤.\n- ë‹¤ë¥¸ ì–¸ì–´ë¡œ ë²ˆì—­ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ì‰½ë‹¤.\n- ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œë„ ì‘ì—… ì¤‘ì— ê¸°íšì´ ë³€ê²½ë˜ê±°ë‚˜ ë¬¸êµ¬ê°€ ìˆ˜ì •ë˜ëŠ” ê²½ìš°ê°€ ë§ì€ë° ë¨¼ì € ê¸°ëŠ¥ ì¶”ê°€ ì‘ì—… í›„ ë²ˆì—­ì„ ì§„í–‰í•  ìˆ˜ ìˆì–´ ë°˜ë³µ ì‘ì—…ì´ ì¤„ì–´ë“ ë‹¤.\n- ì •ë§ ì‹ ê¸°í•˜ë‹¤.\n\n**ë‹¨ì **\n\n- í˜ì´ì§€ì˜ ìƒí™©ì— ë”°ë¼ ë²ˆì—­ì˜ ì–´íˆ¬ê°€ ë‹¬ë¼ì ¸ì•¼í•˜ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë° ì–´ëŠ í˜ì´ì§€ì—ì„œ ë‚˜ì˜¨ ë¬¸êµ¬ì¸ì§€ í—·ê°ˆë¦¬ëŠ” ìƒí™©ì´ ì¢…ì¢… ë°œìƒí•œë‹¤.\n- ë²ˆì—­ ë¬¸êµ¬ë§ˆë‹¤ í•¨ìˆ˜ë¥¼ ì”Œì›Œì¤˜ì•¼ í•˜ëŠ” ë‹¨ìˆœ ì‘ì—…ê¹Œì§€ ì¤„ì–´ë“¤ì§€ëŠ” ì•Šì•˜ë‹¤.\n\n## ì ìš© ê²°ê³¼\n\n### json íŒŒì¼ ì˜ˆì‹œ\n\n**/src/i18n/locales/ko-KR/translation.json**\n\n```json\n{\n    \"{{count}}ëª…_0\": \"{{count}}ëª…\",\n    \"ë°ì´í„° ì¡°íšŒ\": \"ë°ì´í„° ì¡°íšŒ\",\n}\n```\n\n**/src/i18n/locales/en-US/translation.json**\n\n```json\n{\n    \"{{count}}ëª…\": \"[ì‘ì„± í•„ìš”]\",\n    \"{{count}}ëª…_plural\": \"[ì‘ì„± í•„ìš”]\",\n    \"ë°ì´í„° ì¡°íšŒ\": \"[ì‘ì„± í•„ìš”]\",\n}\n```\n\n### êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ ì˜ˆì‹œ\n\n<img width=\"1377\" alt=\"1\" src=\"https://user-images.githubusercontent.com/46799722/159149909-f0c63b45-49b6-4d40-b834-0167eeac3b5e.png\">\n\n## ì‚¬ìš©ë²• ë° ì»¨ë²¤ì…˜\n\n### ì‘ì—… ìˆœì„œ\n\n1. ë²ˆì—­ í•„ìš”í•œ ë¬¸êµ¬ë¥¼ i18next.t() ë©”ì†Œë“œì˜ ì¸ìë¡œ ë„˜ê²¨ì¤€ë‹¤.\n2. `yarn upload:i18n`ì„ ì‹¤í–‰í•˜ì—¬ ë²ˆì—­ í‚¤ë“¤ì„ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ë¡œ ì—…ë¡œë“œí•œë‹¤.\n3. ë²ˆì—­íŒ€ì—ì„œ êµ¬ê¸€ ì‹œíŠ¸ì— ë²ˆì—­ì„ ì§„í–‰í•œë‹¤.\n4. `yarn download:i18n`ì„ ì‹¤í–‰í•˜ì—¬ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ë¡œë¶€í„° ë²ˆì—­ëœ ë‚´ìš©ì„ ë‹¤ìš´ë¡œë“œ ë°›ëŠ”ë‹¤.\n5. ì–¸ì–´ ì„¤ì •ì„ ë°”ê¿”ë³´ê³  ë²ˆì—­ì´ ì˜ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸ í›„ ì‘ì—…ì„ ì™„ë£Œí•œë‹¤.\n\n```bash\n# scan\n$ yarn scan:i18n\n# ì‹¤í–‰ ì‹œ src í´ë” ë‚´ì—ì„œ i18next.t() ë©”ì†Œë“œë¡œ ê°ì‹¸ì ¸ ìˆëŠ” í‚¤ë¥¼ ìŠ¤ìº”í•œë‹¤.\n# ì‹¤í–‰ ì‹œ ì¤‘ë³µëœ í‚¤ëŠ” í•˜ë‚˜ì˜ í‚¤ë¡œ ìƒì„±ëœë‹¤.\n# ì‹¤í–‰ ì‹œ json íŒŒì¼ ìƒì„±ë˜ê±°ë‚˜, ê¸°ì¡´ json íŒŒì¼ì— ìƒˆë¡œìš´ í‚¤ê°€ ì¶”ê°€ëœë‹¤.\n\n# upload\n$ yarn upload:i18n\n# ì‹¤í–‰ ì‹œ yarn scan:i18nì„ ì‹¤í–‰í•œ í›„ google spread sheetì— scanëœ í‚¤ì™€ ê°’ì„ ì—…ë¡œë“œí•œë‹¤.\n# ê¸°ì¡´ì— ì—†ëŠ” í‚¤ë§Œ ì¶”ê°€ ì—…ë¡œë“œëœë‹¤.\n\n# download\n$ yarn download:i18n\n# google spread sheetì—ì„œ ë²ˆì—­ í‚¤ì™€ ê°’ì„ json íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œí•œë‹¤.\n```\n\n### êµ¬ê¸€ ì‹œíŠ¸ ì‘ì„± ê°€ì´ë“œ\n\n1. 'ëŒ€ì‹œë³´ë“œ ë²ˆì—­' sheet ì˜ í•œê¸€(B column)ì˜ ë‚´ìš©ì„ ì˜ì–´(C column) ì— ë²ˆì—­í•˜ì—¬ ì‘ì„±í•©ë‹ˆë‹¤.\n2. {{text}}ëŠ” ë³€ìˆ˜ ì…ë‹ˆë‹¤. ë²ˆì—­ ì‹œ ë³€ìˆ˜ì— í•´ë‹¹í•˜ëŠ” ë‹¨ì–´ê°€ ì˜¤ëŠ” ê³³ì— ë™ì¼í•˜ê²Œ {{text}} í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.\n3. {{count}} ë³€ìˆ˜ê°€ ë“¤ì–´ê°€ëŠ” ë¬¸ì¥ì€ ë‹¨ìˆ˜/ë³µìˆ˜ ë¬¸ë²•ì´ ìˆê¸° ë•Œë¬¸ì— ë²ˆì—­ ì‹œ í‚¤(A ì¹¼ëŸ¼)ì˜ ë‚´ìš©ì„ ë²ˆì—­í•´ì•¼í•©ë‹ˆë‹¤.\n    \n    <img width=\"1172\" alt=\"2\" src=\"https://user-images.githubusercontent.com/46799722/159149911-522fea13-7f7b-49d5-ad71-8a7329a98cf9.png\">\n    \n4. <1>abcd</1>, <1><0>abcd</0></1>ê³¼ ê°™ì´ êº¾ì‡ (<>) í˜•íƒœëŠ” HTML tag ê°€ ì‚¬ìš© ëœ ë¬¸ì¥ìœ¼ë¡œ, bold, color ë“±ì´ ì ìš© ëœ ë¬¸ì¥ ì…ë‹ˆë‹¤.ë²ˆì—­ ì‹œì— HTML tag ê°€ ë“¤ì–´ê°€ëŠ” ë¶€ë¶„ì€ ë™ì¼í•˜ê²Œ ì‘ì„±í•©ë‹ˆë‹¤.\n    \n    <img width=\"1180\" alt=\"3\" src=\"https://user-images.githubusercontent.com/46799722/159149913-1dda16f5-4fab-4134-a57a-b5f240fc09fc.png\">\n    \n5. ì˜ì–´(C column)ì— **_N/A** í‘œì‹œëœ cellì€ ë²ˆì—­í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n6. í‚¤(A column), í•œê¸€(B column) ì€ ì ˆëŒ€ ìˆ˜ì •í•˜ë©´ ì•ˆë©ë‹ˆë‹¤.\n\n### ê¸°ë³¸ ì‚¬ìš©ë²•\n\n**Before**\n\n```tsx\nconst MyComponent = ()=>{\n  const freeEndTime =  3\n\n\treturn (\n\t\t<div>\n\t\t\t<span>í‰ê°€íŒ</span>\n\t\t\t<span>Professional ë¬´ë£Œ í‰ê°€íŒì˜ ì´ìš© ê¸°ê°„ì´ {freeEndTime}ì¼ ë‚¨ì•˜ìŠµë‹ˆë‹¤.</span>\n\t\t</div>\n\t)\n}\n```\n\n**After**\n\n- { t } = useTranslation()ì˜ í˜•íƒœë¡œë„ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ të¼ëŠ” í•¨ìˆ˜ ì´ë¦„ì´ ë„ˆë¬´ í”í•˜ê³ , ë‹¤ë¥¸ ì§€ì—­ ë³€ìˆ˜ì™€ ì¶©ëŒì´ ìˆì„ ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ i18next.të¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ í†µì¼í–ˆë‹¤.\n- ë§Œì•½ t í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•ŒëŠ” scanner ì¸ì‹ì„ ìœ„í•´ i18next-scanner.config.jsì—ì„œ options.func.list ë°°ì—´ì— 't'ë¥¼ ì¶”ê°€í•´ì¤˜ì•¼ í•œë‹¤.\n\n```tsx\nimport { useTranslation } from 'react-i18next';\n\nconst MyComponent = ()=>{\n\tconst i18next = useTranslation();\n\tconst freeEndTime =  3;\n\n\treturn (\n\t\t<div>\n\t\t\t<span>{i18next.t('í‰ê°€íŒ')}</span>\n\t\t\t<span>{i18next.t(`Professional ë¬´ë£Œ í‰ê°€íŒì˜ ì´ìš© ê¸°ê°„ì´ {{freeEndTime}}ì¼ ë‚¨ì•˜ìŠµë‹ˆë‹¤.`, {\n             freeEndTime: freeEndTime})}\n\t\t\t</span>\n\t\t</div>\n\t)\n}\n```\n\n### ì‘ìš© ì‚¬ìš©ë²•\n\n**(1) ë²ˆì—­ì— ë³€ìˆ˜ í¬í•¨í•˜ê¸°(interpolation)**\n\ninterpolation ì†ì„± ì´ë¦„ ììœ ë¡­ê²Œ ì„ íƒ ê°€ëŠ¥ (ì°¸ê³ : [interpolation](https://www.i18next.com/translation-function/interpolation))\n\n```tsx\n// ì˜ˆì‹œ\ni18next.t(`{{email}}ì€ êµ¬ê¸€ ê³„ì •ì…ë‹ˆë‹¤.`, { email: 'example@gmail.com' }\n\n// ì˜ˆì‹œ2\n{i18next.t(`í”„ë¡œì íŠ¸ì˜ ì´ìš©ê¸°ê°„ì´ {{end_time}} í›„ë¡œ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤.`, {\n  end_time: moment(end_time).format('YYYY-MM-DD'),\n})}\n```\n\n**(2) ì–¸ì–´ë³„ ë³µìˆ˜ ë‹¨ìˆ˜ í‘œí˜„ ëŒ€ì‘í•˜ê¸°**(**_plural ê³¼ _0)**\n\n- interpolation ì†ì„± ì´ë¦„ìœ¼ë¡œ ë°˜ë“œì‹œ `count`ë¥¼ ì‚¬ìš©í•œë‹¤ . (ì°¸ê³ : [plurals](https://www.i18next.com/translation-function/plurals))\n- i18next.t()ë©”ì†Œë“œì˜ í‚¤ê°€ `ìµœëŒ€ ìº í˜ì¸ì˜ ìˆ˜ëŠ” {{count}}ê°œì…ë‹ˆë‹¤.`ì¼ ë•Œ,\n    - í•œêµ­ì–´ì™€ ê°™ì´ ëª…ì‚¬ì— ë³µìˆ˜í˜•ì´ ì—†ëŠ” ì–¸ì–´ì¼ ë•Œ: `ìµœëŒ€ ìº í˜ì¸ì˜ ìˆ˜ëŠ” {{count}}ê°œì…ë‹ˆë‹¤._0`ë§Œ ì‘ì„±\n    - ì˜ì–´ì™€ ê°™ì´ ë³µìˆ˜í˜•ì´ ìˆëŠ” ì–¸ì–´ì¼ ë•Œ: `ìµœëŒ€ ìº í˜ì¸ì˜ ìˆ˜ëŠ” {{count}}ê°œì…ë‹ˆë‹¤.`, `ìµœëŒ€ ìº í˜ì¸ì˜ ìˆ˜ëŠ” {{count}}ê°œì…ë‹ˆë‹¤._plural` ì‘ì„±\n\n```tsx\n// ì˜ˆì‹œ\n\ni18next.t(\n  `ìµœëŒ€ ìº í˜ì¸ì˜ ìˆ˜ëŠ” {{**count**}}ê°œì…ë‹ˆë‹¤.`, { **count**: projectStore.max_campaign_count },\n),\n```\n\n**(3) html íƒœê·¸ë¥¼ í¬í•¨í•œ í•œê¸€ ë²ˆì—­**\n\n- `<Trans />` ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©í•˜ì—¬ ë²ˆì—­í•œë‹¤.\n- `<Trans />` ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ React ì¡°ê±´ë¶€ ë Œë”ë§ ì‚¬ìš©ì´ ë¶ˆê°€í•˜ë‹¤.\n- i18nKeyì— htmlì„ í¬í•¨í•´ì•¼ í•œë‹¤. (ìì²´ ì»¨ë²¤ì…˜)\n    - Trans ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ìˆëŠ” í•œê¸€ì„ default valueë¡œ ì œëŒ€ë¡œ scaní•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤.\n    - i18next-scanner.config.jsì— ì„¤ì •ì„ ì¶”ê°€í•œ í›„ ìì²´ ì»¨ë²¤ì…˜ìœ¼ë¡œ htmlì„ í¬í•¨í•˜ë„ë¡ í•´ì„œ ë¬¸ì œë¥¼ í•´ê²°í–ˆë‹¤.\n\n**Before**\n\n```tsx\n...\n\n<div>\n  ì´ í”„ë¡œì íŠ¸ì— ë°œê¸‰ëœ ì¶”ì  IDëŠ” <strong>{ projectID }</strong>ì…ë‹ˆë‹¤. ì•„ë˜ì˜ ê¸°ë³¸ ì¶”ì  ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ\n  ë¸”ëŸ­ì„ ë³µì‚¬í•˜ì—¬\n  <br />\n  ì›¹ì‚¬ì´íŠ¸ HTML ì˜ ê³µí†µ ì˜ì—­ &lt;head&gt;&lt;&#47;head&gt;ì— ë¶™ì—¬ ë„£ìœ¼ì„¸ìš”.\n<div>\n```\n\n**After**\n\n```tsx\n\nimport { Trans, useTranslation } from 'react-i18next';\n\n// ì˜ˆì‹œ1\n<div>\n\t<Trans i18nKey=\"ì›¹ì‚¬ì´íŠ¸ ì—°ê²° ì¤€ë¹„ ì•ˆë‚´ html\">\n\t  ì´ í”„ë¡œì íŠ¸ì— ë°œê¸‰ëœ ì¶”ì  IDëŠ” <strong>{{ projectID }}</strong>ì…ë‹ˆë‹¤. ì•„ë˜ì˜ ê¸°ë³¸ ì¶”ì  ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ\n\t  ë¸”ëŸ­ì„ ë³µì‚¬í•˜ì—¬\n\t  <br />\n\t  ì›¹ì‚¬ì´íŠ¸ HTML ì˜ ê³µí†µ ì˜ì—­ &lt;head&gt;&lt;&#47;head&gt;ì— ë¶™ì—¬ ë„£ìœ¼ì„¸ìš”.\n\t</Trans>\n</div>\n\n// ì˜ˆì‹œ2\n<Trans i18nKey=\"ëŒ€ì‹œë³´ë“œ ë°ëª¨ ì²´í—˜ ì•ˆë‚´ html\">\n  ë°ëª¨ ì‡¼í•‘ëª°ì˜ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ {{ name_kr: dashboard_config.name_kr }} ëŒ€ì‹œë³´ë“œ ë‚´ì˜ ê¸°ëŠ¥ì„ <br />\n  ì²´í—˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n</Trans>\n```\n\n**(4) Trans ì»´í¬ë„ŒíŠ¸ì—ì„œ ë³µìˆ˜í˜• ì²˜ë¦¬ ì‚¬ìš©**\n\n- `npm run scan:i18n`ìœ¼ë¡œ _pluralì´ ì˜ ìƒì„±ë˜ëŠ”ì§€ í™•ì¸í•´ë´ì•¼ í•œë‹¤.\n\n```tsx\n// ì˜ˆì‹œ: -> _plural ê³¼ _0 ìƒì„±\n<Trans i18nKey=\"ì‚¬ìš©ì ë‚´ë³´ë‚´ê¸° html\" count={totalItem}>\n  <strong>{{ count: totalItem }}</strong>\n  ëª…ì˜ ì‚¬ìš©ìë¥¼ ë‚´ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n</Trans>\n```\n\n**(5) ì»´í¬ë„ŒíŠ¸ ë°”ê¹¥ì— ìˆëŠ” ë¬¸ìì—´ ë²ˆì—­**\n\n**ë°©ë²•1: Dummy function ì‚¬ìš©** \n\n```tsx\n// i18next.t()ë¡œ ê°ì‹¸ì§€ ì•Šì€ í•œê¸€ì„ i18next-scannerì—ì„œ scan í•´ì£¼ê¸° ìœ„í•´ ì”Œìš°ëŠ” dummy function\nexport const i18nextScanKey = (key: string): string => key;\n```\n\n```tsx\nimport { i18nextScanKey } from '../i18n';\nimport { useTranslation } from 'react-i18next';\n\nconst itemList = [\n\t{\n\t\tlabel: i18nextScanKey('ìˆ˜ì •')\n\t},\n\t{\n\t\tlabel: i18nextScanKey('ì €ì¥')\n\t}\n]\n\nconst MyComponent = ()=>{\n\tconst i18next = useTranslation();\n\n\treturn (\n\t\t{itemList.map((item) => <div>{`${i18next.t(item.label)}`}</div>)}\n\t);\n}\n\n```\n\n- dummy functionìœ¼ë¡œ ë²ˆì—­ì´ í•„ìš”í•œ ë¶€ë¶„ì„ ê°ì‹¸ì£¼ì–´ i18next-scannerê°€ ì¸ì‹í•  ìˆ˜ ìˆê²Œ ì„¤ì •í•œë‹¤.\n- (ì°¸ê³ : [using-react-i18next-t-function-outside-components-having-troubles-using-promise](https://stackoverflow.com/questions/58452182/using-react-i18next-t-function-outside-components-having-troubles-using-promise))\n- **interpolationì„ ëŒ€ì‘í•  ìˆ˜ ì—†ëŠ” ë¬¸ì œê°€ ìˆë‹¤.**\n\n**ë°©ë²•2: í•¨ìˆ˜ íŒŒë¼ë¯¸í„°ë¡œ i18next ë„˜ê¸°ê¸°**\n\n**Before**\n\n```jsx\nconst tabList = [\n  { id: 1, type: 'plan-payment', label: 'í”Œëœ ê²°ì œ ë‚´ì—­' },\n  { id: 2, type: 'credit-payment', label: 'ë§ˆì¼€íŒ… ì˜ˆì‚° ì¶©ì „ ë‚´ì—­' },\n  { id: 3, type: 'usage', label: 'í¬ë ˆë”§ ë° ë§ˆì¼€íŒ… ì˜ˆì‚° í˜„í™©' },\n];\n\nexport const MyComponent = ()=>{\n\t...\n}\n```\n\n**After**\n\n```jsx\nimport { useTranslation } from 'react-i18next';\nimport { I18Next } from '../../i18n';\n\nconst getTabList = (i18next: I18Next) => [\n  { id: 1, type: 'plan-payment', label: i18next.t('í”Œëœ ê²°ì œ ë‚´ì—­') },\n  { id: 2, type: 'credit-payment', label: i18next.t('ë§ˆì¼€íŒ… ì˜ˆì‚° ì¶©ì „ ë‚´ì—­') },\n  { id: 3, type: 'usage', label: i18next.t('í¬ë ˆë”§ ë° ë§ˆì¼€íŒ… ì˜ˆì‚° í˜„í™©') },\n];\n\nexport const MyComponent = ()=>{\n\tconst i18next = useTranslation();\n\tconst tabList = getTabList(i18next);\n\t...\n}\n```\n\n## ì„¤ì • ë°©ë²•\n\n### ë””ë ‰í† ë¦¬ êµ¬ì¡°\n\n```\nğŸ“‚src\n â”£ğŸ“‚i18n\n â”ƒ â”£ ğŸ“‚locales\n â”ƒ â”ƒ â”£ ğŸ“‚en-US\n â”ƒ â”ƒ â”ƒ â”— ğŸ“œtranslation.json\n â”ƒ â”ƒ â”— ğŸ“‚ko-KR\n â”ƒ â”ƒ â”ƒ â”— ğŸ“œtranslation.json\n â”ƒ â”— ğŸ“œindex.ts\n â”£ ğŸ“‚components\n...\nğŸ“‚translate\n â”£ ğŸ“‚.credentials\n â”ƒ â”£ ğŸ“œindex.js\n â”ƒ â”— ğŸ“œpractical-net-....json\n â”£ ğŸ“œdownload.js\n â”£ ğŸ“œindex.js\n â”— ğŸ“œupload.js\n...\nğŸ“œi18next-scanner.config.js\nğŸ“œpackage.json\n...\n```\n\n### ì„¤ì¹˜\n\n```bash\nyarn add react-i18next i18next @types/react-i18next @types/i18next i18next-scanner google-spreadsheet\n```\n\n### react-i18next ì„¤ì •\n\n/**src/i18n/index.ts** (ì°¸ê³ : [Configure i18next](https://react.i18next.com/guides/quick-start#configure-i18next))\n\n```tsx\nimport i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport koKR from './locales/ko-KR/translation.json';\nimport enUS from './locales/en-US/translation.json';\n\nconst resources = {\n  ko: { translation: koKR },\n  en: { translation: enUS },\n};\n\n// ë¸Œë¼ìš°ì € ì–¸ì–´ ì„¤ì • ê°€ì ¸ì˜¤ê¸°\nconst browserLang = window.navigator.language.split('-')[0];\n\n// localStorageì—ì„œ ì–¸ì–´ ì„¤ì • ê°€ì ¸ì˜¤ê¸°\nconst userLanguage = [localStorageì—ì„œ ì–¸ì–´ ì„¤ì • ê°€ì ¸ì˜¤ê¸°] ?? browserLang;\n\ni18n.use(initReactI18next).init({\n  resources,\n  lng: userLanguage || 'ko',\n  fallbackLng: 'ko',\n  debug: false,\n  defaultNS: 'translation',\n  ns: 'translation',\n  keySeparator: false,\n  interpolation: {\n    escapeValue: false,\n    alwaysFormat: true,\n    format(value, format, lng) {\n      if (format === 'uppercase') return value.toUpperCase();\n\t\t\t// interpolation ë˜ëŠ” ê°’ì´ numberë¡œ ë“¤ì–´ì˜¬ ë•Œ, ì–¸ì–´ ì„¤ì •ì— ë§ëŠ” locale stringìœ¼ë¡œ ë³€í™˜í•´ì„œ ë°˜í™˜\n      if (typeof value === 'number') return value.toLocaleString(lng);\n      return value;\n    },\n  },\n  react: {\n    defaultTransParent: 'div',\n    transEmptyNodeValue: '',\n    transSupportBasicHtmlNodes: true,\n\t\t// <Trans> ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ë“¤ì–´ê°€ëŠ” html íƒœê·¸ë“¤\n    transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'button', 'a', 'span', 'div', 'input'],\n    transWrapTextNodes: '',\n  },\n  nsSeparator: '=>', // default: ':', :ê°€ ë²ˆì—­ í‚¤ì— í¬í•¨ë˜ëŠ” ì‚¬ë¡€ê°€ ìˆì–´, ë²ˆì—­ í‚¤ë¡œ ì‚¬ìš©ë˜ì§€ ì•Šì„ ê²ƒ ê°™ì€ seperatorë¥¼ ì„¤ì •\n});\n\nexport default i18n;\n\n// i18nextë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê¸¸ ë•Œ ì‚¬ìš©í•  ì¸í„°í˜ì´ìŠ¤ íƒ€ì…\nexport interface I18Next {\n  t: (str: string, option?: Object) => string;\n}\n\n// scannerë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ dummy function\nexport const i18nextScanKey = (key: string): string => key;\n```\n\n### i18next-scanner ì„¤ì •\n\n/**i18next-scanner.config.js**\n\n```jsx\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst typescript = require(\"typescript\");\n\nconst COMMON_EXTENSIONS = '/**/*.{js,jsx,ts,tsx,vue,html}';\n\nmodule.exports = {\n  input: [`./src/${COMMON_EXTENSIONS}`],\n  options: {\n    debug: false,\n    // removeUnusedKeys: true,\n    defaultLng: 'ko-KR',\n    lngs: ['ko-KR', 'en-US'],\n    func: {\n      list: ['i18next.t', 'i18n.t', '$i18n.t', '$i18next.t', 'i18nextScanKey'],\n      extensions: ['.js', '.jsx'],\n    },\n    trans: {\n      component: 'Trans',\n      i18nKey: 'i18nKey',\n      defaultsKey: 'defaults',\n      extensions: ['.js', '.jsx'],\n      fallbackKey: function(ns, value) {\n        return value;\n      },\n      acorn: {\n          ecmaVersion: 10,\n          sourceType: 'module',\n      }\n    },\n    resource: {\n      loadPath: path.join(__dirname, '/src/i18n/locales/{{lng}}/{{ns}}.json'),\n      savePath: path.join(__dirname, '/src/i18n/locales/{{lng}}/{{ns}}.json'),\n    },\n    defaultValue(lng, ns, key) {\n      const keyAsDefaultValue = ['ko-KR'];\n      if (keyAsDefaultValue.includes(lng)) {\n        const separator = 'html';\n        const value = key.includes(separator) ? '' : key;\n        return value;\n      }\n      return '[ì‘ì„± í•„ìš”]';\n    },\n    keySeparator: false,\n    nsSeparator: false,\n    prefix: '{{',\n    suffix: '}}',\n  },\n  transform: function typescriptTransform(\n    options = {\n      tsOptions: {\n        target: \"es2018\",\n      },\n      extensions: [\".ts\", \".tsx\"],\n    }\n  ) {\n    return function transform(file, enc, done) {\n      const { base, ext } = path.parse(file.path);\n  \n      if (options.extensions.includes(ext) && !base.endsWith(\".d.ts\") && base.indexOf(\"reportWebVitals.ts\") === -1) {\n        const content = fs.readFileSync(file.path, enc);\n  \n        const { outputText } = typescript.transpileModule(content, {\n          compilerOptions: options.tsOptions,\n          fileName: path.basename(file.path),\n        });\n  \n        this.parser.parseTransFromString(outputText);\n        this.parser.parseFuncFromString(outputText);\n      }\n  \n      done();\n    };\n  }({ extensions: [\".tsx\", '.ts'], tsOptions: {\n    target: 'es5',\n    module: 'esnext',\n  }, })\n};\n```\n\n### Google Spread Sheet ì—°ë™\n\n1. [https://console.cloud.google.com/apis/dashboard](https://console.cloud.google.com/apis/dashboard) ì´ë™\n2. ì‚¬ìš©ì ì •ë³´ ì¸ì¦ íƒ­ìœ¼ë¡œ ì´ë™\n    \n    <img width=\"1423\" alt=\"4\" src=\"https://user-images.githubusercontent.com/46799722/159149914-e3da4f30-f730-4cb3-a9c6-312ff99c0358.png\">\n    \n3. ì‚¬ìš©ì ì¸ì¦ ì •ë³´ ë§Œë“¤ê¸° â†’ ì„œë¹„ìŠ¤ ê³„ì • í´ë¦­\n    \n    <img width=\"976\" alt=\"5\" src=\"https://user-images.githubusercontent.com/46799722/159149915-0517966b-b210-4b7d-8362-e664f6b03353.png\">\n    \n4. ì„œë¹„ìŠ¤ ê³„ì • ì´ë¦„ ì…ë ¥ í›„ ì™„ë£Œ í´ë¦­\n    \n    <img width=\"608\" alt=\"6\" src=\"https://user-images.githubusercontent.com/46799722/159149916-9b7521df-b997-462e-aa6e-f5f63ef9da85.png\">\n    \n5. ìƒì„±í•œ ì„œë¹„ìŠ¤ ê³„ì • í´ë¦­\n    \n    <img width=\"1156\" alt=\"7\" src=\"https://user-images.githubusercontent.com/46799722/159149918-7c065d1c-fbed-46d3-bc02-f7aafd953adb.png\">\n    \n6. í‚¤ íƒ­ìœ¼ë¡œ ì´ë™í•˜ì—¬ ìƒˆ í‚¤ ìƒì„±\n    \n    <img width=\"1161\" alt=\"8\" src=\"https://user-images.githubusercontent.com/46799722/159149919-f065073d-0555-4709-a1d7-5655386309fa.png\">\n    \n7. í‚¤ ìœ í˜• JSONìœ¼ë¡œ ì„ íƒ â†’ json íŒŒì¼ ë‹¤ìš´ë¡œë“œ â†’ react í”„ë¡œì íŠ¸ ìµœìƒë‹¨ì— translate/.credentials í´ë” ìƒì„±í›„ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ì—ì„œ ë‹¤ìš´ ë°›ì€ JSON íŒŒì¼ ì €ì¥\n    \n    <img width=\"557\" alt=\"9\" src=\"https://user-images.githubusercontent.com/46799722/159149920-bea956ca-97c5-4baa-8c9e-1d25ccd30bcf.png\">\n    \n8. ì„¸ë¶€ ì •ë³´ â†’ ì´ë©”ì¼ ë³µì‚¬ â†’ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ì— ê³µìœ  í´ë¦­ â†’ ì´ë©”ì¼ ì¶”ê°€\n\n<img width=\"771\" alt=\"10\" src=\"https://user-images.githubusercontent.com/46799722/159149922-235997fb-68e3-4b18-82e3-471ce6d22fff.png\">\n\n<img width=\"1383\" alt=\"11\" src=\"https://user-images.githubusercontent.com/46799722/159149923-0942d37f-9dd8-4c88-b358-5864e352c1ce.png\">\n\n<img width=\"620\" alt=\"12\" src=\"https://user-images.githubusercontent.com/46799722/159149924-87391178-b113-45a7-a783-8585ab29a8b6.png\">\n\n### translate ë””ë ‰í† ë¦¬\n\n**translate/.credentials/index.js**\n\ntranslate/.credentials ë””ë ‰í† ë¦¬ë¥¼ .gitignoreì— ì¶”ê°€í•˜ê¸°\n\n```bash\nmodule.exports={\n    CREDS: '[êµ¬ê¸€ ì„œë¹„ìŠ¤ ê³„ì • ì„¤ì • ì‹œ ë‹¤ìš´ë¡œë“œ ë°›ì€ json íŒŒì¼ ì´ë¦„].json',\n    SHEET_DOC_ID: \"[sheet document id]\",\n    SHEET_ID: 1\n}\n```\n\n**translate/index.js**\n\n```jsx\nconst {GoogleSpreadsheet} = require('google-spreadsheet');\nconst ENV = require('./.credentials/index.js');\nconst creds = require('./.credentials/' + ENV.CREDS);\nconst i18nextConfig = require('../i18next-scanner.config');\n\nconst spreadsheetDocId = ENV.SHEET_DOC_ID;\nconst ns = 'translation';\nconst lngs = i18nextConfig.options.lngs;\nconst loadPath = i18nextConfig.options.resource.loadPath;\nconst localesPath = loadPath.replace('/{{lng}}/{{ns}}.json', '');\nconst rePluralPostfix = new RegExp(/_plural|_[\\d]/g);\nconst sheetId = ENV.SHEET_ID; // your sheet id\nconst NOT_AVAILABLE_CELL = '_N/A';\nconst columnKeyToHeader = {\n  key: 'í‚¤',\n  'ko-KR': 'í•œê¸€',\n  'en-US': 'ì˜ì–´',\n};\n\n/**\n * getting started from https://theoephraim.github.io/node-google-spreadsheet\n */\nasync function loadSpreadsheet() {\n  // eslint-disable-next-line no-console\n  console.info(\n    '\\u001B[32m',\n    '=====================================================================================================================\\n',\n    '# i18next auto-sync using Spreadsheet\\n\\n',\n    '  * Download translation resources from Spreadsheet and make /src/i18n/locales/{{lng}}/{{ns}}.json\\n',\n    '  * Upload translation resources to Spreadsheet.\\n\\n',\n    `The Spreadsheet for translation is here (\\u001B[34mhttps://docs.google.com/spreadsheets/d/${spreadsheetDocId}/#gid=${sheetId}\\u001B[0m)\\n`,\n    '=====================================================================================================================',\n    '\\u001B[0m'\n  );\n\n  // spreadsheet key is the long id in the sheets URL\n  const doc = new GoogleSpreadsheet(spreadsheetDocId);\n\n  // load directly from json file if not in secure environment\n  await doc.useServiceAccountAuth(creds);\n\n  await doc.loadInfo(); // loads document properties and worksheets\n\n  return doc;\n}\n\nfunction getPureKey(key = '') {\n  return key.replace(rePluralPostfix, '');\n}\n\nmodule.exports = {\n  localesPath,\n  loadSpreadsheet,\n  getPureKey,\n  ns,\n  lngs,\n  sheetId,\n  columnKeyToHeader,\n  NOT_AVAILABLE_CELL,\n};\n```\n\n**translate/upload.js**\n\n```jsx\nconst fs = require('fs');\nconst {\n  loadSpreadsheet,\n  localesPath,\n  getPureKey,\n  ns,\n  lngs,\n  sheetId,\n  columnKeyToHeader,\n  NOT_AVAILABLE_CELL,\n} = require('./index');\n\nconst headerValues = ['í‚¤', 'í•œê¸€', 'ì˜ì–´'];\n\nasync function addNewSheet(doc, title, sheetId) {\n  const sheet = await doc.addSheet({\n    sheetId,\n    title,\n    headerValues,\n  });\n\n  return sheet;\n}\n\nasync function updateTranslationsFromKeyMapToSheet(doc, keyMap) {\n  const title = '[Sheet ì´ë¦„]';\n  let sheet = doc.sheetsById[sheetId];\n  if (!sheet) {\n    sheet = await addNewSheet(doc, title, sheetId);\n  }\n\n  const rows = await sheet.getRows();\n\n  // find exsit keys\n  const exsitKeys = {};\n  const addedRows = [];\n  rows.forEach((row) => {\n    const key = row[columnKeyToHeader.key];\n    if (keyMap[key]) {\n      exsitKeys[key] = true;\n    }\n  });\n\n  for (const [key, translations] of Object.entries(keyMap)) {\n    if (!exsitKeys[key]) {\n      const row = {\n        [columnKeyToHeader.key]: key,\n        ...Object.keys(translations).reduce((result, lng) => {\n          const header = columnKeyToHeader[lng];\n          result[header] = translations[lng];\n\n          return result;\n        }, {}),\n      };\n\n      addedRows.push(row);\n    }\n  }\n\n  // upload new keys\n  await sheet.addRows(addedRows);\n}\n\nfunction toJson(keyMap) {\n  const json = {};\n\n  Object.entries(keyMap).forEach(([__, keysByPlural]) => {\n    for (const [keyWithPostfix, translations] of Object.entries(keysByPlural)) {\n      json[keyWithPostfix] = {\n        ...translations,\n      };\n    }\n  });\n\n  return json;\n}\n\nfunction gatherKeyMap(keyMap, lng, json) {\n  for (const [keyWithPostfix, translated] of Object.entries(json)) {\n    const key = getPureKey(keyWithPostfix);\n\n    if (!keyMap[key]) {\n      keyMap[key] = {};\n    }\n\n    const keyMapWithLng = keyMap[key];\n    if (!keyMapWithLng[keyWithPostfix]) {\n      keyMapWithLng[keyWithPostfix] = lngs.reduce((initObj, lng) => {\n        initObj[lng] = NOT_AVAILABLE_CELL;\n\n        return initObj;\n      }, {});\n    }\n\n    keyMapWithLng[keyWithPostfix][lng] = translated;\n  }\n}\n\nasync function updateSheetFromJson() {\n  const doc = await loadSpreadsheet();\n\n  fs.readdir(localesPath, (error, lngs) => {\n    if (error) {\n      throw error;\n    }\n\n    const keyMap = {};\n\n    lngs.forEach((lng) => {\n      const localeJsonFilePath = `${localesPath}/${lng}/${ns}.json`;\n\n      // eslint-disable-next-line no-sync\n      const json = fs.readFileSync(localeJsonFilePath, 'utf8');\n\n      gatherKeyMap(keyMap, lng, JSON.parse(json));\n    });\n\n    updateTranslationsFromKeyMapToSheet(doc, toJson(keyMap));\n  });\n}\n\nupdateSheetFromJson();\n```\n\n**translate/download.js**\n\n```jsx\nconst fs = require('fs');\nconst mkdirp = require('mkdirp');\nconst {loadSpreadsheet, localesPath, ns, lngs, sheetId, columnKeyToHeader, NOT_AVAILABLE_CELL} = require('./index');\n\n/**\n * fetch translations from google spread sheet and transform to json\n * @param {GoogleSpreadsheet} doc GoogleSpreadsheet document\n * @returns [object] translation map\n * {\n *   \"ko-KR\": {\n *     \"key\": \"value\"\n *   },\n *   \"en-US\": {\n *     \"key\": \"value\"\n *   },\n * }\n */\nasync function fetchTranslationsFromSheetToJson(doc) {\n  const sheet = doc.sheetsById[sheetId];\n  if (!sheet) {\n    return {};\n  }\n\n  const lngsMap = {};\n  const rows = await sheet.getRows();\n\n  rows.forEach((row) => {\n    const key = row[columnKeyToHeader.key];\n    lngs.forEach((lng) => {\n      const translation = row[columnKeyToHeader[lng]];\n      // NOT_AVAILABLE_CELL(\"_N/A\") means no related language\n      if (translation === NOT_AVAILABLE_CELL) {\n        return;\n      }\n\n      if (!lngsMap[lng]) {\n        lngsMap[lng] = {};\n      }\n\n      lngsMap[lng][key] = translation || ''; // prevent to remove undefined value like ({\"key\": undefined})\n    });\n  });\n\n  return lngsMap;\n}\n\nfunction checkAndMakeLocaleDir(dirPath, subDirs) {\n  return new Promise((resolve) => {\n    subDirs.forEach((subDir, index) => {\n      mkdirp(`${dirPath}/${subDir}`, (err) => {\n        if (err) {\n          throw err;\n        }\n\n        if (index === subDirs.length - 1) {\n          resolve();\n        }\n      });\n    });\n  });\n}\n\nasync function updateJsonFromSheet() {\n  await checkAndMakeLocaleDir(localesPath, lngs);\n\n  const doc = await loadSpreadsheet();\n  const lngsMap = await fetchTranslationsFromSheetToJson(doc);\n\n  fs.readdir(localesPath, (error, lngs) => {\n    if (error) {\n      throw error;\n    }\n\n    lngs.forEach((lng) => {\n      const localeJsonFilePath = `${localesPath}/${lng}/${ns}.json`;\n\n      const jsonString = JSON.stringify(lngsMap[lng], null, 2);\n\n      fs.writeFile(localeJsonFilePath, jsonString, 'utf8', (err) => {\n        if (err) {\n          throw err;\n        }\n      });\n    });\n  });\n}\n\nupdateJsonFromSheet();\n```\n\n### **package.jsonì— script ì¶”ê°€**\n\n```json\n...\n\"scripts\": {\n\t...\n\t\"scan:i18n\": \"i18next-scanner --config i18next-scanner.config.js\",\n\t\"upload:i18n\": \"npm run scan:i18n && node translate/upload.js\",\n\t\"download:i18n\": \"node translate/download.js\",\n\t...\n},\n...\n\n```"}},"__N_SSG":true}